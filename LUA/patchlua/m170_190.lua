require("include")

function m170_190()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m170")
  SetEventCutNo(3)
  SetTimeZone("Noon")
  SetMapStatus("Disable")
  SetTimeAxis("A2020_dbef_170")
  LoadMap("d0303")
  LoadModel("chr940_01", "char_SHARKMON_BOSS")
  LoadModel("chr606_01", "char_HANGYOMON")
  LoadModel("chr130_01", "char_COELAMON")
  LoadModel("chr606_02", "char_HANGYOMON")
  LoadModel("chr130_02", "char_COELAMON")
  LoadSceneViewerResource("c1.0", "d0303f_sa")
  LoadSceneViewerResource("c2.0", "d0303f_sa")
  LoadSceneViewerResource("c3.0", "d0303f_sa")
  LoadEnvironmentFile("c1.0", "es_m170_190_c1.0")
  LoadEnvironmentFile("c2.0", "es_m170_190_c2.0")
  LoadEnvironmentFile("c3.0", "es_m170_190_c3.0")
  WaitVistaLoad()
  SetPosition("chr940_01", -9.059, -9.715, 27.498, "LINEAR", 0, 0)
  SetRotation("chr940_01", 0, 137.5, 0, "LINEAR", 0, 0)
  SetScale("chr940_01", 2.66, 2.66, 2.66)
  SetPosition("chr606_01", -6.157, -7.513, 19.984, "LINEAR", 0, 0)
  SetRotation("chr606_01", 0, -27, 0, "LINEAR", 0, 0)
  SetPosition("chr130_01", -4.6, -5.953, 19.788, "LINEAR", 0, 0)
  SetRotation("chr130_01", 0, -23, 0, "LINEAR", 0, 0)
  SetScale("chr130_01", 1.42, 1.42, 1.42)
  SetPosition("chr606_02", -2.762, -5.103, 23.735, "LINEAR", 0, 0)
  SetRotation("chr606_02", 0, -51.5, 0, "LINEAR", 0, 0)
  SetPosition("chr130_02", -0.195, -7.561, 24.014, "LINEAR", 0, 0)
  SetRotation("chr130_02", 0, -77, 0, "LINEAR", 0, 0)
  SetScale("chr130_02", 1.42, 1.42, 1.42)
  PlayMotion("chr940_01", "bn01", 0, true, 0)
  SetFace("chr940_01", "F01_M01", 0, 2, 0, 0)
  PlayMotion("chr606_01", "e500", 0, true, 0)
  ChangeDigimonFace("chr606_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr606_01", 1, 0, 0)
  PlayMotion("chr130_01", "bn01", 0, true, 0)
  ChangeDigimonFace("chr130_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr130_01", 1, 0, 0)
  PlayMotion("chr606_02", "e500", 0, true, 0)
  ChangeDigimonFace("chr606_02", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr606_02", 1, 0, 0)
  PlayMotion("chr130_02", "bn01", 0, true, 0)
  ChangeDigimonFace("chr130_02", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr130_02", 1, 0, 0)
  BlendFaceDigi("chr940_01", 0, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr606_01", 0, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr130_01", 0, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr606_02", 0, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr130_02", 0, 0, 0, "SCURVE", 0, 0)
  SetCamera(-15.773, 19.977, -3.91, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-4.574, -7.447, 25.84, "LINEAR", 0, false, 0)
  SetCamera(-13.291, 13.899, 2.683, 0, 30, "LINEAR", 200, false, 0)
  SetCameraTarget(-4.574, -7.447, 25.84, "LINEAR", 200, false, 0)
  Event_Stop_Play_BGM(308, 1, 0, 0, BGM_FADE_TIME)
  SetEnv_All("c1.0", 0)
  FIELD_SET()
  Field_InvisibleMob(FOR_ALL, INVISIBLE_KEY_EVENT, 0, false)
  ObjectInvisible(FOR_ALL)
  NpcInvisible(FOR_ALL)
  RumorNpcInvisible(FOR_ALL)
  EVENT_START()
  CUT("1.0")
  Fade_In(0, 60)
  WaitFrame(100)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(-7.628, -4.526, 21.445, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-5.345, -6.668, 26.82, "LINEAR", 0, false, 0)
  SetCamera(-8.761, -4.407, 21.974, 0, 40, "LINEAR", 200, true, 0)
  SetCameraTarget(-6.478, -6.548, 27.349, "LINEAR", 200, true, 0)
  WaitFrame(50)
  MessageTalk("m170_190_010")
  MessageTalk("m170_190_015")
  MessageClose()
  WaitFrame(10)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetPosition("chr606_01", -5.975, -8.078, 20.282, "LINEAR", 0, 0)
  SetRotation("chr606_01", 0, -6, 0, "LINEAR", 0, 0)
  SetPosition("chr130_01", -6.041, -6.254, 19.297, "LINEAR", 0, 0)
  SetRotation("chr130_01", 0, -9.5, 0, "LINEAR", 0, 0)
  SetPosition("chr606_02", -2.111, -5.881, 23.297, "LINEAR", 0, 0)
  SetRotation("chr606_02", 0, -51.5, 0, "LINEAR", 0, 0)
  SetPosition("chr130_02", -1.889, -8.298, 23.208, "LINEAR", 0, 0)
  SetRotation("chr130_02", 0, -67.5, 0, "LINEAR", 0, 0)
  SetScale("chr130_02", 1.42, 1.42, 1.42)
  SetCamera(-2.321, -6.849, 18.472, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-7.105, -5.565, 25.425, "LINEAR", 0, false, 0)
  SetCamera(0.654, -7.714, 14.12, 0, 30, "LINEAR", 180, true, 0)
  SetCameraTarget(-7.124, -5.627, 25.424, "LINEAR", 180, true, 0)
  WaitFrame(40)
  PlayMotion("chr940_01", "fq02", 5, false, 0)
  PlayMotion("chr940_01", "bn01", 3, true, 60)
  MessageTalk("m170_190_020")
  MessageClose()
  WaitFrame(10)
  Event_StopBGM(2, 0)
  Fade_OutNoLoadingWithWait(0, FADE_TIME)
  WaitFrame(60)
  Vista.SetKeepBGM()
  Vista.SetKeepBGMWithMapChange()
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m170_190()
end
