require("include")

function m300_120()
  Fade_Out(1, 0)
  EVENT_BEGIN()
  Talk.Load("m300")
  SetEventCutNo(8)
  if Debug.IsEventView() then
    SetTimeZone("Night")
    SetTimeAxis("A2028_daft_300")
    LoadMap("t3001")
  end
  Load_Relief()
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  LoadModel("npc013aa010101_01", "char_MIREI_CHILD")
  LoadModel("chr188aa010101_01", "char_AEGIOCHUSMON_GREEN")
  LoadObject("t3001jewel03_01", "t3001jewel03")
  LoadObject("t3001reliefparts03_01", "t3001reliefparts03")
  LoadObject("t3001digi03_01", "t3001digi03")
  LoadObject("t3001reliefparts11_01", "t3001reliefparts11")
  LoadObject("t3001jewel01_01", "t3001jewel01")
  LoadObject("t3001jewel02_01", "t3001jewel02")
  LoadObject("t3001reliefparts01_01", "t3001reliefparts01")
  LoadObject("t3001reliefparts02_01", "t3001reliefparts02")
  LoadObject("t3001digi01_01", "t3001digi01")
  LoadObject("t3001digi02_01", "t3001digi02")
  LoadObject("t3001reliefparts12_01", "t3001reliefparts12")
  LoadEffectScript("ef_e_com_270_01", "ef_e_com_270")
  LoadEffectScript("ef_e_com_312_01", "ef_e_com_312")
  LoadEffectScript("ef_e_com_313_01", "ef_e_com_313")
  Vista.BindSpeaker("npc013aa010101_01", "char_MIREI")
  Vista.BindSpeaker("chr188aa010101_01", "char_AEGIOCHUSMON")
  LoadSceneViewerResource("c1.0", "t3001f_pn")
  LoadSceneViewerResource("c2.0", "t3001f_pn")
  LoadSceneViewerResource("c3.0", "t3001f_pn")
  LoadSceneViewerResource("c4.0", "t3001f_pn")
  LoadSceneViewerResource("c5.0", "t3001f_pn")
  LoadSceneViewerResource("c6.0", "t3001f_pn")
  LoadSceneViewerResource("c7.0", "t3001f_pn")
  LoadSceneViewerResource("c8.0", "t3001f_pn")
  LoadEnvironmentFile("c1.0", "es_m300_120_c1.0")
  LoadEnvironmentFile("c2.0", "es_m300_120_c2.0")
  LoadEnvironmentFile("c3.0", "es_m300_120_c3.0")
  LoadEnvironmentFile("c4.0", "es_m300_120_c4.0")
  LoadEnvironmentFile("c5.0", "es_m300_120_c5.0")
  LoadEnvironmentFile("c6.0", "es_m300_120_c6.0")
  LoadEnvironmentFile("c7.0", "es_m300_120_c7.0")
  LoadEnvironmentFile("c8.0", "es_m300_120_c8.0")
  WaitVistaLoad()
  SetPosition("HERO_01", -0.825, 0, -9.88, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 0, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 0.9, 0, -9.978, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -7, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", 0, 0, -9.347, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 0, 0, "LINEAR", 0, 0)
  SetPosition("npc013aa010101_01", 0, 0, -4.68, "LINEAR", 0, 0)
  SetRotation("npc013aa010101_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("chr188aa010101_01", 0, 0, -6.38, "LINEAR", 0, 0)
  SetRotation("chr188aa010101_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("t3001jewel03_01", 0, 12.57, -24.8, "LINEAR", 0, 0)
  SetRotation("t3001jewel03_01", 0, 0, 0, "LINEAR", 0, 0)
  SetScale("t3001jewel03_01", 1, 1, 1)
  SetPosition("t3001reliefparts03_01", 0, 12.57, -24.85, "LINEAR", 0, 0)
  SetRotation("t3001reliefparts03_01", 0, 0, 0, "LINEAR", 0, 0)
  SetScale("t3001reliefparts03_01", 1, 1, 1)
  SetPosition("t3001digi03_01", 0, 10.5, -24.3, "LINEAR", 0, 0)
  SetRotation("t3001digi03_01", 0, 0, 0, "LINEAR", 0, 0)
  SetScale("t3001digi03_01", 1, 1, 1)
  SetPosition("t3001reliefparts11_01", 0, 12.57, -24.85, "LINEAR", 0, 0)
  SetRotation("t3001reliefparts11_01", 0, 0, 0, "LINEAR", 0, 0)
  SetPosition("t3001jewel01_01", 0, 12.57, -24.8, "LINEAR", 0, 0)
  SetRotation("t3001jewel01_01", 0, 0, 0, "LINEAR", 0, 0)
  SetPosition("t3001jewel02_01", 0, 12.57, -24.8, "LINEAR", 0, 0)
  SetRotation("t3001jewel02_01", 0, 0, 0, "LINEAR", 0, 0)
  SetPosition("t3001reliefparts01_01", -3.3, 12.57, -25.45, "LINEAR", 0, 0)
  SetRotation("t3001reliefparts01_01", 0, 0, 0, "LINEAR", 0, 0)
  SetPosition("t3001reliefparts02_01", 3.3, 12.57, -25.45, "LINEAR", 0, 0)
  SetRotation("t3001reliefparts02_01", 0, 0, 0, "LINEAR", 0, 0)
  SetPosition("t3001digi01_01", 0, 10.5, -24.3, "LINEAR", 0, 0)
  SetRotation("t3001digi01_01", 0, 0, 0, "LINEAR", 0, 0)
  SetPosition("t3001digi02_01", 0, 10.5, -24.3, "LINEAR", 0, 0)
  SetRotation("t3001digi02_01", 0, 0, 0, "LINEAR", 0, 0)
  SetPosition("t3001reliefparts12_01", 0, 12.57, -24.85, "LINEAR", 0, 0)
  SetRotation("t3001reliefparts12_01", 0, 0, 0, "LINEAR", 0, 0)
  SetPosition("t3001movewall00_01", 0, 7.8, -25.1, "LINEAR", 0, 0)
  SetRotation("t3001movewall00_01", 0, 0, 0, "LINEAR", 0, 0)
  SetPosition("ef_e_com_270_01", 0, 12.57, -24.8, "LINEAR", 0, 0)
  SetRotation("ef_e_com_270_01", 0, 0, -98.22, "LINEAR", 0, 0)
  SetScale("ef_e_com_270_01", 1, 1, 1)
  SetPosition("ef_e_com_312_01", 0, 0, -6.38, "LINEAR", 0, 0)
  SetRotation("ef_e_com_312_01", 0, 0, 0, "LINEAR", 0, 0)
  SetScale("ef_e_com_312_01", 0.5, 0.5, 0.5)
  SetPosition("ef_e_com_313_01", 0, 0, -6.38, "LINEAR", 0, 0)
  SetRotation("ef_e_com_313_01", 0, 0, 0, "LINEAR", 0, 0)
  SetScale("ef_e_com_313_01", 0.5, 0.5, 0.5)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, 0, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, 0, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_01", "F01", 0, 1, 0, 0)
  PlayMotion("npc013aa010101_01", "fn01_01", 0, true, 0)
  SetFace("npc013aa010101_01", "F01", 0, 1, 0, 0)
  PlayMotion("chr188aa010101_01", "bn01", 0, true, 0)
  SetFace("chr188aa010101_01", "F01", 0, 1, 0, 0)
  PlayMotion("t3001jewel01_01", "e002", 0, true, 0)
  PlayMotion("t3001jewel02_01", "e002", 0, true, 0)
  PlayMotion("t3001reliefparts01_01", "e002", 0, true, 0)
  PlayMotion("t3001reliefparts02_01", "e002", 0, true, 0)
  PlayMotion("t3001digi01_01", "e002", 0, true, 0)
  PlayMotion("t3001digi02_01", "e002", 0, true, 0)
  PlayMotion("t3001reliefparts12_01", "e002", 0, true, 0)
  PlayMotion("t3001movewall00_01", "e001", 0, false, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 23, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 15, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 14, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("npc013aa010101_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("npc013aa010101_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("chr188aa010101_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("chr188aa010101_01", 0, 0, 0, false, "SCURVE", 0, 0)
  SetEnv_All("c1.0", 0)
  SetCamera(0, 8.384, -11.046, 0, 40, "LINEAR", 0, false, 0, false)
  SetCameraTarget(0, 10.978, -25.908, "LINEAR", 0, false, 0, false)
  Event_PlayBGM(114, 0, 0)
  if Debug.IsEventView() then
  else
    local BGM, SE = Field.GetCurrentMapDefaultBGM()
    Sound.PlayBGM(BGM, 0)
  end
  FIELD_SET()
  ObjectInvisible(FOR_ALL)
  EVENT_START()
  CUT("1.0")
  SetCamera(0.167, 12.141, -20.543, 0, 33, "LINEAR", 0, false, 0, false)
  SetCameraTarget(0.01, 12.538, -24.809, "LINEAR", 0, false, 0, false)
  SetCamera(0.26, 11.903, -17.98, 0, 33, "DECEL", 35, true, 32, false)
  SetCameraTarget(0.01, 12.538, -24.809, "DECEL", 35, true, 32, false)
  SetCamera(0.246, 11.941, -18.385, 0, 30, "LINEAR", 0, false, 77)
  SetCameraTarget(0.01, 12.538, -24.809, "LINEAR", 0, false, 77)
  SetCamera(0.26, 11.903, -17.98, 0, 33, "LINEAR", 2, true, 77, false)
  SetCameraTarget(0.01, 12.538, -24.809, "LINEAR", 2, true, 77, false)
  ModelVisible("t3001movewall00_01", false, 0, 0)
  FadeInWithWait(FADE_WHITE, 30)
  Event_PlaySE(401045, 100, false, 0, 0)
  Event_PlaySE(401046, 100, false, 0, 1.6)
  PlayEffect("ef_e_com_270_01", false, 0)
  PlayMotion("t3001jewel03_01", "e001", 0, false, 0)
  PlayMotion("t3001jewel03_01", "e002", 0, true, 60)
  CtrVibration(1, 0, 3, 48)
  CtrVibration(0, 0, 0, 51)
  WaitFrame(70)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(0, 8.353, -17.228, 0, 40, "LINEAR", 0, false, 0, false)
  SetCameraTarget(0, 9.868, -25.908, "LINEAR", 0, false, 0, false)
  SetCamera(0, 8.282, -16.822, 0, 40, "SCURVE", 120, true, 0, false)
  SetCameraTarget(0, 9.868, -25.908, "SCURVE", 120, true, 0, false)
  Event_PlaySE(200018, 60, false, 0, 0)
  PlayMotion("t3001reliefparts03_01", "e001", 0, false, 0)
  PlayMotion("t3001reliefparts03_01", "e002", 0, true, 24)
  PlayMotion("t3001reliefparts11_01", "e001", 0, false, 0)
  PlayMotion("t3001reliefparts11_01", "e002", 0, true, 24)
  WaitFrame(40)
  Event_PlaySE(401047, 100, false, 0, 0)
  PlayMotion("t3001digi03_01", "e001", 0, false, 0)
  PlayMotion("t3001digi03_01", "e002", 0, true, 60)
  Event_Quake_Start(3, 3, 10, 25)
  WaitFrame(105)
  MovePosition("HERO_01", -0.825, 0, -6.88, true, 1.1, 0)
  MovePosition("HEROINE_01", 0.534, 0, -7, true, 1, 0)
  MoveRotation("HEROINE_01", 0, -7, 0, "LINEAR", 1, true, 0)
  MovePosition("AEGIOMON_01", 0, 0, -6.38, true, 1.4, 0)
  WaitFrame(5)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(0.559, 1.505, -4.548, 0, 40, "LINEAR", 0, false, 0, false)
  SetCameraTarget(0, 1.76, -6.42, "LINEAR", 0, false, 0, false)
  SetCamera(0.559, 0.745, -4.548, 0, 40, "DECEL", 90, true, 0, false)
  SetCameraTarget(0, 1, -6.42, "DECEL", 90, true, 0, false)
  ModelVisible("chr188aa010101_01", false, 0, 0)
  Event_PlayBGM(114, 3, 0)
  WaitFrame(86)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetCamera(0.455, 1.034, -6.994, 0, 30, "LINEAR", 0, false, 0, false)
  SetCameraTarget(-0.135, 0.962, -5.609, "LINEAR", 0, false, 0, false)
  SetCamera(0.455, 1.034, -6.994, 0, 30, "LINEAR", 90, true, 0, false)
  SetCameraTarget(-0.135, 0.962, -5.369, "LINEAR", 90, true, 0, false)
  ModelVisible("HEROINE_01", false, 0, 0)
  WaitFrame(40)
  PlayMotion("npc013aa010101_01", "e002", 4, true, 0)
  MessageTalk("m300_120_010")
  MessageClose()
  WaitFrame(30)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetCamera(0.946, 2.373, -4.357, 3, 40, "LINEAR", 0, false, 0, false)
  SetCameraTarget(-0.033, 0.808, -6.5, "LINEAR", 0, false, 0, false)
  SetCamera(0.299, 1.386, -4.981, 0, 40, "LINEAR", 90, true, 0, false)
  SetCameraTarget(-0.053, 0.728, -6.5, "LINEAR", 90, true, 0, false)
  SetCamera(0.248, 1.346, -5.073, 0, 40, "LINEAR", 60, true, 90, false)
  SetCameraTarget(-0.053, 0.728, -6.5, "LINEAR", 60, true, 90, false)
  SetPosition("HERO_01", -0.825, 0, -6.88, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 46, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 0.9, 0, -6.75, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -43, 0, "LINEAR", 0, 0)
  SetPosition("npc013aa010101_01", 0, 0, -4.68, "LINEAR", 0, 0)
  SetRotation("npc013aa010101_01", 0, 180, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 20, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 65, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 20, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 84, -35, 0, true, "SCURVE", 0, 0)
  ModelVisible("HEROINE_01", true, 0, 0)
  WaitFrame(20)
  SetFace("AEGIOMON_01", "F05", 0, 1, 6, 0)
  BlendEye("AEGIOMON_01", 42, 0, "SCURVE", 4, 0)
  BlendFace("AEGIOMON_01", 45, 51, 0, true, "SCURVE", 16, 30)
  BlendFace("AEGIOMON_01", 45, -80, 35, true, "SCURVE", 18, 70)
  local slot_01 = Event_PlaySE(404032, 100, false, 0, 0)
  PlayEffect("ef_e_com_312_01", false, 30)
  MessageTalkAuto("m300_120_030", 60, true)
  WaitFrame(20)
  BackFade_OutNoLoadingWithWait(FADE_WHITE, 50)
  MESSAGE_WAIT()
  WaitFrame(30)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  SetCamera(0.648, 0.522, -5.452, 0, 40, "LINEAR", 0, false, 0, false)
  SetCameraTarget(0, 0.201, -6.4, "LINEAR", 0, false, 0, false)
  SetCamera(0.151, 1.218, -5.46, 0, 40, "SCURVE_B", 180, true, 0, false)
  SetCameraTarget(0, 1.421, -6.4, "SCURVE_B", 180, true, 0, false)
  ModelVisible("chr188aa010101_01", true, 0, 0)
  ModelVisible("AEGIOMON_01", false, 0, 0)
  SetPosition("HERO_01", -0.999, 0, -7.27, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 55, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 0.6, 0, -7.3, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -40, 0, "LINEAR", 0, 0)
  SetPosition("chr188aa010101_01", 0, 0, -6.38, "LINEAR", 0, 0)
  SetRotation("chr188aa010101_01", 0, 0, 0, "LINEAR", 0, 0)
  SetFace("HERO_01", "F16", 0, 1, 0, 0)
  SetFace("HEROINE_01", "F16", 0, 1, 0, 0)
  BlendEye("HERO_01", 15, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 24, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("chr188aa010101_01", 55, -75, "SCURVE", 0, 0)
  BlendFace("chr188aa010101_01", 67, -17, 0, false, "SCURVE", 0, 0)
  BlendEye("chr188aa010101_01", 55, 44, "SCURVE", 40, 100)
  BlendFace("chr188aa010101_01", 43, 31, 0, false, "SCURVE", 50, 100)
  BlendEye("chr188aa010101_01", 20, 0, "SCURVE", 20, 150)
  BlendFace("chr188aa010101_01", 20, 0, 0, false, "SCURVE", 30, 150)
  PlayEffect("ef_e_com_313_01", false, 0)
  BackFadeInWithWait(FADE_WHITE, 60)
  WaitFrame(150)
  CUT("7.0")
  SetEnv_All("c7.0", 0)
  SetCamera(0.432, 1.164, -4.807, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(0.02, 1.236, -6.287, "LINEAR", 0, false, 0)
  SetPosition("HERO_01", -1.129, 0, -6.87, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 65, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 0.74, 0, -7.3, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -7, 0, "LINEAR", 0, 0)
  PlayMotion("HEROINE_01", "e008_01", 4, true, 0)
  SetFace("HEROINE_01", "F16", 0, 1, 0, 0)
  SetFace("HERO_01", "E01_M15", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 42, -25, 0, true, "SCURVE", 0, 0)
  BlendEye("chr188aa010101_01", 20, 74, "SCURVE", 10, 20)
  BlendFace("chr188aa010101_01", 20, 10, -10, false, "SCURVE", 20, 20)
  MessageTalk("m300_120_040")
  MessageClose()
  WaitFrame(10)
  CUT("8.0")
  SetEnv_All("c8.0", 0)
  SetCamera(0.704, 1.054, -5.779, 0, 35, "LINEAR", 0, false, 0, false)
  SetCameraTarget(0, 1.01, -4.68, "LINEAR", 0, false, 0, false)
  BlendEye("npc013aa010101_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("npc013aa010101_01", -25, 0, 0, true, "SCURVE", 0, 0)
  PlayMotionBlend("npc013aa010101_01", "blend01", 0, false, 10)
  MessageTalk("m300_120_050")
  MessageClose()
  WaitFrame(10)
  SetCamera(0.373, 1.065, -5.916, 0, 35, "SCURVE", 120, true, 10, false)
  SetCameraTarget(0.22, 1.01, -4.68, "SCURVE", 120, true, 10, false)
  PlayMotion("npc013aa010101_01", "e550", 6, true, 0)
  MessageTalk("m300_120_060")
  MessageClose()
  WaitFrame(10)
  CAM_POS_WAIT(0)
  WaitFrame(10)
  Fade_OutNoLoading(FADE_BLACK, FADE_TIME)
  WaitFrame(FADE_TIME)
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m300_120()
end
