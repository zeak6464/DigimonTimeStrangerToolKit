S010_001 = {
  ID = 1,
  STEP_001 = 1,
  STEP_005 = 5,
  STEP_010 = 10,
  STEP_015 = 15,
  STEP_020 = 20,
  STEP_025 = 25,
  STEP_030 = 30,
  STEP_255 = 255
}
local fldtxt = "s010_001"
local base = "s010_001_"
local text_file = "s010_001"
local tlk = Tlk:new(text_file, 1, true)

function S010_001:Event_010()
  local hiroko = Obj:new(NPC, "npc_0500")
  local npc_0500_fn01_01 = Motion.Object:new(NPC, "npc_0500", "fn01_01")
  local npc_0500_e002 = Motion.Object:new(NPC, "npc_0500", "e002")
  local npc_0500_e004 = Motion.Object:new(NPC, "npc_0500", "e004")
  local npc_0500_e008 = Motion.Object:new(NPC, "npc_0500", "e008")
  local npc_0500_e013 = Motion.Object:new(NPC, "npc_0500", "e013")
  local npc_0500_e015 = Motion.Object:new(NPC, "npc_0500", "e015")
  local npc_0500_e018 = Motion.Object:new(NPC, "npc_0500", "e018")
  Field.ObjectLoadMotion(PLAYER, 1, "e002")
  Field.ObjectLoadMotion(PLAYER, 1, "e004_01")
  Field.ObjectLoadMotion(PLAYER, 1, "e008")
  Field.ObjectLoadMotion(PLAYER, 1, "e012")
  Field.ObjectLoadMotion(PLAYER, 1, "e013")
  Field.ObjectLoadMotion(PLAYER, 1, "e015")
  Field.ObjectLoadMotion(PLAYER, 1, "e018")
  Field.ObjectLoadMotion(PLAYER, 1, "e019")
  local hiroko_ind = GetIndex(NPC, "npc_0500")
  local player_pos = Field.GetLocatorPosition("obj_0002")
  local hiroko_pos = Field.ObjectGetPosition(NPC, hiroko_ind)
  local rotate = Field.GetAngleToTarget2D(player_pos.x, player_pos.z, hiroko_pos.x, hiroko_pos.z)
  Field.ObjectLoadExpression(NPC, hiroko_ind, "F01")
  Field.ObjectLoadExpression(NPC, hiroko_ind, "F05")
  Field.ObjectLoadExpression(NPC, hiroko_ind, "F08")
  if not Qst.Sub:Check(self.ID, self.STEP_005) then
    npc_0500_fn01_01:Play(20, true)
    HideMinimap(true)
    HideGuide(true)
    tlk:StartTalkAndCancelDigimonRide()
    START_TALK_ACTION_AND_ZOOM("npc_0500", true, true)
    tlk:Message("s010_001_010")
    local result = tlk:Select(3, "s010_001_020")
    WaitFrame(15)
    if result == RESULT_TALK00 then
      ObjectTurnToPlayer(NPC, hiroko.name)
      WaitFrame(15)
      npc_0500_e004:Play(10, true)
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F08", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, 15)
      tlk:Message("s010_001_030")
    elseif result == RESULT_TALK01 then
      ObjectTurnToPlayer(NPC, hiroko.name)
      WaitFrame(15)
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F08", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, 15)
      tlk:Message("s010_001_040")
    elseif result == RESULT_TALK02 then
      ObjectTurnToPlayer(NPC, hiroko.name)
      WaitFrame(15)
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F05", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, 15)
      npc_0500_e018:Play(10, true)
      tlk:Message("s010_001_050")
    end
    Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, 15)
    npc_0500_e002:Play(10, true)
    tlk:Message("s010_001_060")
    tlk:Message("s010_001_070")
    tlk:Message("s010_001_080")
    Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    local result = tlk:Select(3, "s010_001_090")
    WaitFrame(15)
    if result == RESULT_TALK00 then
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F08", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, 15)
      npc_0500_e004:Play(10, true)
      tlk:Message("s010_001_100")
    elseif result == RESULT_TALK01 then
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      npc_0500_e015:Play(10, true)
      tlk:Message("s010_001_110")
    elseif result == RESULT_TALK02 then
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      npc_0500_e013:Play(10, true)
      tlk:Message("s010_001_120")
    end
    Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, 15)
    npc_0500_fn01_01:Play(10, true)
    tlk:Message("s010_001_130")
    tlk:Message("s010_001_140")
    npc_0500_e008:Play(10, true)
    tlk:Message("s010_001_150")
    Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    local result = tlk:Select(3, "s010_001_160")
    WaitFrame(15)
    if result == RESULT_TALK00 then
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      tlk:Message("s010_001_170")
    elseif result == RESULT_TALK01 then
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      tlk:Message("s010_001_180")
    elseif result == RESULT_TALK02 then
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F05", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, 15)
      npc_0500_e018:Play(10, true)
      tlk:Message("s010_001_190")
    end
    Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, 15)
    npc_0500_fn01_01:Play(10, true)
    tlk:Message("s010_001_200")
    npc_0500_e002:Play(10, true)
    tlk:Message("s010_001_210")
    Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    local result = tlk:Select(2, "s010_001_221")
    WaitFrame(15)
    if result == RESULT_TALK00 then
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F08", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, 15)
      npc_0500_e004:Play(10, true)
      tlk:Message("s010_001_230")
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, 15)
      tlk:Message("s010_001_280")
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
      tlk:EndTalk()
      Qst.Sub:Start(1, 1, false)
      Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
      Obj:new(NPC, "npc_0500"):Invisible()
      FadeAllInWithWait(FADE_BLACK, FADE_TIME)
      HideMinimap(false)
      HideGuide(false)
      Qst.Sub:Set(self.ID, self.STEP_005)
      Qst.Sub:Set(self.ID, self.STEP_010)
    elseif result == RESULT_TALK01 then
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      tlk:Message("s010_001_240")
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
      tlk:EndTalk()
      HideMinimap(false)
      HideGuide(false)
      Qst.Sub:Set(self.ID, self.STEP_005)
    end
  else
    HideMinimap(true)
    HideGuide(true)
    ObjectTurnToPlayer(NPC, hiroko.name)
    tlk:StartTalkAndCancelDigimonRide()
    Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    tlk:Message("s010_001_250")
    Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    local result = tlk:Select(2, "s010_001_260")
    if result == RESULT_TALK00 then
      npc_0500_e013:Play(10, true)
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F08", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, 15)
      tlk:Message("s010_001_270")
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, 15)
      tlk:Message("s010_001_280")
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
      tlk:EndTalk()
      Qst.Sub:Start(1, 1, false)
      Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
      Obj:new(NPC, "npc_0500"):Invisible()
      FadeAllInWithWait(FADE_BLACK, FADE_TIME)
      HideMinimap(false)
      HideGuide(false)
      Qst.Sub:Set(self.ID, self.STEP_010)
    elseif result == RESULT_TALK01 then
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      tlk:Message("s010_001_290")
      Field.ObjectChangeExpression(NPC, hiroko_ind, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
      tlk:EndTalk()
      HideMinimap(false)
      HideGuide(false)
    end
  end
  END_TALK_ACTION_AND_ZOOM("npc_0002", true, true)
end

function S010_001:Event_020()
  local shop_index = GetIndex(NPC, "shop_0002")
  local shop_0002_e002 = Motion.Object:new(NPC, "shop_0002", "e002")
  local shop_0002_e012 = Motion.Object:new(NPC, "shop_0002", "e012")
  local shop_0002_e013 = Motion.Object:new(NPC, "shop_0002", "e013")
  local shop_0002_e015 = Motion.Object:new(NPC, "shop_0002", "e015")
  local npc_0502_e002 = Motion.Object:new(NPC, "npc_0502", "e002")
  local npc_0502_e013 = Motion.Object:new(NPC, "npc_0502", "e013")
  Field.ObjectLoadMotion(PLAYER, 1, "e002")
  Field.ObjectLoadMotion(PLAYER, 1, "e004_01")
  Field.ObjectLoadMotion(PLAYER, 1, "e008")
  Field.ObjectLoadMotion(PLAYER, 1, "e012")
  Field.ObjectLoadMotion(PLAYER, 1, "e013")
  Field.ObjectLoadMotion(PLAYER, 1, "e015")
  Field.ObjectLoadMotion(PLAYER, 1, "e018")
  Field.ObjectLoadMotion(PLAYER, 1, "e019")
  if Qst.Sub:Check(self.ID, self.STEP_010, self.STEP_015) then
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    Flg.Set("FLAG_S001_001")
    FieldObjectSync(FOR_ALL, false)
    Cam.Inst:Set(8, 0.58, -6.93, -1.87, 1.36, -5.5, default, 0)
    Obj:new(PLAYER, ""):SetRotationY(90, 0)
    Obj:new(PLAYER, ""):SetPos(0.75, 0, -6.72, true)
    Field.SetMobTransparentFrontOfCamera(0, 10, 10, 10)
    tlk:StartTalkAndCancelDigimonRide()
    HideMinimap(true)
    HideGuide(true)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    shop_0002_e015:Play(10, true)
    Field.ObjectChangeExpression(NPC, shop_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    tlk:Message("s010_001_300")
    Field.ObjectChangeExpression(NPC, shop_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectPlayMotion(PLAYER, 1, "e012", 15, true)
    npc_0502_e002:Play(10, true)
    tlk:Message("s010_001_310")
    shop_0002_e013:Play(10, true)
    tlk:Message("s010_001_320")
    tlk:Message("s010_001_330")
    Field.ObjectPlayMotion(PLAYER, 1, "e008", 15, true)
    shop_0002_e002:Play(10, true)
    Field.ObjectChangeExpression(NPC, shop_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    tlk:Message("s010_001_340")
    Prcs_d0109_shop_0002Cam()
    Field.ObjectPlayMotion(PLAYER, 1, "fn01_01", 15, true)
    tlk:Message("s010_001_350")
    Field.ObjectChangeExpression(NPC, shop_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    npc_0502_e013:Play(10, true)
    tlk:Message("s010_001_360")
    tlk:EndTalk()
    Flg.Set("FLAG_S001_003")
    FadeOutWithWait(0, 15)
    Cam.Inst:Clear(0)
    Obj:new(NPC, "npc_0502"):Invisible()
    FadeInWithWait(0, 15)
    HideMinimap(false)
    HideGuide(false)
    Qst.Sub:Set(self.ID, self.STEP_015)
    Field.ClearMobTransparentFrontOfCamera(0)
    Flg.Set("FLAG_SUB_010_001_001")
  end
end

function S010_001:Event_025()
  if Qst.Sub:Check(self.ID, self.STEP_015, self.STEP_020) and not Flg.Check("FLAG_S001_002") then
    tlk:StartTalkAndCancelDigimonRide()
    HideMinimap(true)
    HideGuide(true)
    tlk:Message("s010_001_370")
    Prcs_d0109_uradoriCam()
    tlk:Message("s010_001_380")
    tlk:EndTalk()
    HideMinimap(false)
    HideGuide(false)
    Cam.Inst:Clear(15)
    Flg.Set("FLAG_S001_002")
    Qst.Sub:Set(self.ID, self.STEP_020)
  end
end

function S010_001:Event_030()
  if Qst.Sub:Check(self.ID, self.STEP_020, self.STEP_025) and not Flg.Check("FLAG_S001_000") then
    local player = Obj:new(PLAYER, "")
    local zubai = Obj:new(NPC, "npc_0600")
    local npc_0601_e004 = Motion.Object:new(NPC, "npc_0601", "e004")
    local npc_0601_e006 = Motion.Object:new(NPC, "npc_0601", "e006")
    local npc_0600_bn01 = Motion.Object:new(NPC, "npc_0600", "bn01")
    local npc_0600_br01 = Motion.Object:new(NPC, "npc_0600", "br01")
    local npc_0600_fq01 = Motion.Object:new(NPC, "npc_0600", "fq01")
    local npc_0600_fq02 = Motion.Object:new(NPC, "npc_0600", "fq02")
    local npc_0600_fe04 = Motion.Object:new(NPC, "npc_0600", "fe04")
    Field.ObjectLoadMotion(PLAYER, 1, "e006")
    Field.ObjectLoadMotion(PLAYER, 1, "e018")
    Field.ObjectSuspendAutoTransparentForCamera(NPC, GetIndex(NPC, "npc_0601"))
    HideMinimap(true)
    HideGuide(true)
    tlk:StartTalkAndCancelDigimonRide()
    FadeOutWithWait(0, 15)
    player:SetPos(-82.64, 3, 21.1, true)
    local player_pos = Field.ObjectGetPosition(PLAYER, 1)
    local y_dgree = GetAngleToTarget2D(player_pos.x, player_pos.z, zubai.pos.x, zubai.pos.z)
    player:SetRotationY(y_dgree, 0)
    SetFollowerCameraOperateRotation(0, y_dgree - 20)
    Obj:new(NPC, "npc_0601"):CancelInvisible()
    Field.ObjectPlayMotion(PLAYER, 1, "e018", 0, true)
    Cam.Inst:Set(-75.08, 3.05, 27.997, -82.137, 3.945, 20.9696, default, 0)
    FadeInWithWait(0, 15)
    tlk:Message("s010_001_390")
    local player_pos = Field.ObjectGetPosition(PLAYER, 1)
    local y_dgree_zuba = GetAngleToTarget2D(zubai.pos.x, zubai.pos.z, player.pos.x, player.pos.z)
    PlaySE(404004, 100)
    WaitFrame(5)
    FadeInWithWaitNotFlgCheck(FADE_WHITE, FADE_TIME)
    Cam.Inst:Set(-77.48, 2.6, 25.76, -84.01, 4.76, 18.57, default, 30)
    Field_InvisibleFollowerAllGuest(0, 0, false)
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
    npc_0601_e004:Play(10, true)
    tlk:Message("s010_001_400")
    zubai:SetRotationY(325, 30)
    npc_0600_br01:Play(10, true)
    WaitFrame(30)
    npc_0600_fq02:PlayWithStartMoveMotion(10, 10)
    tlk:Message("s010_001_410")
    npc_0601_e006:Play(10, true)
    tlk:Message("s010_001_420")
    npc_0600_fq02:Play(10, true)
    tlk:Message("s010_001_430")
    npc_0600_bn01:Play(10, true)
    local result = tlk:Select(3, "s010_001_440")
    Cam.Inst:Set(-75.08, 3.05, 27.997, -82.137, 3.945, 20.9696, default, 15)
    if result == RESULT_TALK00 then
      npc_0600_fq01:Play(10, true)
      tlk:Message("s010_001_450")
      tlk:EndTalk(true)
    elseif result == RESULT_TALK01 then
      npc_0600_fq01:Play(10, true)
      tlk:Message("s010_001_460")
      tlk:EndTalk(true)
    elseif result == RESULT_TALK02 then
      npc_0600_fe04:Play(10, true)
      tlk:Message("s010_001_470")
      tlk:EndTalk(true)
    end
    EncountFromField_WithNormalEffect(20100010, 11171, false)
  end
end

function S010_001:Event_040()
  if Qst.Sub:Check(self.ID, self.STEP_020, self.STEP_025) and Flg.Check("FLAG_S001_000") then
    local npc_0601_e002 = Motion.Object:new(NPC, "npc_0601", "e002")
    local npc_0601_e013 = Motion.Object:new(NPC, "npc_0601", "e013")
    local npc_0600_bn02 = Motion.Object:new(NPC, "npc_0600", "bn02")
    local npc_0600_bd02 = Motion.Object:new(NPC, "npc_0600", "bd02")
    Field.ObjectLoadMotion(PLAYER, 1, "fn01_01")
    Field.ObjectLoadMotionBlend(PLAYER, 1, "blend01")
    local npc_index = GetIndex(NPC, "npc_0600")
    local hiroko_index = GetIndex(NPC, "npc_0601")
    local npc_pos = Field.ObjectGetPosition(NPC, npc_index)
    local npc_degree = Field.ObjectGetRotationY(NPC, npc_index)
    Field.LoadEffectScript("ef_b_van_100", 1)
    Field.ObjectLoadExpression(NPC, npc_index, "F01")
    npc_0600_bd02:Play(10, false)
    tlk:StartTalkAndCancelDigimonRide()
    HideMinimap(true)
    HideGuide(true)
    tlk:Message("s010_001_480")
    Cam.Inst:Set(-77.48, 2.6, 25.76, -84.01, 4.76, 18.57, default, 30)
    Field_InvisibleFollowerAllGuest(0, 0, false)
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
    WaitFrame(30)
    Field.ObjectPlayMotion(PLAYER, 1, "fn01_01", 15, true)
    ObjectTurnToPlayer(NPC, "npc_0601")
    WaitFrame(15)
    PlayerLookAtObject(NPC, "npc_0601")
    npc_0601_e013:Play(10, true)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    tlk:Message("s010_001_490")
    npc_0601_e002:Play(10, true)
    tlk:Message("s010_001_500")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectPlayMotionBlend(PLAYER, 1, "blend01", 15, false)
    tlk:EndTalk(true)
    Field_InvisibleFollowerAllGuest(0, 0, false)
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
    Qst.Sub:Set(self.ID, self.STEP_025)
    Flg.Set("FLAG_SKIP_AREACHANGE_MOVE")
    Flg.Clear("FLAG_SUB_010_001_001")
    MapChange("t", 401, "start_20", true, 0, FADE_TIME)
  end
end

function S010_001:Event_050()
  local hiroko = Obj:new(NPC, "npc_0502")
  local shop_index = GetIndex(NPC, "shop_0002_01")
  local shop_0002_01_e002 = Motion.Object:new(NPC, "shop_0002_01", "e002")
  local shop_0002_01_e012 = Motion.Object:new(NPC, "shop_0002_01", "e012")
  local npc_0502_fn01_01 = Motion.Object:new(NPC, "npc_0502", "fn01_01")
  local npc_0502_e002 = Motion.Object:new(NPC, "npc_0502", "e002")
  local npc_0502_e012 = Motion.Object:new(NPC, "npc_0502", "e012")
  local npc_0502_e013 = Motion.Object:new(NPC, "npc_0502", "e013")
  local npc_0502_e015 = Motion.Object:new(NPC, "npc_0502", "e015")
  local npc_index = GetIndex(NPC, "npc_0502")
  Field.ObjectLoadMotion(PLAYER, 1, "e002")
  Field.ObjectLoadMotion(PLAYER, 1, "e004_01")
  Field.ObjectLoadMotion(PLAYER, 1, "e008")
  Field.ObjectLoadMotion(PLAYER, 1, "e012")
  Field.ObjectLoadMotion(PLAYER, 1, "e013")
  Field.ObjectLoadMotion(PLAYER, 1, "e015")
  Field.ObjectLoadMotion(PLAYER, 1, "e018")
  Field.ObjectLoadMotion(PLAYER, 1, "e019")
  Field.ObjectLoadExpression(NPC, npc_index, "F01")
  if Qst.Sub:Check(self.ID, self.STEP_025, self.STEP_255) then
    Obj:new(PLAYER, ""):SetPos(0.32, 0, -7.58, true)
    Obj:new(NPC, "npc_0502"):SetPos(0.25, 0, -6.23, true)
    Obj:new(NPC, "shop_0002_01"):SetRotationY(275, 0)
    Cam.Inst:Set(7.25, -0.92, -6.36, -2.39, 1.61, -6.97, default, 0)
    npc_0502_fn01_01:Play(0, true)
    WaitFrame(1)
    tlk:StartTalkAndCancelDigimonRide()
    HideMinimap(true)
    HideGuide(true)
    shop_0002_01_e012:Play(10, true)
    Field.ObjectPlayMotion(PLAYER, 1, "e012", 15, true)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    Field.ObjectChangeExpression(NPC, shop_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    tlk:Message("s010_001_510")
    shop_0002_01_e002:Play(10, true)
    tlk:Message("s010_001_520")
    Field.ObjectChangeExpression(NPC, shop_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    npc_0502_e012:Play(20, true)
    tlk:Message("s010_001_530")
    ObjectTurnToPlayer(NPC, hiroko.name)
    WaitFrame(15)
    PlayerLookAtObject(NPC, "npc_0502")
    npc_0502_e002:Play(20, true)
    Field.ObjectChangeExpression(NPC, npc_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    tlk:Message("s010_001_540")
    npc_0502_e012:Play(20, true)
    tlk:Message("s010_001_550")
    Flg.Set("FLAG_IS_CLEAR_S010_001")
    npc_0502_e015:Play(20, true)
    tlk:Message("s010_001_560")
    Field.ObjectChangeExpression(NPC, npc_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    FadeOutWithWait(0, 15)
    Obj:new(NPC, "npc_0502"):Invisible()
    Field.ObjectPlayMotion(PLAYER, 1, "fn01_01", 5, true)
    PlayerObjectResetAim()
    Cam.Inst:Clear(0)
    tlk:EndTalk()
    FadeInWithWait(0, 15)
    HideMinimap(false)
    HideGuide(false)
    Qst.Sub:End(self.ID, self.STEP_255)
  end
end
