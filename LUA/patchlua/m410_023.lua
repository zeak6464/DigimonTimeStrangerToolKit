require("include")

function m410_023()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m410")
  SetEventCutNo(5)
  if Debug.IsEventView() then
    SetTimeAxis("P2028_daft_410")
    LoadMap("d0604")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("chr747_01", "char_MINERVAMON")
  LoadModel("chr931_01", "char_APOLLOMON_ADD")
  LoadModel("chr824_01", "char_DIANAMON_ADD")
  LoadModel("chr466_01", "char_DORIMON")
  LoadModel("chr438_01", "char_BOSSY_TSUNOMON")
  LoadModel("chr601_01", "char_WITCHMON")
  LoadModel("chr579_01", "char_FUGAMON")
  LoadModel("chr394_01", "char_ORGEMON")
  LoadModel("chr580_01", "char_HYOUGAMON")
  LoadSceneViewerResource("c1.0", "d0604f_ta")
  LoadSceneViewerResource("c2.0", "d0604f_ta")
  LoadSceneViewerResource("c3.0", "d0604f_ta")
  LoadSceneViewerResource("c4.0", "d0604f_ta")
  LoadSceneViewerResource("c5.0", "d0604f_ta")
  LoadEnvironmentFile("c1.0", "es_m410_023_c1.0")
  LoadEnvironmentFile("c2.0", "es_m410_023_c2.0")
  LoadEnvironmentFile("c3.0", "es_m410_023_c3.0")
  LoadEnvironmentFile("c4.0", "es_m410_023_c4.0")
  LoadEnvironmentFile("c5.0", "es_m410_023_c5.0")
  WaitVistaLoad()
  SetPosition("HERO_01", 43.634, -18, 55.626, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 270, 0, "LINEAR", 0, 0)
  SetScale("HERO_01", 1, 1, 1)
  SetPosition("chr747_01", 41.824, -18, 55.37, "LINEAR", 0, 0)
  SetRotation("chr747_01", 0, 90, 0, "LINEAR", 0, 0)
  SetScale("chr747_01", 0.73, 0.73, 0.73)
  SetPosition("chr931_01", 45.564, -18, 58.819, "LINEAR", 0, 0)
  SetRotation("chr931_01", 0, 235.5, 0, "LINEAR", 0, 0)
  SetScale("chr931_01", 2.13, 2.13, 2.13)
  SetPosition("chr824_01", 41.814, -18, 51.779, "LINEAR", 0, 0)
  SetRotation("chr824_01", 0, 371.5, 0, "LINEAR", 0, 0)
  SetScale("chr824_01", 2.88, 2.88, 2.88)
  SetPosition("chr466_01", 44.263, -18, 53.675, "LINEAR", 0, 0)
  SetRotation("chr466_01", 0, -66.5, 0, "LINEAR", 0, 0)
  SetScale("chr466_01", 0.4, 0.4, 0.4)
  SetPosition("chr438_01", 44.261, -17.532, 53.685, "LINEAR", 0, 0)
  SetRotation("chr438_01", 0, -62, 0, "LINEAR", 0, 0)
  SetScale("chr438_01", 0.95, 0.95, 0.95)
  SetPosition("chr601_01", 47.485, -18, 56.104, "LINEAR", 0, 0)
  SetRotation("chr601_01", 0, -97, 0, "LINEAR", 0, 0)
  SetScale("chr601_01", 1, 1, 1)
  SetPosition("chr579_01", 42.271, -18, 60.348, "LINEAR", 0, 0)
  SetRotation("chr579_01", 0, 168.5, 0, "LINEAR", 0, 0)
  SetScale("chr579_01", 1.15, 1.15, 1.15)
  SetPosition("chr394_01", 41.321, -18, 58.034, "LINEAR", 0, 0)
  SetRotation("chr394_01", 0, 158, 0, "LINEAR", 0, 0)
  SetScale("chr394_01", 1.15, 1.15, 1.15)
  SetPosition("chr580_01", 39.005, -18, 59.247, "LINEAR", 0, 0)
  SetRotation("chr580_01", 0, 151, 0, "LINEAR", 0, 0)
  SetScale("chr580_01", 1.15, 1.15, 1.15)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr747_01", "e002", 0, true, 0)
  ChangeDigimonFace("chr747_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr747_01", 1, 0, 0)
  PlayMotion("chr931_01", "bn01", 0, true, 0)
  ChangeDigimonFace("chr931_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr931_01", 1, 0, 0)
  PlayMotion("chr824_01", "fn01_01", 0, true, 0)
  ChangeDigimonFace("chr824_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr824_01", 1, 0, 0)
  PlayMotion("chr466_01", "bn01", 0, true, 0)
  ChangeDigimonFace("chr466_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr466_01", 1, 0, 0)
  PlayMotion("chr438_01", "bn01", 0, true, 0)
  ChangeDigimonFace("chr438_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr438_01", 1, 0, 0)
  PlayMotion("chr601_01", "bn01", 0, true, 0)
  ChangeDigimonFace("chr601_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr601_01", 1, 0, 0)
  PlayMotion("chr579_01", "bn01", 0, true, 0)
  SetStartFrame("chr579_01", "bn01", 8, 0)
  ChangeDigimonFace("chr579_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr579_01", 1, 0, 0)
  PlayMotion("chr394_01", "bn01", 0, true, 0)
  SetStartFrame("chr394_01", "bn01", 16, 0)
  ChangeDigimonFace("chr394_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr394_01", 1, 0, 0)
  PlayMotion("chr580_01", "bn01", 0, true, 0)
  ChangeDigimonFace("chr580_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr580_01", 1, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendFaceDigi("chr747_01", 0, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr931_01", 25, -7, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr824_01", 0, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr466_01", 0, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr438_01", 0, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr601_01", 0, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr579_01", 0, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr394_01", 0, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr580_01", 0, 0, 0, "SCURVE", 0, 0)
  SetCamera(50.933, -10.596, 45.064, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(43.961, -15.129, 54.431, "LINEAR", 0, false, 0)
  SetCamera(50.347, -10.977, 45.851, 0, 40, "LINEAR", 240, true, 0)
  SetCameraTarget(43.961, -15.129, 54.431, "LINEAR", 240, true, 0)
  FIELD_SET()
  EVENT_START()
  ObjectInvisible(FOR_ALL)
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  Fade_In(0, FADE_TIME)
  WaitFrame(30)
  PlayMotion("chr747_01", "e020", 5, false, 0)
  PlayMotion("chr747_01", "fn01_01", 3, true, 150)
  SetFace("chr747_01", "F01_M02", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m410_023_010")
  MessageClose()
  WaitFrame(10)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(43.052, -16.837, 55.088, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(41.881, -16.787, 55.379, "LINEAR", 0, false, 0)
  ModelVisible("chr394_01", false, 0, 0)
  ModelVisible("chr580_01", false, 0, 0)
  PlayMotion("chr747_01", "e002", 0, true, 0)
  SetFace("chr747_01", "F01_M02", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m410_023_020")
  MessageClose()
  WaitFrame(10)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(42.767, -16.427, 55.18, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(43.838, -16.499, 55.669, "LINEAR", 0, false, 0)
  SetPosition("chr601_01", 47.485, -18, 56.104, "LINEAR", 0, 0)
  SetRotation("chr601_01", 0, -91, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 15, 0, "SCURVE", 0, 0)
  MessageTalkSel(3, "m410_023_030")
  result = Talk.GetResultSelectedNum()
  if result == RESULT_TALK00 then
    PlayMotion("HERO_01", "e013_01", 5, true, 0)
    SetFace("HERO_01", "F02", 0, 1, FACE_BLENDTIME, 0)
    SetMouth("HERO_01", 0, 6, 0)
    SetMouth("HERO_01", 1, 0, 45)
    WaitFrame(60)
  elseif result == RESULT_TALK01 then
    PlayMotionBlend("HERO_01", "blend01", 3, false, 0)
    SetFace("HERO_01", "F02", 0, 1, FACE_BLENDTIME, 0)
    SetMouth("HERO_01", 0, 6, 0)
    SetMouth("HERO_01", 1, 0, 45)
    WaitFrame(60)
  elseif result == RESULT_TALK02 then
    PlayMotion("HERO_01", "e002", 5, true, 0)
    PlayMotionBlend("HERO_01", "blend01", 0, false, 0)
    SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 0)
    SetMouth("HERO_01", 0, 6, 0)
    SetMouth("HERO_01", 1, 0, 45)
    WaitFrame(60)
  end
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  BlendFaceDigi("chr747_01", -19, 0, 0, "SCURVE", 0, 0)
  SetCamera(44.573, -16.38, 55.17, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(40.075, -17.37, 56.337, "LINEAR", 0, false, 0)
  PlayMotion("chr747_01", "e002", 0, true, 0)
  SetFace("chr747_01", "F01_M02", 0, 2, FACE_BLENDTIME, 0)
  MessageTalk("m410_023_040")
  MessageClose()
  WaitFrame(10)
  PlayMotion("chr747_01", "e007", 5, true, 0)
  SetFace("chr747_01", "F01_M03", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HERO_01", "e006", 5, true, 20)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  EndMotion("HERO_01", 100)
  MessageTalk("m410_023_050")
  MessageClose()
  WaitFrame(10)
  EndMotion("chr747_01", 0)
  WaitFrame(20)
  SetFace("chr747_01", "F01_M03", 0, 2, FACE_BLENDTIME, 0)
  MessageTalk("m410_023_060")
  MessageClose()
  WaitFrame(10)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  ModelVisible("chr394_01", true, 0, 0)
  ModelVisible("chr580_01", true, 0, 0)
  SetPosition("chr580_01", 38.64, -18, 59.247, "LINEAR", 0, 0)
  SetRotation("chr580_01", 0, 149, 0, "LINEAR", 0, 0)
  BlendFaceDigi("chr931_01", 16, 0, 0, "SCURVE", 0, 0)
  SetCamera(50.286, -11.114, 47.663, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(42.59, -16.451, 56.708, "LINEAR", 0, false, 0)
  SetCamera(51.714, -10.124, 45.984, 0, 40, "LINEAR", 300, true, 0)
  SetCameraTarget(42.59, -16.451, 56.708, "LINEAR", 300, true, 0)
  PlayMotion("chr747_01", "e013", 0, true, 0)
  SetFace("chr747_01", "F01_M01", 0, 1, 0, 0)
  PlayMotion("chr394_01", "ba02", 5, false, 30)
  PlayMotion("chr394_01", "bn01", 3, true, 90)
  SetFace("chr394_01", "F03", 0, 1, 0, 0)
  PlayMotion("chr580_01", "f003", 5, false, 30)
  PlayMotion("chr580_01", "bn01", 3, true, 176)
  SetFace("chr580_01", "F03", 0, 1, 0, 0)
  PlayMotion("chr579_01", "fq01", 4, false, 40)
  PlayMotion("chr579_01", "bn01", 3, true, 82)
  SetFace("chr579_01", "F03", 0, 1, 0, 0)
  PlayMotion("chr824_01", "e004", 5, true, 50)
  SetFace("chr824_01", "F01", 0, 1, 0, 0)
  PlayMotion("chr931_01", "e004", 5, true, 30)
  SetFace("chr931_01", "F03", 0, 1, 0, 0)
  PlayMotion("chr601_01", "fq01", 5, false, 20)
  PlayMotion("chr601_01", "bn01", 3, true, 70)
  SetFace("chr601_01", "F01", 0, 1, 0, 0)
  MessageTalk("m410_023_070")
  MessageClose()
  WaitFrame(10)
  Event_StopBGM(1.5, 0)
  Fade_OutNoLoadingWithWait(FADE_BLACK, 30)
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m410_023()
end
