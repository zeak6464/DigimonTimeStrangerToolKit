require("include")

function m410_105()
  Fade_OutNoLoadingWithWait(FADE_WHITE, 0)
  EVENT_BEGIN()
  Talk.Load("m410")
  SetEventCutNo(6)
  if Debug.IsEventView() then
    SetTimeZone("Night")
    SetTimeAxis("P2028_daft_410")
    LoadMap("t3001")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("MIREI_01", "char_MIREI_CHILD")
  LoadEffectScript("ef_e_com_270_01", "ef_e_com_270")
  LoadEffectScript("ef_e_com_270_02", "ef_e_com_270")
  LoadEffectScript("ef_e_com_270_03", "ef_e_com_270")
  LoadEffectScript("ef_e_com_270_04", "ef_e_com_270")
  Load_Relief()
  LoadSceneViewerResource("c1.0", "t3001f_pn")
  LoadSceneViewerResource("c1.1", "t3001f_pn")
  LoadSceneViewerResource("c1.2", "t3001f_pn")
  LoadSceneViewerResource("c1.3", "t3001f_pn")
  LoadSceneViewerResource("c1.4", "t3001f_pn")
  LoadSceneViewerResource("c1.6", "t3001f_pn")
  LoadSceneViewerResource("c1.5", "t3001f_pn")
  LoadSceneViewerResource("c2.0", "t3001f_pn")
  LoadSceneViewerResource("c3.0", "t3001f_pn")
  LoadSceneViewerResource("c4.0", "t3001f_pn")
  LoadSceneViewerResource("c5.0", "t3001f_pn")
  LoadEnvironmentFile("c1.0", "es_m410_105_c1.0")
  LoadEnvironmentFile("c1.1", "es_m410_105_c1.1")
  LoadEnvironmentFile("c1.2", "es_m410_105_c1.2")
  LoadEnvironmentFile("c1.3", "es_m410_105_c1.3")
  LoadEnvironmentFile("c1.4", "es_m410_105_c1.4")
  LoadEnvironmentFile("c1.6", "es_m410_105_c1.6")
  LoadEnvironmentFile("c1.5", "es_m410_105_c1.5")
  LoadEnvironmentFile("c2.0", "es_m410_105_c2.0")
  LoadEnvironmentFile("c3.0", "es_m410_105_c3.0")
  LoadEnvironmentFile("c4.0", "es_m410_105_c4.0")
  LoadEnvironmentFile("c5.0", "es_m410_105_c5.0")
  WaitVistaLoad()
  SetPosition("HERO_01", 0.051, 0, -7.762, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("MIREI_01", -1.983, 2.781, 12.652, "LINEAR", 0, 0)
  SetRotation("MIREI_01", 0, 90, 0, "LINEAR", 0, 0)
  SetPosition("ef_e_com_270_01", 0, 12.57, -24.85, "LINEAR", 0, 0)
  SetRotation("ef_e_com_270_01", 0, 0, 196.44, "LINEAR", 0, 0)
  SetPosition("ef_e_com_270_02", 0, 12.57, -24.85, "LINEAR", 0, 0)
  SetRotation("ef_e_com_270_02", 0, 0, -32.74, "LINEAR", 0, 0)
  SetPosition("ef_e_com_270_03", 0, 12.57, -24.85, "LINEAR", 0, 0)
  SetRotation("ef_e_com_270_03", 0, 0, -65.48, "LINEAR", 0, 0)
  SetPosition("ef_e_com_270_04", 0, 12.57, -24.85, "LINEAR", 0, 0)
  SetRotation("ef_e_com_270_04", 0, 0, 130.96, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("MIREI_01", "fn01_01", 0, true, 0)
  SetFace("MIREI_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -39, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("MIREI_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("MIREI_01", -13, 0, 0, false, "SCURVE", 0, 0)
  SetPosition_Relief()
  PlayMotion_Relief()
  ModelVisible("t3001jewel07_01", false, 0, 0)
  ModelVisible("t3001reliefparts07_01", false, 0, 0)
  ModelVisible("t3001digi07_01", false, 0, 0)
  ModelVisible("t3001jewel08_01", false, 0, 0)
  ModelVisible("t3001reliefparts08_01", false, 0, 0)
  ModelVisible("t3001digi08_01", false, 0, 0)
  ModelVisible("t3001jewel09_01", false, 0, 0)
  ModelVisible("t3001reliefparts09_01", false, 0, 0)
  ModelVisible("t3001digi09_01", false, 0, 0)
  ModelVisible("t3001jewel10_01", false, 0, 0)
  ModelVisible("t3001reliefparts10_01", false, 0, 0)
  ModelVisible("t3001digi10_01", false, 0, 0)
  ModelVisible("t3001jewel11_01", false, 0, 0)
  ModelVisible("t3001digi11_01", false, 0, 0)
  ModelVisible("t3001jewel12_01", false, 0, 0)
  ModelVisible("t3001digi12_01", false, 0, 0)
  Event_PlayBGM(114, 0, 0)
  if Debug.IsEventView() then
  else
    local BGM, SE = Field.GetCurrentMapDefaultBGM()
    Sound.PlayBGM(BGM, 0)
  end
  FIELD_SET()
  EVENT_START()
  NpcInvisible(FOR_ALL)
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  Fade_In(1, 60)
  SetCamera(0, 11.21, -15.583, 0, 30, "LINEAR", 0, false, 0, false)
  SetCameraTarget(0, 13.98, -35.787, "LINEAR", 0, false, 0, false)
  SetCamera(0, 11.21, -15.27, 0, 30, "LINEAR", 120, true, 0, false)
  SetCameraTarget(0, 13.98, -35.247, "LINEAR", 120, true, 0, false)
  WaitFrame(40)
  ModelVisible("t3001jewel07_01", true, 0, 0)
  PlayMotion("t3001jewel07_01", "e001", 0, false, 0)
  PlayEffect("ef_e_com_270_01", false, 0)
  Event_PlaySE(401045, 100, false, 0, 0)
  Event_PlaySE(401046, 100, false, 0, 1.6)
  ModelVisible("t3001jewel08_01", true, 0, 0)
  PlayMotion("t3001jewel08_01", "e001", 0, false, 0)
  PlayEffect("ef_e_com_270_02", false, 0)
  Event_PlaySE(401045, 100, false, 0, 0)
  Event_PlaySE(401046, 100, false, 0, 1.6)
  SetCamera(0, 11.21, -15.27, 0, 29, "LINEAR", 0, false, 48, false)
  SetCameraTarget(0, 13.98, -35.787, "LINEAR", 0, false, 48, false)
  SetCamera(0, 11.21, -15.27, 0, 30, "LINEAR", 1, false, 49, false)
  SetCameraTarget(0, 13.98, -35.247, "LINEAR", 1, false, 49, false)
  CtrVibration(1, 0, 3, 48)
  CtrVibration(0, 0, 0, 51)
  WaitFrame(70)
  ModelVisible("t3001jewel09_01", true, 0, 0)
  PlayMotion("t3001jewel09_01", "e001", 0, false, 0)
  PlayEffect("ef_e_com_270_03", false, 0)
  Event_PlaySE(401045, 100, false, 0, 0)
  Event_PlaySE(401046, 100, false, 0, 1.6)
  SetCamera(0, 11.21, -15.27, 0, 29, "LINEAR", 0, false, 48, false)
  SetCameraTarget(0, 13.98, -35.787, "LINEAR", 0, false, 48, false)
  SetCamera(0, 11.21, -15.27, 0, 30, "LINEAR", 1, false, 49, false)
  SetCameraTarget(0, 13.98, -35.247, "LINEAR", 1, false, 49, false)
  CtrVibration(1, 0, 3, 48)
  CtrVibration(0, 0, 0, 51)
  WaitFrame(70)
  ModelVisible("t3001jewel10_01", true, 0, 0)
  PlayMotion("t3001jewel10_01", "e001", 0, false, 0)
  PlayEffect("ef_e_com_270_04", false, 0)
  Event_PlaySE(401045, 100, false, 0, 0)
  Event_PlaySE(401046, 100, false, 0, 1.6)
  SetCamera(0, 11.21, -15.27, 0, 29, "LINEAR", 0, false, 48, false)
  SetCameraTarget(0, 13.98, -35.787, "LINEAR", 0, false, 48, false)
  SetCamera(0, 11.21, -15.27, 0, 30, "LINEAR", 1, false, 49, false)
  SetCameraTarget(0, 13.98, -35.247, "LINEAR", 1, false, 49, false)
  CtrVibration(1, 0, 3, 48)
  CtrVibration(0, 0, 0, 51)
  WaitFrame(100)
  CUT("1.1")
  SetEnv_All("c1.1", 0)
  Event_StopAllSE(0.2, 0)
  SetCamera(-2.333, 6.225, -19.898, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-3.405, 7.74, -24.532, "LINEAR", 0, false, 0)
  SetCamera(-2.275, 6.143, -19.647, 0, 30, "LINEAR", 100, false, 0)
  SetCameraTarget(-3.405, 7.74, -24.532, "LINEAR", 100, false, 0)
  WaitFrame(10)
  local slot_01 = Event_PlaySE(200018, 60, false, 0, 0)
  ModelVisible("t3001reliefparts07_01", true, 0, 0)
  PlayMotion("t3001reliefparts07_01", "e001", 0, false, 0)
  PlayMotion("t3001reliefparts07_01", "e002", 0, true, 24)
  WaitFrame(30)
  ModelVisible("t3001digi07_01", true, 0, 0)
  PlayMotion("t3001digi07_01", "e001", 0, false, 0)
  Event_Quake_Start(3, 3, 10, 25)
  Event_PlaySE(401047, 100, false, 0, 0)
  WaitFrame(80)
  CUT("1.2")
  SetEnv_All("c1.2", 0)
  SetCamera(-0.271, 9.095, -21.444, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(3.244, 10.981, -24.813, "LINEAR", 0, false, 0)
  SetCamera(-0.508, 8.967, -21.217, 0, 30, "LINEAR", 90, false, 0)
  SetCameraTarget(3.244, 10.981, -24.813, "LINEAR", 90, false, 0)
  WaitFrame(10)
  local slot_01 = Event_PlaySE(200018, 60, false, 0, 0)
  ModelVisible("t3001reliefparts08_01", true, 0, 0)
  PlayMotion("t3001reliefparts08_01", "e001", 0, false, 0)
  PlayMotion("t3001reliefparts08_01", "e002", 0, true, 24)
  WaitFrame(30)
  ModelVisible("t3001digi08_01", true, 0, 0)
  PlayMotion("t3001digi08_01", "e001", 0, false, 0)
  Event_Quake_Start(3, 3, 10, 25)
  Event_PlaySE(401047, 100, false, 0, 0)
  WaitFrame(80)
  CUT("1.3")
  SetEnv_All("c1.3", 0)
  SetCamera(-3.083, 7.815, -20.273, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-2.931, 9.302, -24.725, "LINEAR", 0, false, 0)
  SetCamera(-3.105, 7.601, -19.633, 0, 30, "LINEAR", 90, false, 0)
  SetCameraTarget(-2.931, 9.302, -24.725, "LINEAR", 90, false, 0)
  WaitFrame(10)
  local slot_01 = Event_PlaySE(200018, 60, false, 0, 0)
  ModelVisible("t3001reliefparts09_01", true, 0, 0)
  PlayMotion("t3001reliefparts09_01", "e001", 0, false, 0)
  PlayMotion("t3001reliefparts09_01", "e002", 0, true, 24)
  WaitFrame(30)
  ModelVisible("t3001digi09_01", true, 0, 0)
  PlayMotion("t3001digi09_01", "e001", 0, false, 0)
  Event_Quake_Start(3, 3, 10, 25)
  Event_PlaySE(401047, 100, false, 0, 0)
  WaitFrame(80)
  CUT("1.4")
  SetEnv_All("c1.4", 0)
  SetCamera(0.046, 6.668, -19.269, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.07, 8.791, -24.189, "LINEAR", 0, false, 0)
  SetCamera(0.042, 6.326, -18.479, 0, 30, "SCURVE", 60, false, 0)
  SetCameraTarget(0.07, 8.791, -24.189, "SCURVE", 60, false, 0)
  WaitFrame(10)
  local slot_01 = Event_PlaySE(200018, 60, false, 0, 0)
  ModelVisible("t3001reliefparts10_01", true, 0, 0)
  PlayMotion("t3001reliefparts10_01", "e001", 0, false, 0)
  PlayMotion("t3001reliefparts10_01", "e002", 0, true, 24)
  WaitFrame(30)
  ModelVisible("t3001digi10_01", true, 0, 0)
  PlayMotion("t3001digi10_01", "e001", 0, false, 0)
  Event_Quake_Start(3, 3, 10, 25)
  Event_PlaySE(401047, 100, false, 0, 0)
  WaitFrame(90)
  CUT("1.6")
  SetEnv_All("c1.6", 0)
  SetCamera(-0.29, 10.179, -10.707, 0, 35, "LINEAR", 0, false, 0)
  SetCameraTarget(0.039, 10.396, -24.094, "LINEAR", 0, false, 0)
  SetCamera(-0.29, 10.159, -9.465, 0, 35, "SCURVE", 100, true, 0)
  SetCameraTarget(0.039, 10.396, -24.094, "SCURVE", 100, true, 0)
  WaitFrame(160)
  CUT("1.5")
  SetEnv_All("c1.5", 0)
  SetCamera(2.14, 1.33, -0.626, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.35, 8.319, -25.865, "LINEAR", 0, false, 0)
  SetCamera(2.14, 0.056, -0.626, 0, 30, "LINEAR", 150, true, 0)
  SetCameraTarget(0.35, 7.045, -25.865, "LINEAR", 150, true, 0)
  WaitFrame(150)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 30, 0)
  PlayMotion("HERO_01", "ft02_01", 0, false, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  SetRotation("HERO_01", 0, 0, 0, "LINEAR", ROTATION180, 0)
  WaitFrame(ROTATION180)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetRotation("HERO_01", 0, 0, 0, "LINEAR", 0, 0)
  SetPosition("HERO_01", 0.051, 0, -3.332, "DECEL", 0, 0)
  SetPosition("MIREI_01", -1.444, 0, -2.199, "LINEAR", 0, 0)
  SetRotation("MIREI_01", 0, 150, 0, "LINEAR", 0, 0)
  BlendEye("MIREI_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("MIREI_01", -22, -29, 0, true, "SCURVE", 0, 0)
  SetCamera(0.833, 1.642, -3.47, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-1.251, 1.173, -2.736, "LINEAR", 0, false, 0)
  PlayMotion("MIREI_01", "fn01_01", 8, true, 47)
  BlendFace("HERO_01", 12, -58, 0, false, "SCURVE", 20, 0)
  MessageTalk("m410_105_010")
  PlayMotionBlend("MIREI_01", "blend02", 0, false, 0)
  SetFace("MIREI_01", "F01", 2, 1, FACE_BLENDTIME, 0)
  SetFace("MIREI_01", "F01", 0, 1, FACE_BLENDTIME, 40)
  MessageTalk("m410_105_020")
  MessageClose()
  WaitFrame(10)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  BlendFace("MIREI_01", -24, 0, 0, true, "SCURVE", 0, 0)
  PlayMotion("HERO_01", "e013_01", 0, true, 0)
  SetFace("HERO_01", "E16_M15", 0, 1, FACE_BLENDTIME, 0)
  SetPosition("MIREI_01", -1.974, 0, -2.199, "LINEAR", 0, 0)
  SetRotation("MIREI_01", 0, 116, 0, "LINEAR", 0, 0)
  SetCamera(-1.055, 1.293, -2.376, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-1.861, 1.148, -2.22, "LINEAR", 0, false, 0)
  PlayMotion("MIREI_01", "e002", 0, true, 0)
  SetFace("MIREI_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m410_105_030")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m410_105_040")
  MessageClose()
  WaitFrame(10)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetPosition("HERO_01", -0.97, 0, -3.137, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 6.5, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 23, -12, "SCURVE", 0, 0)
  BlendFace("HERO_01", 33, -31, -21, false, "SCURVE", 0, 0)
  SetCamera(-1.154, 1.378, -2.259, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-1.035, 1.498, -3.147, "LINEAR", 0, false, 0)
  SetFace("HERO_01", "F15", 0, 1, 0, 0)
  PlayMotionBlend("MIREI_01", "blend01", 3, false, 0)
  MessageTalk("m410_105_050")
  MessageClose()
  WaitFrame(10)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  ModelVisible("HERO_01", false, 0, 0)
  SetPosition("MIREI_01", -1.504, 0, -2.199, "LINEAR", 0, 0)
  SetRotation("MIREI_01", 0, 135.5, 0, "LINEAR", 0, 0)
  BlendEye("MIREI_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("MIREI_01", -22, 15, 0, true, "SCURVE", 0, 0)
  SetCamera(-1.235, 1.149, -2.992, 0, 50, "LINEAR", 0, false, 0)
  SetCameraTarget(-1.333, 1.047, -2.121, "LINEAR", 0, false, 0)
  SetCamera(-1.235, 1.149, -2.992, 0, 50, "ACCEL", 80, true, 20)
  SetCameraTarget(-1.333, 1.047, 1.469, "ACCEL", 80, true, 20)
  PlayMotion("MIREI_01", "e550", 0, true, 0)
  SetStartFrame("MIREI_01", "e550", 20, 0)
  SetFace("MIREI_01", "F02", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m410_105_060")
  MessageClose()
  WaitFrame(10)
  Fade_OutNoLoadingWithWait(0, FADE_TIME)
  WaitFrame(20)
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m410_105()
end
