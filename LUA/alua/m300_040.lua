require("include")

function m300_040()
  Fade_Out(1, 0)
  EVENT_BEGIN()
  Talk.Load("m300")
  SetEventCutNo(3)
  if Debug.IsEventView() then
    SetTimeAxis("P2028_daft_300")
    LoadMap("h0601")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  LoadSceneViewerResource("c1.0", "h0601f_za")
  LoadSceneViewerResource("c2.0", "h0601f_za")
  LoadSceneViewerResource("c3.0", "h0601f_za")
  LoadEnvironmentFile("c1.0", "es_m300_040_c1.0")
  LoadEnvironmentFile("c2.0", "es_m300_040_c2.0")
  LoadEnvironmentFile("c3.0", "es_m300_040_c3.0")
  WaitVistaLoad()
  Vista.SetEnableLipSyncsAnimation("HEROINE_01", false)
  Vista.SetEnableLipSyncsAnimation("AEGIOMON_01", false)
  SetPosition("HERO_01", -68.751, 20.76, 22.391, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 83, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -66.062, 20.743, 22.163, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -41.5, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", -66.719, 20.743, 23.098, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 131.5, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fd01_02", 0, true, 0)
  SetFace("HERO_01", "E07_M15", 2, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  PlayMotion("AEGIOMON_01", "fd01_02", 0, true, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -62, -34, 56, false, "SCURVE", 0, 0)
  SetCamera(-69.92, 21.895, 22.291, 0, 20, "LINEAR", 0, false, 0, false)
  SetCameraTarget(-69.91, 21.046, 22.29, "LINEAR", 0, false, 0, false)
  SetCamera(-69.921, 21.981, 22.291, 0, 20, "LINEAR", 300, true, 0, false)
  SetCameraTarget(-69.91, 21.046, 22.29, "LINEAR", 300, true, 0, false)
  NpcInvisible(FOR_ALL)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  Event_PlayBGM(112, 3, 0.5)
  FadeInWithWait(1, 60)
  WaitFrame(10)
  SetBlink("HERO_01", 1, 0.15, 0)
  WaitFrame(45)
  BlendEye("HERO_01", 0, 30, "SCURVE", 7, 0)
  WaitFrame(35)
  SetFace("HERO_01", "E16_M15", 2, 1, FACE_BLENDTIME, 0)
  SetFace("HERO_01", "F16", 1, 1, FACE_BLENDTIME, 2)
  SetFace("HERO_01", "E16_M15", 0, 1, FACE_BLENDTIME, 20)
  BlendEye("HERO_01", 0, 0, "SCURVE", 15, 0)
  BlendFace("HERO_01", -61, -6, 56, false, "SCURVE", 15, 0)
  WaitFrame(15)
  PlayMotion("HERO_01", "e076", 6, false, 0)
  PlayMotion("HERO_01", "fn01_01", 10, true, 187)
  WaitFrame(30)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetPosition("HERO_01", -68.751, 20.743, 22.391, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 83, 0, "LINEAR", 0, 0)
  SetScale("HERO_01", 1, 1, 1)
  SetPosition("HEROINE_01", -65.537, 20.743, 23.303, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 115.5, 0, "LINEAR", 0, 0)
  SetScale("HEROINE_01", 1, 1, 1)
  SetPosition("AEGIOMON_01", -66.28, 20.743, 21.682, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 55, 0, "LINEAR", 0, 0)
  SetScale("AEGIOMON_01", 1, 1, 1)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", -18, -42, 44, false, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", 0, 0, 0, true, "SCURVE", 0, 0)
  SetCamera(-73.998, 20.929, 22.342, 0, 33, "LINEAR", 0, false, 0, false)
  SetCameraTarget(-69.831, 21.679, 22.314, "LINEAR", 0, false, 0, false)
  SetCamera(-74.442, 20.849, 22.345, 0, 35, "LINEAR", 300, true, 0, false)
  SetCameraTarget(-69.831, 21.679, 22.314, "LINEAR", 300, true, 0, false)
  WaitFrame(30)
  PlayMotion("AEGIOMON_01", "e076", 10, false, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 10, true, 240)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -37, 33, -31, true, "SCURVE", 30, 150)
  WaitFrame(270)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetPosition("HERO_01", -68.225, 20.743, 22.58, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 83, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -67.094, 20.743, 23.303, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 72, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", -67.567, 20.743, 21.682, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 74, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -19, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", -10, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -38, 0, 0, true, "SCURVE", 0, 0)
  SetFace("HERO_01", "E16_M01", 0, 1, 0, 0)
  SetFace("HEROINE_01", "F16", 0, 1, 0, 0)
  SetFace("AEGIOMON_01", "F16", 0, 1, 0, 0)
  SetCamera(-67.728, 21.707, 26.801, 0, 23, "LINEAR", 0, false, 0, false)
  SetCameraTarget(-67.642, 21.964, 22.694, "LINEAR", 0, false, 0, false)
  SetCamera(-67.633, 21.707, 26.803, 0, 23, "LINEAR", 800, true, 0, false)
  SetCameraTarget(-67.547, 21.964, 22.696, "LINEAR", 800, true, 0, false)
  WaitFrame(40)
  SetRotation("HEROINE_01", 0, 190.936, 0, "LINEAR", 34, 0)
  SetRotation("HEROINE_01", 0, 213, 0, "LINEAR", 11, 34)
  PlayMotion("HEROINE_01", "ft01_02", 5, false, 0)
  PlayMotion("HEROINE_01", "fn01_01", 10, true, 45)
  BlendFace("HEROINE_01", 22, -10, 0, true, "SCURVE", 30, 10)
  BlendFace("HERO_01", -7, -56, 0, true, "SCURVE", 32, 20)
  WaitFrame(18)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  BlendFace("HERO_01", -7, -56, 0, true, "SCURVE", 32, 0)
  SetRotation("AEGIOMON_01", 0, 19.5, 0, "LINEAR", 35, 0)
  PlayMotion("AEGIOMON_01", "ft03_01", 2, false, 0)
  BlendFace("AEGIOMON_01", -32, -4, -8, true, "SCURVE", 20, 0)
  WaitFrame(30)
  BlendFace("HEROINE_01", 0, 64, 0, true, "SCURVE", 42, 0)
  WaitFrame(30)
  PlayMotion("HEROINE_01", "e031", 10, true, 0)
  SetFace("HEROINE_01", "F11", 0, 0, FACE_BLENDTIME, 10)
  SetFace("HEROINE_01", "F11", 0, 1, MOUTH_BLENDTIME, 90)
  BlendEye("HEROINE_01", 24, -17, "SCURVE", 10, 10)
  BlendFace("HEROINE_01", 34, 73, 0, true, "SCURVE", 40, 0)
  MessageTalk("m300_040_020")
  SetFace("HEROINE_01", "F11", 0, 0, FACE_BLENDTIME, 0)
  SetFace("HEROINE_01", "F11", 0, 1, MOUTH_BLENDTIME, 60)
  MessageTalk("m300_040_030")
  SetFace("HEROINE_01", "F11", 0, 1, MOUTH_BLENDTIME, 10)
  MessageClose()
  WaitFrame(10)
  SetFace("AEGIOMON_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("AEGIOMON_01", "e002", 10, false, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 180)
  BlendEye("AEGIOMON_01", 0, -12, "SCURVE", 10, 10)
  BlendFace("AEGIOMON_01", -57, -51, 52, true, "SCURVE", 30, 0)
  WaitFrame(10)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 40)
  SetFace("HEROINE_01", "E01_M15", 0, 1, FACE_BLENDTIME, 30)
  BlendEye("HERO_01", 0, 0, "SCURVE", 10, 40)
  BlendFace("HERO_01", 14, 51, 0, true, "SCURVE", 40, 30)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 10, 30)
  BlendFace("HEROINE_01", 20, 3, 0, true, "SCURVE", 40, 20)
  SetFace("AEGIOMON_01", "F15", 0, 0, FACE_BLENDTIME, 0)
  SetFace("AEGIOMON_01", "F15", 0, 1, MOUTH_BLENDTIME, 60)
  MessageTalk("m300_040_040")
  SetFace("AEGIOMON_01", "F15", 0, 1, MOUTH_BLENDTIME, 10)
  MessageClose()
  WaitFrame(10)
  Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m300_040()
end
