require("include")

function m440_150()
  Fade_Out(1, 0)
  EVENT_BEGIN()
  EventRankSet("S")
  EventRankSet("Shadow")
  Talk.Load("m440")
  SetEventCutNo("1.0")
  if Debug.IsEventView() then
  end
  local Movie = MOVIE.new("movie", "ep09")
  WaitVistaLoad()
  Event_PlayBGM(323, 0, 0)
  Event_PlaySE(420031, 100, false, 0, 0)
  FIELD_SET()
  Vista.Play()
  CUT("1.0")
  Fade_In(1, FADE_TIME)
  Vista.SetMessageTalkAuto("m440_150_010", -1, false, 20)
  Vista.SetMessageTalkAuto("m440_150_020", -1, false, 168)
  Vista.SetMessageTalkAuto("m440_150_030", -1, false, 324)
  Vista.SetMessageTalkAuto("m440_150_040", -1, false, 533)
  Vista.SetMessageTalkAuto("m440_150_050", -1, false, 747)
  Vista.SetMessageTalkAuto("m440_150_060", -1, false, 996)
  Vista.SetMessageTalkAuto("m440_150_070", -1, false, 1269)
  Vista.SetMessageTalkAuto("m440_150_080", -1, false, 1432)
  Vista.SetMessageTalkAuto("m440_150_090", -1, false, 1677)
  Vista.SetMessageTalkAuto("m440_150_100", -1, false, 1979)
  Vista.SetMessageTalkAuto("m440_150_110", -1, false, 2223)
  Vista.SetMessageTalkAuto("m440_150_120", -1, false, 2375)
  Vista.SetMessageTalkAuto("m440_150_130", -1, false, 2604)
  Vista.SetMessageTalkAuto("m440_150_140", -1, false, 2905)
  Vista.SetMessageTalkAuto("m440_150_150", -1, false, 3094)
  Vista.SetMessageTalkAuto("m440_150_160", -1, false, 3345)
  Vista.SetMessageTalkAuto("m440_150_170", -1, false, 3551)
  Vista.SetMessageTalkAuto("m440_150_180", -1, false, 3695)
  Vista.SetMessageTalkAuto("m440_150_190", -1, false, 3906)
  Event_StopBGM(3, 135.25)
  Movie:PLAY(4151)
  Fade_OutNoLoadingWithWait(1, FADE_TIME)
  WaitFrame(160)
  Vista.SetSkip(false, true)
  Event_Quake_Stop(0)
  TalkExit()
  VistaExit()
  Field_CancelInvisiblePlayer(INVISIBLE_KEY_EVENT, 0, true, false)
  Field_CancelInvisibleFollowerAllGuest(INVISIBLE_KEY_EVENT, 0, true, false)
  Field_CancelInvisibleFollowerAllPartyMember(INVISIBLE_KEY_EVENT, 0, true, false)
  Field_CancelInvisibleNpc("", INVISIBLE_KEY_EVENT, 0, true, false)
  Field_CancelInvisibleAllSymbolEnemy(INVISIBLE_KEY_EVENT, 0, false, false)
  Field_CancelInvisibleRumorNpc(FOR_ALL, INVISIBLE_KEY_EVENT, 0, false, false)
  Field_CancelInvisibleMob(FOR_ALL, INVISIBLE_KEY_EVENT, 0, true, false)
  local field_player_index = Field.GetPlayerIndex()
  if field_player_index then
    Field.ObjectResetAim(FLD_OBJ_PLAYER, field_player_index, 0)
  end
  if Debug.IsEventView() then
    Event_StopBGM(0, 0)
    Event_StopAllSE(0, 0)
  end
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m440_150()
end
