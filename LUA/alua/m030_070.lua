require("include")

function m030_070()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m030")
  LOAD_VOICE()
  SetEventCutNo(5)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2020_dbef_30")
    LoadMap("d0802")
  end
  LoadModel("MINERVAMON_01", "char_MINERVAMON")
  LoadModel("CORONAMON_01", "char_CORONAMON")
  LoadModel("LUNAMON_01", "char_LUNAMON")
  LoadObject("GEAR_01", "d08bottomgear")
  Vista.BindSpeaker("MINERVAMON_01", "char_EVERYONE")
  Vista.BindSpeaker("LUNAMON_01", "char_EVERYONE")
  Vista.LoadAnimationOVR("CORONAMON_01", "t01_OVR")
  Vista.LoadAnimationOVR("LUNAMON_01", "t01_OVR")
  LoadSceneViewerResource("c1.0", "d0802f_za")
  LoadSceneViewerResource("c2.0", "d0802f_za")
  LoadSceneViewerResource("c3.0", "d0802f_za")
  LoadSceneViewerResource("c4.0", "d0802f_za")
  LoadSceneViewerResource("c5.0", "d0802f_za")
  LoadEnvironmentFile("c1.0", "es_m030_070_c1.0")
  LoadEnvironmentFile("c2.0", "es_m030_070_c2.0")
  LoadEnvironmentFile("c3.0", "es_m030_070_c3.0")
  LoadEnvironmentFile("c4.0", "es_m030_070_c4.0")
  LoadEnvironmentFile("c5.0", "es_m030_070_c5.0")
  WaitVistaLoad()
  NpcInvisible(FOR_ALL)
  SetPosition("MINERVAMON_01", -15.458, 0, 4.03, "LINEAR", 0, 0)
  SetRotation("MINERVAMON_01", 0, 113.5, 0, "LINEAR", 0, 0)
  SetPosition("CORONAMON_01", -14.953, 0, 2.995, "LINEAR", 0, 0)
  SetRotation("CORONAMON_01", 0, 99.5, 0, "LINEAR", 0, 0)
  SetPosition("LUNAMON_01", -14.507, 0, 4.562, "LINEAR", 0, 0)
  SetRotation("LUNAMON_01", 0, 121.5, 0, "LINEAR", 0, 0)
  SetPosition("GEAR_01", 0, -2.5, 0, "LINEAR", 0, 0)
  SetRotation("GEAR_01", 0, 0, 0, "LINEAR", 0, 0)
  PlayMotion("MINERVAMON_01", "e507", 0, true, 0)
  PlayMotion("CORONAMON_01", "e507", 0, true, 0)
  PlayMotion("LUNAMON_01", "e507", 0, true, 0)
  SetFace("LUNAMON_01", "F03_M01", 0, 1, 0, 0)
  SetCamera(-15.173, 2.103, 3.816, 0, 50, "LINEAR", 0, false, 0)
  SetCameraTarget(-6.416, -7.208, 1.495, "LINEAR", 0, false, 0)
  SetCamera(-18.469, 4.547, 4.843, 0, 40, "SCURVE", 200, true, 0)
  SetCameraTarget(-3.822, -6.414, 0.724, "SCURVE", 200, true, 0)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  Fade_In(0, 40)
  WaitFrame(60)
  MessageTalk("m030_070_010")
  MessageClose()
  CAM_POS_WAIT(40)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(-13.599, -0.241, 3.161, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-16.042, 1.163, 2.806, "LINEAR", 0, false, 0)
  SetFace("CORONAMON_01", "F01_M01", 0, 2, 0, 0)
  MessageTalk("m030_070_020")
  MessageClose()
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(-13.836, -0.062, 4.009, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-14.44, 0.364, 4.567, "LINEAR", 0, false, 0)
  SetFace("LUNAMON_01", "F03_M01", 0, 2, 0, 0)
  MessageTalk("m030_070_030")
  MessageClose()
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetPosition("MINERVAMON_01", -15.201, -0.05, 3.842, "LINEAR", 0, 0)
  SetRotation("MINERVAMON_01", 0, 99, 0, "LINEAR", 0, 0)
  SetPosition("LUNAMON_01", -14.507, 0, 4.562, "LINEAR", 0, 0)
  SetRotation("LUNAMON_01", 0, 121.5, 0, "LINEAR", 0, 0)
  PlayMotion("MINERVAMON_01", "e506", 0, false, 0)
  SetFace("MINERVAMON_01", "F01_M05", 0, 1, 0, 0)
  SetFace("CORONAMON_01", "F01_M01", 0, 1, 0, 0)
  PlayMotion("CORONAMON_01", "e506", 0, false, 0)
  PlayMotion("LUNAMON_01", "e506", 0, false, 0)
  SetFace("LUNAMON_01", "F01", 0, 1, 0, 0)
  SetCamera(-12.779, 0.453, 3.529, 0, 20, "DECEL", 0, true, 0)
  SetCameraTarget(-15.373, 1.027, 3.897, "DECEL", 0, true, 0)
  SetPosition("CORONAMON_01", -14.719, 0.135, 3.474, "LINEAR", 5, 0)
  SetRotation("CORONAMON_01", 0, 85, 0, "LINEAR", 10, 0)
  SetPosition("LUNAMON_01", -14.507, 0.291, 4.039, "LINEAR", 5, 0)
  SetRotation("LUNAMON_01", 0, 105.5, 0, "LINEAR", 10, 0)
  WaitFrame(50)
  SetFace("MINERVAMON_01", "F01_M03", 0, 1, 0, 0)
  SetFace("CORONAMON_01", "F01_M01", 0, 2, 0, 0)
  SetCamera(-12.497, 0.39, 3.489, 0, 20, "SCURVE", 5, false, 0)
  SetCameraTarget(-15.373, 1.027, 3.897, "SCURVE", 5, false, 0)
  SetCamera(-12.779, 0.453, 3.529, 0, 20, "SCURVE", 5, true, 8)
  SetCameraTarget(-15.373, 1.027, 3.897, "SCURVE", 5, true, 8)
  WaitFrame(30)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetPosition("MINERVAMON_01", -15.173, 0, 3.781, "LINEAR", 0, 0)
  SetRotation("MINERVAMON_01", 35, 107.5, 0, "LINEAR", 0, 0)
  SetPosition("LUNAMON_01", -14.235, -0.05, 4.062, "LINEAR", 0, 0)
  SetRotation("LUNAMON_01", 0, 106, 0, "LINEAR", 0, 0)
  SetPosition("CORONAMON_01", -14.558, 0, 3.127, "LINEAR", 0, 0)
  SetRotation("CORONAMON_01", 14.5, 99.5, 0, "LINEAR", 0, 0)
  PlayMotion("MINERVAMON_01", "e507", 0, true, 0)
  BlendFaceDigi("MINERVAMON_01", -22, 0, 0, "LINEAR", 0, 0)
  PlayMotion("CORONAMON_01", "e507", 0, true, 0)
  PlayMotion("LUNAMON_01", "e507", 0, true, 0)
  SetCamera(-12.183, -2.272, 3.819, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-14.224, 0.445, 3.405, "LINEAR", 0, false, 0)
  SetCamera(10.399, -55.261, 7.592, 0, 56, "SCURVE", 150, true, 10)
  SetCameraTarget(-14.224, 0.445, 3.405, "SCURVE", 150, true, 10)
  MessageTalkAuto("m030_070_040", -1, true)
  BackFade_OutNoLoadingWithWait(0, 100)
  MESSAGE_WAIT()
  Event_StopBGM(2, 0)
  WaitFrame(60)
  Fade_Out(0, 0)
  Vista.SetKeepBGM()
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m030_070()
end
