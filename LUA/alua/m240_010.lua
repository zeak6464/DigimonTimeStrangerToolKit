require("include")

function m240_010()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m240")
  Vista.LoadVoices()
  SetEventCutNo(9)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2028_daft_240")
    LoadMap("d1204")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  LoadModel("npc057aa010101_01", "char_TOUDO_B")
  LoadSceneViewerResource("c1.0", "d1204f_ca")
  LoadSceneViewerResource("c2.0", "d1204f_ca")
  LoadSceneViewerResource("c3.0", "d1204f_ca")
  LoadSceneViewerResource("c4.0", "d1204f_ca")
  LoadSceneViewerResource("c5.0", "d1204f_ca")
  LoadSceneViewerResource("c6.0", "d1204f_ca")
  LoadSceneViewerResource("c7.0", "d1204f_ca")
  LoadSceneViewerResource("c8.0", "d1204f_ca")
  LoadSceneViewerResource("c9.0", "d1204f_ca")
  LoadEnvironmentFile("c1.0", "es_m240_010_c1.0")
  LoadEnvironmentFile("c2.0", "es_m240_010_c2.0")
  LoadEnvironmentFile("c3.0", "es_m240_010_c3.0")
  LoadEnvironmentFile("c4.0", "es_m240_010_c4.0")
  LoadEnvironmentFile("c5.0", "es_m240_010_c5.0")
  LoadEnvironmentFile("c6.0", "es_m240_010_c6.0")
  LoadEnvironmentFile("c7.0", "es_m240_010_c7.0")
  LoadEnvironmentFile("c8.0", "es_m240_010_c8.0")
  LoadEnvironmentFile("c9.0", "es_m240_010_c9.0")
  Vista.SetStreamBasePosition(-25.713, 1.795, -36.483)
  Vista.SetStreamBasePosition(21.484, 0.651, -28.784)
  Vista.SetStreamBasePosition(27.055, 7.033, -46.285)
  WaitVistaLoad()
  SetPosition("HERO_01", 0.751, 0.03, 14.7, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 180, 0, "LINEAR", 0, 0)
  SetScale("HERO_01", 1, 1, 1)
  SetPosition("HEROINE_01", -0.219, 0.03, 14.7, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 180, 0, "LINEAR", 0, 0)
  SetScale("HEROINE_01", 1, 1, 1)
  SetPosition("AEGIOMON_01", -0.749, 0.03, 14.7, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 180, 0, "LINEAR", 0, 0)
  SetScale("AEGIOMON_01", 1, 1, 1)
  SetPosition("npc057aa010101_01", 0.091, 0.03, 13.54, "LINEAR", 0, 0)
  SetRotation("npc057aa010101_01", 0, 180, 0, "LINEAR", 0, 0)
  SetScale("npc057aa010101_01", 1, 1, 1)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("npc057aa010101_01", "fn01_01", 0, false, 0)
  SetFace("npc057aa010101_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("npc057aa010101_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("npc057aa010101_01", 0, 0, 0, false, "SCURVE", 0, 0)
  SetCamera(1.092, 1.7, 14.014, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.763, 1.557, 14.704, "LINEAR", 0, false, 0)
  SetCamera(1.092, 1.7, 9.814, 0, 30, "LINEAR", 110, false, 0)
  SetCameraTarget(0.763, 1.557, 10.504, "LINEAR", 110, false, 0)
  ModelVisible("AEGIOMON_01", false, 0, 0)
  ModelVisible("npc057aa010101_01", false, 0, 0)
  MASK_OFF("npc057aa010101_01")
  FIELD_SET()
  Field_CancelInvisibleNpc("", INVISIBLE_KEY_EVENT, 0, false, false)
  Field_CancelInvisibleRumorNpc(FOR_ALL, INVISIBLE_KEY_EVENT, 0, false, false)
  Field_CancelInvisibleGimmick(FOR_ALL, INVISIBLE_KEY_EVENT, 0, true, false)
  Field_CancelInvisibleMob(FOR_ALL, INVISIBLE_KEY_EVENT, 0, true, false)
  EVENT_START()
  SetMobTransparentRange(200, 200, 200)
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  Fade_In(0, FADE_TIME)
  MovePosition("HERO_01", 0.751, 0.03, 6.301, false, 1.2, 0)
  MovePosition("HEROINE_01", -0.219, 0.03, 6.301, false, 1.2, 0)
  WaitFrame(60)
  SetFace("HERO_01", "F16", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 10, 0)
  BlendFace("HERO_01", -15, 0, 0, false, "SCURVE", 10, 0)
  WaitFrame(50)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  ModelVisible("HEROINE_01", true, 0, 0)
  ModelVisible("AEGIOMON_01", true, 0, 0)
  ModelVisible("npc057aa010101_01", true, 0, 0)
  SetPosition("HERO_01", 0.451, 0.03, 12, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -0.219, 0.03, 11.5, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", -0.749, 0.03, 11, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("npc057aa010101_01", 0.091, 0.03, 9.84, "LINEAR", 0, 0)
  SetRotation("npc057aa010101_01", 0, 180, 0, "LINEAR", 0, 0)
  MovePosition("HERO_01", 0.451, 0.03, 6.301, false, 1.2, 0)
  MovePosition("HEROINE_01", -0.219, 0.03, 6.301, false, 1.2, 0)
  MovePosition("AEGIOMON_01", -0.749, 0.03, 6.301, false, 1.2, 0)
  MovePosition("npc057aa010101_01", 0.091, 0.03, 5.14, false, 1.2, 0)
  SetCamera(0.209, 1.608, 12.875, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(0.172, 1.349, 9.73, "LINEAR", 0, false, 0)
  SetCamera(0.209, 3.303, 12.875, 0, 40, "LINEAR", 180, true, 0)
  SetCameraTarget(0.172, 3.12, 9.731, "LINEAR", 180, true, 0)
  WaitFrame(100)
  Story.OpenCharacterEntry("char_REBELLION_VILLAGE")
  WaitFrame(50)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(3.033, 7.196, -1.569, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-3.5, 3.229, -32.557, "LINEAR", 0, false, 0)
  SetCamera(5.403, 7.369, -1.582, 0, 30, "LINEAR", 500, true, 0)
  SetCameraTarget(9.5, 3.402, -33.37, "LINEAR", 500, true, 0)
  WaitFrame(90)
  Story.IsClosedCharacterEntry()
  WaitFrame(90)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetCamera(-0.33, 1.06, 5.777, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.761, 1.076, 6.267, "LINEAR", 0, false, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_01", "F16", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("AEGIOMON_01", 0, 31, "SCURVE", 20, 0)
  BlendFace("AEGIOMON_01", 0, 22, 0, false, "SCURVE", 20, 0)
  WaitFrame(30)
  BlendEye("AEGIOMON_01", 0, -5, "SCURVE", 20, 0)
  BlendFace("AEGIOMON_01", 0, -22, 0, false, "SCURVE", 20, 0)
  MessageTalk("m240_010_010")
  MessageClose()
  WaitFrame(10)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetMobTransparentRange(0.01, 0.01, 0.01)
  SetCamera(-25.713, 1.795, -36.483, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-30.537, 0.613, -37.525, "LINEAR", 0, false, 0)
  SetCamera(-25.448, 1.85, -37.772, 0, 30, "LINEAR", 180, false, 0)
  SetCameraTarget(-30.272, 0.668, -38.813, "LINEAR", 180, false, 0)
  WaitFrame(120)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  SetMobTransparentRange(0.01, 0.01, 0.01)
  SetCamera(19.445, 0.294, -28.396, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(27.791, 1.754, -29.988, "LINEAR", 0, false, 0)
  SetCamera(21.484, 0.651, -28.784, 0, 30, "LINEAR", 180, false, 0)
  SetCameraTarget(27.791, 1.754, -29.988, "LINEAR", 180, false, 0)
  WaitFrame(120)
  CUT("7.0")
  SetEnv_All("c7.0", 0)
  SetMobTransparentRange(0.01, 0.01, 0.01)
  SetCamera(26.837, 6.923, -47.929, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(31.115, 6.329, -48.357, "LINEAR", 0, false, 0)
  SetCamera(27.055, 7.033, -46.285, 0, 30, "LINEAR", 180, false, 0)
  SetCameraTarget(31.259, 6.385, -47.148, "LINEAR", 180, false, 0)
  WaitFrame(120)
  CUT("8.0")
  SetEnv_All("c8.0", 0)
  SetCamera(-0.33, 1.06, 5.777, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.761, 1.076, 6.267, "LINEAR", 0, false, 0)
  WaitFrame(20)
  SetFace("AEGIOMON_01", "F02", 0, 1, 15, 0)
  WaitFrame(60)
  CUT("9.0")
  SetEnv_All("c9.0", 0)
  BlendFace("AEGIOMON_01", 0, 22, 0, true, "SCURVE", 0, 0)
  SetFace("AEGIOMON_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  SetPosition("HERO_01", 0.751, 0.03, 6.3, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 207, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -0.219, 0.03, 6.3, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 162.5, 0, "LINEAR", 0, 0)
  SetPosition("npc057aa010101_01", 0.097, 0.03, 5.14, "LINEAR", 0, 0)
  SetRotation("npc057aa010101_01", 0, 20.5, 0, "LINEAR", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 20, 0)
  BlendFace("AEGIOMON_01", -37, -43, 0, true, "SCURVE", 20, 20)
  BlendEye("npc057aa010101_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("npc057aa010101_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 0, 0)
  PlayMotion("npc057aa010101_01", "e002", 0, true, 0)
  SetFace("npc057aa010101_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  SetCamera(2.152, 1.564, 7.236, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.289, 1.372, 5.765, "LINEAR", 0, false, 0)
  MessageTalk("m240_010_020")
  MessageClose()
  WaitFrame(10)
  PlayMotionBlend("npc057aa010101_01", "blend01", 3, false, 0)
  SetFace("npc057aa010101_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m240_010_030")
  MessageClose()
  WaitFrame(10)
  PlayMotion("npc057aa010101_01", "fn01_01", 5, false, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 30, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 30, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 30, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 30, 0)
  BlendEye("npc057aa010101_01", 0, 0, "SCURVE", 30, 0)
  BlendFace("npc057aa010101_01", 0, 0, 0, true, "SCURVE", 30, 0)
  WaitFrame(15)
  ResetBlend("npc057aa010101_01", "blend01")
  PlayMotion("npc057aa010101_01", "fn01_01", 5, true, 0)
  WaitFrame(15)
  if Debug.IsEventView() then
    EVENT_END()
  else
    EVENT_END_SEAMLESS(60)
  end
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m240_010()
end
