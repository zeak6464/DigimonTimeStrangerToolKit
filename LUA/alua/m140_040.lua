require("include")

function m140_040()
  EVENT_BEGIN()
  Talk.Load("m140")
  SetEventCutNo(2)
  if Debug.IsEventView() then
    SetTimeZone("Morning")
    SetTimeAxis("A2020_dbef_140")
    LoadMap("d0210")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("chr926_01", "char_PARROTMON_BIG")
  FieldInitCancel()
  WaitVistaLoad()
  Vista.SetButtonHelpInvisible(true)
  ModelVisible("chr926_01", false, 0, 0)
  SetPosition("chr926_01", -16, -8, -51.882, "LINEAR", 0, 0)
  SetRotation("chr926_01", 10.5, -44.5, 0, "LINEAR", 0, 0)
  SetScale("chr926_01", 1, 1, 1)
  PlayMotion("chr926_01", "br01", 0, false, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
  SetCamera(-34.607, 2.763, -35.974, 0, 50, "LINEAR", 0, false, 0)
  SetCameraTarget(-38.964, 0.506, -33.563, "LINEAR", 0, false, 0)
  Field_InvisibleFollowerAllGuest(INVISIBLE_KEY_EVENT, 30, false)
  Field_InvisibleFollowerAllPartyMember(INVISIBLE_KEY_EVENT, 30, false)
  Field_InvisibleAllSymbolEnemy(INVISIBLE_KEY_EVENT, 30, false)
  EVENT_START()
  CUT("1.0")
  SeamlessCamera(50, "SCURVE")
  WaitFrame(40)
  ModelVisible("chr926_01", true, 0, 0)
  CUT("2.0")
  local slot_01 = Event_PlaySE(403027, 100, false, 0, 0)
  SetPosition("chr926_01", -47.86, 6, -17.714, "LINER", 60, 0)
  ModelVisible("chr926_01", false, 0, 60)
  PlayMotion("HERO_01", "e007_01", 3, true, 30)
  BlendEye("HERO_01", -10, 0, "SCURVE", 10, 30)
  BlendFace("HERO_01", -70, -70, 0, true, "SCURVE", 20, 20)
  SetFace("HERO_01", "F16", 0, 1, FACE_BLENDTIME, 20)
  BlendEye("HERO_01", -10, 0, "SCURVE", 30, 40)
  BlendFace("HERO_01", -80, 10, 0, true, "LINER", 30, 40)
  WaitFrame(30)
  SetCamera(-34.607, 2.763, -35.974, 0, 50, "SCURVE", 60, false, 0)
  SetCameraTarget(-38.694, 1.526, -32.903, "SCURVE", 60, false, 0)
  WaitFrame(85)
  EndMotion("HERO_01", 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 30, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 30, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 10)
  WaitFrame(30)
  if Debug.IsEventView() then
    EVENT_END()
  else
    PlayMotion("HERO_01", "fn01_01", 10, true, 0)
    EVENT_END_SEAMLESS(30)
    Vista.SetButtonHelpInvisible(false)
  end
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m140_040()
end
