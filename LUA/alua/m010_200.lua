require("include")

function m010_200()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m010")
  LOAD_VOICE()
  SetEventCutNo(8)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("X2028_daft_10")
    LoadMap("d1001")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadSceneViewerResource("c01", "d1001f_ca")
  LoadSceneViewerResource("c02", "d1001f_ca")
  LoadSceneViewerResource("c03", "d1001f_ca")
  LoadSceneViewerResource("c04", "d1001f_ca")
  LoadSceneViewerResource("c05", "d1001f_ca")
  LoadSceneViewerResource("c06", "d1001f_ca")
  LoadSceneViewerResource("c07", "d1001f_ca")
  LoadSceneViewerResource("c08", "d1001f_ca")
  LoadEnvironmentFile("c01", "es_m010_200_c01")
  LoadEnvironmentFile("c02", "es_m010_200_c02")
  LoadEnvironmentFile("c03", "es_m010_200_c03")
  LoadEnvironmentFile("c04", "es_m010_200_c04")
  LoadEnvironmentFile("c05", "es_m010_200_c05")
  LoadEnvironmentFile("c06", "es_m010_200_c06")
  LoadEnvironmentFile("c07", "es_m010_200_c07")
  LoadEnvironmentFile("c08", "es_m010_200_c08")
  WaitVistaLoad()
  Event_PlayBGM(702, 0, 0)
  SetPosition("HERO_01", -23.516, -1.736, 8.229, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -24, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -25.116, -1.8, 9.163, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -20, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, false, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  SetBlink("HERO_01", 0, 1, 0)
  SetMouth("HERO_01", 1, 0, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, false, 0)
  SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  SetBlink("HEROINE_01", 0, 1, 0)
  SetMouth("HEROINE_01", 1, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, -24, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, -0, 0, true, "SCURVE", 0, 0)
  MovePosition("HERO_01", -24.085, -1.8, 8.868, true, 1.1, 0)
  MoveRotation("HERO_01", 0, -24, 0, "LINEAR", 1.1, true, 0)
  MovePosition("HEROINE_01", -25.424, -1.8, 10.009, true, 1.2, 0)
  SetCamera(-23.003, -0.25, 8.971, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-25.563, -0.559, 9.2, "LINEAR", 0, false, 0)
  SetCamera(-23.157, -0.239, 8.777, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-25.435, -0.535, 9.567, "LINEAR", 0, false, 0)
  SetEnv_All("c01", 0)
  FIELD_SET()
  EVENT_START()
  CUT(1)
  Fade_In(0, FADE_TIME)
  WaitFrame(FADE_TIME)
  WaitFrame(30)
  PlayMotion("HEROINE_01", "ft02_02", 3, false, 0)
  SetFace("HEROINE_01", "E04_M01", 0, 1, 0, 0)
  SetFace("HERO_01", "E15_M15", 0, 1, FACE_BLENDTIME, 0)
  SetPosition("HEROINE_01", -25.424, -1.8, 10.009, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 160, 0, "LINEAR", ROTATION180, 0)
  BlendFace("HEROINE_01", 10, -35, 0, true, "SCURVE", 15, 0)
  WaitFrame(15)
  CUT(2)
  SetEnv_All("c02", 0)
  SetCamera(-24.5, -0.365, 9.5, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-25.395, -0.493, 9.993, "LINEAR", 0, false, 0)
  SetCamera(-24.5, -0.375, 9.5, 0, 30, "LINEAR", 70, true, 0)
  SetCameraTarget(-25.395, -0.373, 9.993, "LINEAR", 70, true, 0)
  WaitFrame(10)
  SetFace("HEROINE_01", "E08_M01", 0, 1, FACE_BLENDTIME, 20)
  SetFace("HEROINE_01", "E02_M01", 0, 1, FACE_BLENDTIME, 40)
  PlayMotionBlend("HEROINE_01", "blend03", 0, false, 20)
  MessageTalk("m010_200_010")
  MessageClose()
  WaitFrame(10)
  MessageTalkSel(3, "m010_200_020")
  result = Talk.GetResultSelectedNum()
  if result == RESULT_TALK00 then
    WaitFrame(10)
    PlayMotion("HEROINE_01", "e002", 3, true, 0)
    SetFace("HEROINE_01", "E04_M01", 0, 1, FACE_BLENDTIME, 0)
    MessageTalk("m010_200_030")
    MessageClose()
    WaitFrame(10)
  elseif result == RESULT_TALK01 then
    WaitFrame(10)
    BlendEye("HEROINE_01", 0, 0, "SCURVE", 10, 0)
    BlendFace("HEROINE_01", 18, -35, -30, true, "SCURVE", 10, 0)
    PlayMotion("HEROINE_01", "e012", 3, true, 0)
    SetFace("HEROINE_01", "E06_M03", 0, 1, FACE_BLENDTIME, 0)
    MessageTalk("m010_200_040")
    MessageClose()
    WaitFrame(10)
  elseif result == RESULT_TALK02 then
    WaitFrame(10)
    PlayMotion("HEROINE_01", "e012", 3, true, 0)
    PlayMotionBlend("HEROINE_01", "blend02", 0, false, 90)
    SetFace("HEROINE_01", "E01_M03", 0, 1, FACE_BLENDTIME, 0)
    SetFace("HEROINE_01", "E03_M03", 0, 1, FACE_BLENDTIME, 90)
    MessageTalk("m010_200_050")
    MessageClose()
    WaitFrame(10)
  end
  CUT(3)
  SetEnv_All("c03", 0)
  SetCamera(-25.793, -0.415, 11.391, 0, 35, "LINEAR", 0, false, 0)
  SetCameraTarget(-24.7, -0.501, 9.154, "LINEAR", 0, false, 0)
  SetCamera(-25.96, -0.415, 11.271, 0, 35, "LINEAR", 500, true, 0)
  SetCameraTarget(-24.7, -0.501, 9.154, "LINEAR", 500, true, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 15, 0)
  BlendFace("HEROINE_01", 0, -35, -0, true, "SCURVE", 15, 0)
  SetFace("HEROINE_01", "E01_M03", 0, 1, FACE_BLENDTIME, 0)
  EndMotion("HEROINE_01", 0)
  WaitFrame(10)
  MessageTalk("m010_200_055")
  MessageClose()
  WaitFrame(5)
  BlendEye("HERO_01", -0, -0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 10, -24, -50, true, "SCURVE", 30, 0)
  SetFace("HERO_01", "F11", 0, 1, FACE_BLENDTIME, 0)
  WaitFrame(30)
  MessageTalk("m010_200_060")
  MessageClose()
  BlendEye("HERO_01", 0, 0, "SCURVE", 10, 0)
  BlendFace("HERO_01", 0, -24, 0, true, "SCURVE", 40, 0)
  SetFace("HERO_01", "E01_M15", 0, 1, FACE_BLENDTIME, 0)
  WaitFrame(40)
  MessageTalkSel(3, "m010_200_070")
  result = Talk.GetResultSelectedNum()
  if result == RESULT_TALK00 then
    WaitFrame(10)
    PlayMotion("HERO_01", "e013_01", 12, false, 0)
    SetFace("HERO_01", "E10_M15", 0, 1, FACE_BLENDTIME, 0)
    WaitFrame(15)
    SetMouth("HERO_01", 0, 0, 0)
    SetMouth("HERO_01", 1, 0, 30)
    BlendEye("HERO_01", 0, 0, "SCURVE", 10, 0)
    BlendFace("HERO_01", 0, -24, -50, true, "SCURVE", 30, 0)
    WaitFrame(60)
  elseif result == RESULT_TALK01 then
    WaitFrame(10)
    SetFace("HERO_01", "E16_M15", 0, 1, FACE_BLENDTIME, 0)
    PlayMotion("HERO_01", "e002", 2, true, 0)
    SetMouth("HERO_01", 0, 0, 0)
    SetMouth("HERO_01", 1, 0, 30)
    WaitFrame(80)
  elseif result == RESULT_TALK02 then
    PlayMotion("HERO_01", "e013_01", 12, false, 0)
    SetFace("HERO_01", "E10_M15", 0, 1, FACE_BLENDTIME, 0)
    WaitFrame(15)
    SetMouth("HERO_01", 0, 0, 0)
    SetMouth("HERO_01", 1, 0, 30)
    BlendEye("HERO_01", 0, 0, "SCURVE", 10, 0)
    BlendFace("HERO_01", 0, -24, -50, true, "SCURVE", 30, 0)
    WaitFrame(60)
  end
  EndMotion("HERO_01", 0)
  CUT(4)
  SetEnv_All("c04", 0)
  SetCamera(-24.204, -0.377, 9.442, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-25.437, -0.407, 9.869, "LINEAR", 0, false, 0)
  BlendEye("HERO_01", 0, -0, "SCURVE", 15, 0)
  SetFace("HEROINE_01", "E04_M04", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "e021", 2, true, 0)
  WaitFrame(10)
  MessageTalk("m010_200_080")
  SetFace("HEROINE_01", "E01_M04", 0, 1, FACE_BLENDTIME, 0)
  EndMotion("HEROINE_01", 0)
  MessageTalk("m010_200_090")
  MessageClose()
  WaitFrame(10)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 15, 20)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 10, 0)
  PlayMotion("HEROINE_01", "ft03_01", 3, false, 0)
  SetRotation("HEROINE_01", 0, 250, 0, "SCURVE", ROTATION_FREE, 0)
  WaitFrame(35)
  MovePosition("HEROINE_01", -31.416, -1.8, 8.062, true, 1.5, 0)
  WaitFrame(30)
  CUT(5)
  SetEnv_All("c05", 0)
  SetCamera(-24.185, -0.363, 10.161, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-24.177, -0.346, 8.816, "LINEAR", 0, false, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, -33, -0, true, "SCURVE", 0, 0)
  BlendEye("HERO_01", 10, -23, "SCURVE", 20, 30)
  BlendFace("HERO_01", 0, -0, 0, true, "SCURVE", 20, 10)
  SetFace("HEROINE_01", "E15_M15", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HERO_01", "e503", 5, true, 0)
  WaitFrame(30)
  MessageTalk("m010_200_100")
  MessageTalk("m010_200_110")
  MessageClose()
  WaitFrame(10)
  CUT(6)
  SetEnv_All("c06", 0)
  SetCamera(-22.81, -0.313, 9.606, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-24.451, -0.425, 8.874, "LINEAR", 0, false, 0)
  SetCamera(-22.81, -0.313, 9.526, 0, 30, "LINEAR", 300, true, 0)
  SetCameraTarget(-24.451, -0.425, 8.794, "LINEAR", 300, true, 0)
  SetPosition("HEROINE_01", -33.492, -1.792, 8.111, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 252, 0, "LINEAR", 0, 0)
  PlayMotion("HEROINE_01", "e017_in01", 0, false, 0)
  PlayMotion("HEROINE_01", "e017", 3, true, 51)
  BlendFace("HERO_01", -38, -52, 2, true, "SCURVE", 30, 0)
  WaitFrame(10)
  MessageTalk("m010_200_120")
  WaitFrame(10)
  MessageClose()
  PlayMotion("HEROINE_01", "e017_end01", 3, false, 0)
  MessageTalk("m010_200_130")
  MessageClose()
  WaitFrame(10)
  MOTION_WAIT("HEROINE_01", 0, 0)
  CUT(7)
  SetEnv_All("c07", 0)
  SetCamera(-29.362, -0.653, 8.239, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-31.373, -0.761, 8.156, "LINEAR", 0, false, 0)
  SetCamera(-28.356, -0.599, 8.281, 0, 30, "LINEAR", 300, true, 0)
  SetCameraTarget(-31.373, -0.761, 8.156, "LINEAR", 300, true, 0)
  PlayMotion("HEROINE_01", "e008", 2, true, 0)
  WaitFrame(10)
  MessageTalk("m010_200_140")
  MessageClose()
  WaitFrame(10)
  CUT(8)
  SetEnv_All("c08", 0)
  SetPosition("HERO_01", -24.729, -1.8, 9.2, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 306.5, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -31.128, -1.8, 7.702, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -90, 0, "LINEAR", 0, 0)
  SetFace("HERO_01", "E03_M15", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, -0, 0, true, "SCURVE", 30, 0)
  SetCamera(-25.394, -0.353, 10.268, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-25.049, -0.394, 9.642, "LINEAR", 0, false, 0)
  WaitFrame(10)
  MessageTalk("m010_200_150")
  MessageClose()
  MessageTalkSel(1, "m010_200_160")
  PlayMotionBlend("HERO_01", "blend01", 0, false, 0)
  SetMouth("HERO_01", 0, FACE_BLENDTIME, 0)
  SetMouth("HERO_01", 1, MOUTH_BLENDTIME, 60)
  WaitFrame(75)
  EndMotion("HERO_01", 0)
  PlayMotion("HEROINE_01", "e012", 0, false, 0)
  MovePosition("HERO_01", -26.6, -1.8, 9.2, true, 1.2, 0)
  MoveRotation("HERO_01", 0, 250.533, 0, "SCURVE", 0.8, true, 0)
  WaitFrame(10)
  SetCamera(-23.929, 0.176, 9.515, 0, 43, "SCURVE", 90, true, 0)
  SetCameraTarget(-28.383, -0.634, 8.601, "SCURVE", 90, true, 0)
  WaitFrame(90)
  Event_StopBGM(5, 0)
  if Debug.IsEventView() then
    Event_StopBGM(0, 0)
    Event_StopAllSE(0, 0)
    EVENT_END()
  else
    EVENT_END_SEAMLESS(30)
    WaitFrame(30)
  end
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m010_200()
end
