require("include")

function m330_020()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m330")
  SetEventCutNo(7)
  if Debug.IsEventView() then
    SetTimeAxis("A2028_daft_330")
    LoadMap("d0701")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  Load_DigiviceHologram()
  WaitVistaLoad()
  Set_DigiviceHologram()
  SetPosition("HERO_01", 26.116, 0.118, 119.422, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -122.5, 0, "LINEAR", 0, 0)
  SetScale("HERO_01", 1, 1, 1)
  SetPosition("HEROINE_01", 25.286, 0.05, 120.284, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -133, 0, "LINEAR", 0, 0)
  SetScale("HEROINE_01", 1, 1, 1)
  SetPosition("AEGIOMON_01", 25.3, 0.067, 119.529, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, -133, 0, "LINEAR", 0, 0)
  SetScale("AEGIOMON_01", 1, 1, 1)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", 0, 0, 0, false, "SCURVE", 0, 0)
  SetCamera(31.551, 1.094, 122.346, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(24.644, 2.007, 117.041, "LINEAR", 0, false, 0)
  SetCamera(31.096, 1.078, 122.937, 0, 30, "LINEAR", 300, false, 0)
  SetCameraTarget(24.188, 1.991, 117.632, "LINEAR", 300, false, 0)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  Fade_In(0, FADE_TIME)
  WaitFrame(120)
  CUT("2.0")
  SetCamera(24.258, 1.144, 117.996, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(25.841, 1.382, 120.075, "LINEAR", 0, false, 0)
  PlayMotion("HEROINE_01", "e005_01", 5, true, 0)
  SetFace("HEROINE_01", "F11", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m330_020_010")
  MessageClose()
  WaitFrame(10)
  PlayMotion("AEGIOMON_01", "e013_01", 5, true, 0)
  SetFace("AEGIOMON_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m330_020_020")
  MessageClose()
  WaitFrame(10)
  EndMotion("HEROINE_01", 0)
  PlayMotionBlend("HEROINE_01", "blend01", 0, false, 40)
  MessageTalk("m330_020_030")
  MessageClose()
  WaitFrame(10)
  CUT("3.0")
  SetPosition("HEROINE_01", 19.588, 0, 116.778, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -133, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", 19.602, -0.016, 116.023, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, -133, 0, "LINEAR", 0, 0)
  MovePosition("AEGIOMON_01", 15.278, -0.016, 111.304, false, 1, 0)
  MoveRotation("AEGIOMON_01", 0, -137.5, 0, "LINEAR", 1, true, 0)
  MovePosition("HEROINE_01", 14.791, 0, 111.543, false, 1, 0)
  MoveRotation("HEROINE_01", 0, -137.5, 0, "LINEAR", 1, true, 0)
  SetCamera(27.613, 1.649, 119.722, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(25.32, 1.576, 118.789, "LINEAR", 0, false, 0)
  WaitFrame(90)
  CUT("4.0")
  SetCamera(25.496, 1.435, 118.455, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(26.185, 1.597, 119.447, "LINEAR", 0, false, 0)
  WaitFrame(30)
  BlendEye("HERO_01", 39, 0, "SCURVE", 20, 0)
  Play_DigiviceHologram()
  PlayMotion("Horo_AGENT", "e002", 5, true, 0)
  MessageTalk("m330_020_040")
  MessageClose()
  WaitFrame(10)
  SetFace("HERO_01", "F16", 0, 1, FACE_BLENDTIME, 20)
  MessageTalk("m330_020_050")
  MessageClose()
  WaitFrame(10)
  SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m330_020_060")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m330_020_070")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m330_020_080")
  MessageClose()
  WaitFrame(10)
  CUT("5.0")
  SetCamera(26.114, 1.658, 118.753, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(26.073, 1.616, 119.389, "LINEAR", 0, false, 0)
  SetFace("HERO_01", "E03_M15", 0, 1, FACE_BLENDTIME, 15)
  MessageTalk("m330_020_090")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m330_020_100")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m330_020_110")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m330_020_120")
  MessageClose()
  WaitFrame(10)
  SetFace("HERO_01", "E04_M15", 2, 1, FACE_BLENDTIME, 0)
  BlendFace("HERO_01", 21, 0, 0, false, "SCURVE", 30, 0)
  MessageTalk("m330_020_130")
  MessageClose()
  WaitFrame(10)
  CUT("6.0")
  SetCamera(25.553, 1.33, 118.491, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(26.1, 1.575, 119.394, "LINEAR", 0, false, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 30, 0)
  SetFace("HERO_01", "F11", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m330_020_140")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m330_020_150")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m330_020_160")
  MessageClose()
  WaitFrame(10)
  BlendEye("HERO_01", 0, 0, "SCURVE", 30, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 30, 0)
  Close_DigiviceHologram()
  CUT("7.0")
  SetCamera(27.18, 1.651, 119.529, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(25.9, 1.604, 119.136, "LINEAR", 0, false, 0)
  WaitFrame(30)
  if Debug.IsEventView() then
    EVENT_END()
  else
    EVENT_END_SEAMLESS(60)
  end
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m330_020()
end
