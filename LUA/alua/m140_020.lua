require("include")

function m140_020()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m140")
  SetEventCutNo(5)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2020_dbef_140")
    SetMapStatus("Disable")
    LoadMap("d0206")
  end
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("DIGI_MINERVAMON_01", "char_MINERVAMON")
  LoadObject("d0206tower00_01", "d0206tower00")
  LoadObject("d0201thundercloud00_01", "d0201thundercloud00")
  LoadSceneViewerResource("c1.0", "d0206f_sa")
  LoadSceneViewerResource("c2.0", "d0206f_sa")
  LoadSceneViewerResource("c3.0", "d0206f_sa")
  LoadSceneViewerResource("c4.0", "d0206f_sa")
  LoadSceneViewerResource("c5.0", "d0206f_sa")
  LoadSceneViewerResource("c6.0", "d0206f_sa")
  LoadEnvironmentFile("c1.0", "es_m140_020_c1.0")
  LoadEnvironmentFile("c2.0", "es_m140_020_c2.0")
  LoadEnvironmentFile("c3.0", "es_m140_020_c3.0")
  LoadEnvironmentFile("c4.0", "es_m140_020_c4.0")
  LoadEnvironmentFile("c5.0", "es_m140_020_c5.0")
  LoadEnvironmentFile("c6.0", "es_m140_020_c6.0")
  WaitVistaLoad()
  SetPosition("AEGIOMON_01", 6.924, 0, -3.725, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, -155, 0, "LINEAR", 0, 0)
  SetScale("AEGIOMON_01", 1, 1, 1)
  SetPosition("HERO_01", 7.11, 0, -3.714, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -165, 0, "LINEAR", 0, 0)
  SetScale("HERO_01", 1, 1, 1)
  SetPosition("HEROINE_01", 7.884, 0, -3.821, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -160, 0, "LINEAR", 0, 0)
  SetScale("HEROINE_01", 1, 1, 1)
  SetPosition("DIGI_MINERVAMON_01", 8.059, 0, -3.017, "LINEAR", 0, 0)
  SetRotation("DIGI_MINERVAMON_01", 0, -160, 0, "LINEAR", 0, 0)
  SetScale("DIGI_MINERVAMON_01", 0.73, 0.73, 0.73)
  SetPosition("d0206tower00_01", 0, 437.6, -70, "LINEAR", 0, 0)
  SetRotation("d0206tower00_01", 0, 0, 0, "LINEAR", 0, 0)
  SetScale("d0206tower00_01", 1, 1, 1)
  SetPosition("d0201thundercloud00_01", 0, 599.6, -70, "LINEAR", 0, 0)
  SetRotation("d0201thundercloud00_01", 0, 0, 0, "LINEAR", 0, 0)
  SetScale("d0201thundercloud00_01", 0.6, 0.6, 0.6)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, false, 0)
  SetFace("AEGIOMON_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetStartFrame("HERO_01", "fn01_01", 0, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, false, 0)
  SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("DIGI_MINERVAMON_01", "fn01_01", 0, false, 0)
  ChangeDigimonFace("DIGI_MINERVAMON_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("DIGI_MINERVAMON_01", 1, 0, 0)
  PlayMotion("d0206tower00_01", "", 0, false, 0)
  PlayMotion("d0201thundercloud00_01", "", 0, false, 0)
  SetStartFrame("d0201thundercloud00_01", "", 0, 0)
  SetLoopFrame("d0201thundercloud00_01", "", 0, 2400)
  MovePosition("AEGIOMON_01", 6.079, 0, -5.538, true, 2, 30)
  MoveRotation("AEGIOMON_01", 0, -155, 0, "LINEAR", 2, false, 30)
  MovePosition("HERO_01", 6.722, 0, -5.163, false, 1, 0)
  MoveRotation("HERO_01", 0, -165, 0, "LINEAR", 1, true, 0)
  MovePosition("HEROINE_01", 7.2, 0, -5.7, false, 1, 20)
  MoveRotation("HEROINE_01", 0, -160, 0, "LINEAR", 1, true, 20)
  MovePosition("DIGI_MINERVAMON_01", 7.375, 0, -4.896, true, 1, 35)
  MoveRotation("DIGI_MINERVAMON_01", 0, -160, 0, "LINEAR", 1, true, 35)
  SetCamera(6.438, 0.65, -3.639, 0, 50, "LINEAR", 0, false, 0)
  SetCameraTarget(6.698, 1.09, -5.242, "LINEAR", 0, false, 0)
  SetEnv_All("c1.0", 0)
  Field_InvisiblePlayer(INVISIBLE_KEY_EVENT, 0, false)
  Field_InvisibleFollowerAllGuest(INVISIBLE_KEY_EVENT, 0, false)
  Field_InvisibleFollowerAllPartyMember(INVISIBLE_KEY_EVENT, 0, false)
  EVENT_START()
  CUT("1.0")
  Fade_In(0, FADE_TIME)
  WaitFrame(FADE_TIME)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -45, 0, 0, true, "SCURVE", 30, 40)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -100, 0, 0, true, "SCURVE", 20, 50)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", -45, 0, 0, true, "SCURVE", 30, 70)
  BlendFaceDigi("DIGI_MINERVAMON_01", -20, 0, 0, "LINEAR", 20, 50)
  WaitFrame(120)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(120.343, 212.446, 100.372, 0, 50, "LINEAR", 0, false, 0)
  SetCameraTarget(-15, 290, -60, "LINEAR", 0, false, 0)
  SetCamera(120.343, 209.095, 100.372, 0, 50, "SCURVE", 200, false, 0)
  SetCameraTarget(-15, 471.31, -60, "SCURVE", 200, false, 0)
  WaitFrame(205)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(5.641, 1.197, -6.866, 0, 50, "LINEAR", 0, false, 0)
  SetCameraTarget(5.978, 0.979, -6.463, "LINEAR", 0, false, 0)
  SetPosition("AEGIOMON_01", 5.979, 0, -6.418, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, -155, 0, "LINEAR", 0, 0)
  SetPosition("HERO_01", 6.722, 0, -4.843, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -165, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 7.6, 0, -5.669, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -180, 0, "LINEAR", 0, 0)
  SetPosition("DIGI_MINERVAMON_01", 8.2, 0, -4.545, "LINEAR", 0, 0)
  SetRotation("DIGI_MINERVAMON_01", 0, -160, 0, "LINEAR", 0, 0)
  PlayMotion("AEGIOMON_01", "e004", 2, true, 0)
  SetFace("AEGIOMON_01", "F02", 0, 1, 0, 0)
  MessageTalk("m140_020_010")
  MessageClose()
  WaitFrame(10)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetCamera(10.576, 424.974, 67.154, 0, 60, "LINEAR", 0, false, 0)
  SetCameraTarget(0, 610, -70, "LINEAR", 0, false, 0)
  SetCamera(10.243, 430.807, 62.83, 0, 60, "LINEAR", 110, false, 0)
  SetCameraTarget(0, 610, -70, "LINEAR", 110, false, 0)
  WaitFrame(110)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetCamera(6.125, 2.124, -6.609, 0, 35, "LINEAR", 0, false, 0)
  SetCameraTarget(6.758, 1.416, -5.42, "LINEAR", 0, false, 0)
  SetPosition("HERO_01", 6.302, 0, -4.829, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -190, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 6.73, 0, -5.4, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -165, 0, "LINEAR", 0, 0)
  SetPosition("DIGI_MINERVAMON_01", 7.837, 0, -4.738, "LINEAR", 0, 0)
  SetRotation("DIGI_MINERVAMON_01", 0, -165, 0, "LINEAR", 0, 0)
  PlayMotion("HEROINE_01", "e008", 2, true, 0)
  SetFace("HEROINE_01", "F16", 0, 1, FACE_BLENDTIME, 0)
  BlendFace("HERO_01", -55, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", -10, 6, "SCURVE", 6, 10)
  BlendFace("HEROINE_01", -30, 10, -14, true, "SCURVE", 20, 15)
  BlendFaceDigi("DIGI_MINERVAMON_01", -14, 12, 0, "LINEAR", 0, 0)
  MessageTalk("m140_020_020")
  MessageClose()
  WaitFrame(10)
  PlayMotion("DIGI_MINERVAMON_01", "e031", 2, true, 0)
  SetFace("DIGI_MINERVAMON_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotionBlend("DIGI_MINERVAMON_01", "blend01", 2, false, 0)
  BlendFaceDigi("DIGI_MINERVAMON_01", -14, 42, 0, "SCURVE", 34, 0)
  WaitFrame(20)
  EndMotion("HEROINE_01", 0)
  BlendEye("HEROINE_01", 15, -55, "SCURVE", 10, 10)
  BlendFace("HEROINE_01", 0, -75, -14, true, "SCURVE", 20, 0)
  BlendEye("HERO_01", 9, -50, "SCURVE", 10, 15)
  BlendFace("HERO_01", 0, -45, 0, true, "SCURVE", 20, 15)
  MessageTalk("m140_020_030")
  MessageClose()
  WaitFrame(10)
  EndMotion("DIGI_MINERVAMON_01", 0)
  BlendFaceDigi("DIGI_MINERVAMON_01", 0, -5, 0, "LINEAR", 30, 12)
  PlayMotionBlend("HERO_01", "blend01", 2, false, 10)
  SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 15)
  PlayMotionBlend("HEROINE_01", "blend01", 0, false, 15)
  WaitFrame(30)
  BLEND_WAIT("HEROINE_01", 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 10, 0)
  BlendFace("HEROINE_01", 0, 15, 0, true, "SCURVE", 30, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 10, 10)
  BlendFace("HERO_01", 0, 25, 0, true, "SCURVE", 30, 10)
  WaitFrame(30)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  SetCamera(6.273, 1.677, -5.76, 0, 29, "LINEAR", 0, false, 0)
  SetCameraTarget(6.352, 1.506, -4.866, "LINEAR", 0, false, 0)
  local slot_id = Event_PlaySE(500006, 100, true, 0, 0)
  WaitFrame(15)
  PlayMotion("HERO_01", "e503", 4, true, 0)
  SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 15, -40, "SCURVE", 6, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 20, 0)
  WaitFrame(50)
  Event_StopSE(slot_id, 0.2, 0)
  local slot_id = Event_PlaySE(402002, 100, false, 0, 0)
  WaitFrame(15)
  MessageTalk("m140_020_040")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m140_020_050")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m140_020_060")
  MessageClose()
  WaitFrame(10)
  SetFace("HERO_01", "F12", 0, 1, 8, 30)
  MessageTalk("m140_020_070")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m140_020_080")
  MessageClose()
  WaitFrame(10)
  SetFace("HERO_01", "F15", 0, 1, 8, 45)
  MessageTalk("m140_020_090")
  MessageClose()
  WaitFrame(10)
  SetFace("HERO_01", "E03_M15", 0, 1, 6, 0)
  PlayMotionBlend("HERO_01", "blend01", 0, false, 0)
  BLEND_WAIT("HERO_01", 0)
  Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m140_020()
end
