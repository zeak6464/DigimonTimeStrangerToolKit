require("include")

function m420_080()
  Fade_Out(1, 0)
  EVENT_BEGIN()
  Talk.Load("m420")
  SetEventCutNo("10.0")
  if Debug.IsEventView() then
    SetTimeAxis("P2028_daft_441")
    LoadMap("h0701")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  LoadModel("AEGIOMON_B_01", "AegiomonDefault")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("chr805_01", "char_BLACKSHADOW")
  PictureLoad("m420_080_picture01")
  PictureLoad("m420_080_picture02")
  PictureLoad("m420_080_picture03_m")
  PictureLoad("m420_080_picture03_f")
  PictureLoad("m420_080_picture04")
  LoadSceneViewerResource("c1.0", "h0701f_za")
  LoadSceneViewerResource("c2.0", "h0701f_za")
  LoadSceneViewerResource("c3.0", "h0701f_za")
  LoadSceneViewerResource("c4.0", "h0701f_za")
  LoadSceneViewerResource("c5.0", "h0701f_za")
  LoadSceneViewerResource("c10.0", "h0701f_za")
  LoadEnvironmentFile("c1.0", "es_m420_080_c1.0")
  LoadEnvironmentFile("c2.0", "es_m420_080_c2.0")
  LoadEnvironmentFile("c3.0", "es_m420_080_c3.0")
  LoadEnvironmentFile("c4.0", "es_m420_080_c4.0")
  LoadEnvironmentFile("c5.0", "es_m420_080_c5.0")
  LoadEnvironmentFile("c10.0", "es_m420_080_c10.0")
  WaitVistaLoad()
  SetPosition("HERO_01", 0.359, 0.506, -53.363, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", 0.829, 1.972, -55.951, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 13.5, -80, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", 0.659, 1.972, -55.951, "LINEAR", 800, 0)
  SetRotation("AEGIOMON_01", 13.5, -80, 0, "LINEAR", 800, 0)
  SetPosition("AEGIOMON_B_01", 0.55, 0.506, -56.772, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_B_01", 0, 0, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -0.407, 0.506, -55.57, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 92, 0, "LINEAR", 0, 0)
  SetPosition("chr805_01", 0.171, 0.506, -64.558, "LINEAR", 0, 0)
  SetRotation("chr805_01", 0, 0, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 2, 1, FACE_BLENDTIME, 0)
  PlayMotion("AEGIOMON_01", "e600", 0, true, 0)
  SetFace("AEGIOMON_01", "F03", 1, 1, FACE_BLENDTIME, 0)
  PlayMotion("AEGIOMON_B_01", "e002", 0, true, 0)
  SetFace("AEGIOMON_B_01", "F01", 1, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "e601", 0, true, 0)
  SetFace("HEROINE_01", "F16", 2, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr805_01", "bn01", 0, true, 0)
  SetMouth("chr805_01", 1, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -48, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_B_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_B_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendFaceDigi("chr805_01", 0, 0, 0, "SCURVE", 0, 0)
  SetCamera(-0.205, 1.411, -54.336, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(0.34, 2.185, -56.881, "LINEAR", 0, false, 0)
  ModelVisible("AEGIOMON_B_01", false, 0, 0)
  CtrVibration(0, 0.5, 10, 0)
  PostEffect.SetGlitch(true, 5.0E-5, 20, 0.005, 0.005, 0)
  SetVignette()
  SetEnv_All("c1.0", 0)
  FIELD_SET()
  EVENT_START()
  NpcInvisible(FOR_ALL)
  RumorNpcInvisible(FOR_ALL)
  CUT("1.0")
  Fade_In(1, 30)
  WaitFrame(30)
  CtrVibration(0, 0, 0, 0)
  PostEffect.SetGlitch(false, 0, 0, 0, 0, 0)
  CUT("2.0")
  SetEnv_All("c2.0", 60)
  ModelVisible("chr805_01", false, 0, 60)
  SetCamera(-0.387, 1.773, -55.092, 0, 45, "LINEAR", 0, false, 60)
  SetCameraTarget(0.592, 2.342, -57.177, "LINEAR", 0, false, 60)
  CameraOffsetMove(0, 0, 0.1, "LINEAR", true, true, 300, 60)
  MessageTalk("m420_080_010")
  MessageClose()
  WaitFrame(30)
  Fade_OutNoLoadingWithWait(1, FADE_TIME)
  WaitFrame(FADE_TIME)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  ModelVisible("AEGIOMON_B_01", true, 0, 0)
  ModelVisible("HERO_01", false, 0, 0)
  CtrVibration(0, 0.5, 10, 0)
  PostEffect.SetGlitch(true, 5.0E-5, 20, 0.005, 0.005, 0)
  SetVignette()
  SetPosition("AEGIOMON_01", -28.151, 5.607, -50.533, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 21.5, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", -25.219, 5.607, -43.089, "LINEAR", 600, 0)
  SetRotation("AEGIOMON_01", 0, 21.5, 0, "LINEAR", 600, 0)
  SetPosition("AEGIOMON_B_01", -27.588, 5.607, -50.755, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_B_01", 0, 21.5, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_B_01", -24.656, 5.607, -43.311, "LINEAR", 600, 0)
  SetRotation("AEGIOMON_B_01", 0, 21.5, 0, "LINEAR", 600, 0)
  SetPosition("HEROINE_01", -26.227, 5.607, -50.083, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 21.5, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -23.661, 5.607, -43.57, "LINEAR", 600, 0)
  SetRotation("HEROINE_01", 0, 21.5, 0, "LINEAR", 600, 0)
  PlayMotion("AEGIOMON_01", "e602", 0, true, 0)
  SetStartFrame("AEGIOMON_01", "e602", 30, 0)
  SetFace("AEGIOMON_01", "E02_M08", 1, 1, FACE_BLENDTIME, 0)
  PlayMotion("AEGIOMON_B_01", "e602", 0, true, 0)
  SetStartFrame("AEGIOMON_B_01", "e602", 30, 0)
  SetFace("AEGIOMON_B_01", "E02_M08", 1, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "e602", 0, true, 0)
  SetFace("HEROINE_01", "F08", 2, 1, FACE_BLENDTIME, 0)
  BlendEye("AEGIOMON_B_01", -20, 19, "SCURVE", 100, 0)
  BlendFace("AEGIOMON_B_01", -23, 35, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", -20, 19, "SCURVE", 100, 0)
  BlendFace("AEGIOMON_01", -23, 35, 0, true, "SCURVE", 0, 0)
  SetCamera(-24.598, 6.276, -47.93, -5, 40, "LINEAR", 0, false, 0, false)
  SetCameraTarget(-26.524, 6.698, -49.564, "LINEAR", 0, false, 0, false)
  SetCamera(-22.12, 6.183, -41.584, -5, 40, "LINEAR", 700, true, 0, false)
  SetCameraTarget(-24.019, 6.598, -43.196, "LINEAR", 700, true, 0, false)
  Fade_In(1, FADE_TIME)
  WaitFrame(FADE_TIME)
  CtrVibration(0, 0, 0, 0)
  PostEffect.SetGlitch(false, 0, 0, 0, 0, 0)
  WaitFrame(10)
  MessageTalk("m420_080_020")
  MessageClose()
  WaitFrame(10)
  Fade_OutNoLoadingWithWait(1, FADE_TIME)
  WaitFrame(FADE_TIME)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  ModelVisible("chr805_01", true, 0, 0)
  CtrVibration(0, 0.5, 10, 0)
  PostEffect.SetGlitch(true, 5.0E-5, 20, 0.005, 0.005, 0)
  SetVignette()
  SetPosition("AEGIOMON_01", 0.356, 0.506, -55.531, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 270, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_B_01", 0.219, 0.506, -56.144, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_B_01", 0, 270, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -1.21, 0.506, -56.21, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 90, 0, "LINEAR", 0, 0)
  SetPosition("chr805_01", -0.421, 0.506, -64.558, "LINEAR", 0, 0)
  SetRotation("chr805_01", 0, -141.5, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 2, 1, FACE_BLENDTIME, 0)
  PlayMotion("AEGIOMON_01", "e604", 0, true, 0)
  SetFace("AEGIOMON_01", "F02", 1, 1, FACE_BLENDTIME, 0)
  PlayMotion("AEGIOMON_B_01", "e603", 0, true, 0)
  SetFace("AEGIOMON_B_01", "F02", 1, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "e605", 0, true, 0)
  SetFace("HEROINE_01", "F02", 1, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr805_01", "bn01", 0, true, 0)
  ChangeDigimonFace("chr805_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr805_01", 1, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_B_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_B_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", -22, 0, 0, false, "SCURVE", 0, 0)
  BlendFaceDigi("chr805_01", 0, 0, 0, "SCURVE", 0, 0)
  SetCamera(-0.48, 0.726, -52.668, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.371, 1.302, -57.161, "LINEAR", 0, false, 0)
  CameraOffsetMove(0, 0, 0.4, "LINEAR", true, true, 300, 0)
  Fade_In(1, FADE_TIME)
  WaitFrame(25)
  CtrVibration(0, 0, 0, 0)
  PostEffect.SetGlitch(false, 0, 0, 0, 0, 0)
  MessageTalk("m420_080_030")
  MessageClose()
  WaitFrame(10)
  Fade_OutNoLoadingWithWait(1, FADE_TIME)
  WaitFrame(FADE_TIME)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  ModelVisible("chr805_01", false, 0, 0)
  CtrVibration(0, 0.5, 10, 0)
  PostEffect.SetGlitch(true, 5.0E-5, 20, 0.005, 0.005, 0)
  SetVignette()
  SetPosition("HERO_01", -0.468, 0.506, -47.066, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", -0.098, 0.506, -56.476, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", -1, 5, 3.5, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_B_01", -0.449, 0.506, -56.451, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_B_01", 0, 0, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -0.779, 0.506, -56.339, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 0, 0, "LINEAR", 0, 0)
  PlayMotion("AEGIOMON_01", "e606", 0, true, 0)
  SetFace("AEGIOMON_01", "E01_M07", 2, 1, FACE_BLENDTIME, 0)
  PlayMotion("AEGIOMON_B_01", "e606", 0, true, 0)
  SetFace("AEGIOMON_B_01", "E01_M07", 2, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "e606", 0, true, 0)
  SetFace("HEROINE_01", "F01", 2, 1, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", 32, -17, -33, false, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_B_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_B_01", 24, -2, -30, false, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendFaceDigi("chr805_01", 0, 0, 0, "SCURVE", 0, 0)
  SetCamera(0.261, 0.205, -55.129, 0, 35, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.429, 0.995, -56.584, "LINEAR", 0, false, 0)
  CameraOffsetTurn(5, "LINEAR", true, true, 600, 0)
  Fade_In(1, FADE_TIME)
  WaitFrame(25)
  CtrVibration(0, 0, 0, 0)
  PostEffect.SetGlitch(false, 0, 0, 0, 0, 0)
  MessageTalk("m420_080_040")
  MessageClose()
  WaitFrame(10)
  Fade_OutNoLoadingWithWait(1, FADE_TIME)
  WaitFrame(FADE_TIME)
  CUT("6.0")
  PictureOpen("m420_080_picture01")
  WaitFrame(10)
  Fade_In(1, 15)
  WaitFrame(25)
  MessageTalk("m420_080_050")
  Fade_OutNoLoading(1, 10)
  WaitFrame(12)
  MessageClose()
  CUT("7.0")
  PictureOpen("m420_080_picture02")
  Fade_In(1, 15)
  WaitFrame(20)
  MessageTalk("m420_080_060")
  MessageClose()
  WaitFrame(10)
  Fade_OutNoLoading(1, 10)
  WaitFrame(12)
  CUT("8.0")
  local gender = GetGender()
  if gender == HERO then
    PictureOpen("m420_080_picture03_m")
  elseif gender == HEROINE then
    PictureOpen("m420_080_picture03_f")
  end
  Fade_In(1, 15)
  WaitFrame(25)
  MessageTalk("m420_080_070")
  MessageClose()
  WaitFrame(10)
  Fade_OutNoLoading(1, 10)
  WaitFrame(12)
  CUT("9.0")
  PictureOpen("m420_080_picture04")
  WaitFrame(10)
  Fade_In(1, 15)
  WaitFrame(25)
  MessageTalk("m420_080_080")
  MessageClose()
  WaitFrame(10)
  Fade_OutNoLoading(1, 10)
  WaitFrame(10)
  PictureClose()
  CUT("10.0")
  SetEnv_All("c10.0", 0)
  ModelVisible("AEGIOMON_B_01", false, 0, 0)
  ModelVisible("AEGIOMON_01", false, 0, 0)
  ModelVisible("HEROINE_01", false, 0, 0)
  ModelVisible("chr805_01", false, 0, 0)
  ModelVisible("HERO_01", true, 0, 0)
  EndVignette()
  CtrVibration(0, 0.5, 15, 0)
  PostEffect.SetGlitch(true, 5.0E-5, 20, 0.005, 0.005, 0)
  SetPosition("HERO_01", 0.359, 0.506, -53.363, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 180, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, false, 0)
  SetFace("HERO_01", "F15", 2, 1, FACE_BLENDTIME, 0)
  SetBlink("HERO_01", 2, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
  SetCamera(0.393, 2.024, -54.364, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.401, 2.015, -53.404, "LINEAR", 0, false, 0)
  SetCamera(0.32, 2.104, -62.662, 120, 30, "LINEAR", 600, true, 0)
  SetCameraTarget(0.401, 2.015, -53.404, "LINEAR", 600, true, 0)
  Fade_In(1, 15)
  WaitFrame(30)
  CtrVibration(0, 0, 0, 0)
  PostEffect.SetGlitch(false, 0, 0, 0, 0, 0)
  SetBlink("HERO_01", 0, 0, 0)
  SetFace("HERO_01", "F16", 0, 1, FACE_BLENDTIME, 0)
  WaitFrame(60)
  Fade_OutNoLoadingWithWait(1, 60)
  Vista.SetKeepBGM()
  EVENT_END(1)
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m420_080()
end
