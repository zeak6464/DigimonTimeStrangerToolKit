require("include")

function m040_080()
  Fade_Out(FADE_WHITE, 0)
  EVENT_BEGIN()
  Talk.Load("m040")
  SetEventCutNo(1)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2020_dbef_40")
    LoadMap("d1174b")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("ELECMON_01", "char_ELECMON_AEGIOMON")
  LoadModel("TAKEMIYA_01", "char_HEROINES_FATHER")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("RAREMON_01", "char_RAREMON_BIG")
  LoadSceneViewerResource("c1.0", "d1174b_ca")
  LoadEnvironmentFile("c1.0", "es_m040_080_c1.0")
  WaitVistaLoad()
  SetPosition("HERO_01", -1.431, 0, 8.215, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 200, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 9, 4, "SCURVE", 0, 0)
  BlendFace("HERO_01", -28, -11, 0, true, "SCURVE", 0, 0)
  SetPosition("ELECMON_01", 0.309, 0, 9.44, "LINEAR", 0, 0)
  SetRotation("ELECMON_01", 0, 205, 0, "LINEAR", 0, 0)
  SetPosition("TAKEMIYA_01", -2.133, 0, 9.575, "LINEAR", 0, 0)
  SetRotation("TAKEMIYA_01", 0, 169, 0, "LINEAR", 0, 0)
  BlendEye("TAKEMIYA_01", 19, -15, "SCURVE", 20, 20)
  BlendFace("TAKEMIYA_01", -4, 6, 0, true, "SCURVE", 0, 0)
  BlendFace("TAKEMIYA_01", -4, -7, 0, true, "SCURVE", 20, 0)
  SetPosition("HEROINE_01", 0.053, 0, 10.3, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 197, 0, "LINEAR", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", -12, 10, -10, false, "SCURVE", 0, 0)
  SetPosition("RAREMON_01", 3.514, 0, -5.259, "LINEAR", 0, 0)
  SetRotation("RAREMON_01", 0, -59, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "bn01", 0, true, 0)
  SetFace("HERO_01", "E03_M10", 1, 1, FACE_BLENDTIME, 0)
  PlayMotion("TAKEMIYA_01", "e018", 0, true, 0)
  SetFace("TAKEMIYA_01", "E03_M06", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "e005_01", 0, true, 0)
  SetStartFrame("HEROINE_01", "e005_01", 20, 0)
  SetFace("HEROINE_01", "F03", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("ELECMON_01", "bn01", 0, true, 0)
  PlayMotion("RAREMON_01", "bn01", 0, false, 0)
  ModelVisible("HEROINE_01", false, 0, 0)
  ModelVisible("ELECMON_01", false, 0, 0)
  SetCamera(-1.606, 1.388, 7.272, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-1.783, 1.276, 9.877, "LINEAR", 0, false, 0)
  SetEnv_All("c1.0", 0)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  Fade_In(FADE_WHITE, FADE_TIME)
  WaitFrame(FADE_TIME)
  BlendEye("HERO_01", 9, 56, "SCURVE", 20, 10)
  BlendFace("HERO_01", -30, 6, 0, true, "SCURVE", 20, 10)
  SetFace("HERO_01", "E03_M15", 0, 2, FACE_BLENDTIME, 15)
  MessageTalk("m040_080_010")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m040_080_020")
  MessageClose()
  WaitFrame(10)
  PlayMotionBlend("HERO_01", "blend01", 3, false, 0)
  BlendEye("HERO_01", 9, 4, "SCURVE", 12, 10)
  BlendFace("HERO_01", -28, -11, 0, true, "SCURVE", 14, 10)
  SetBlink("HERO_01", 2, 1, 6)
  SetBlink("HERO_01", 0, 1, 15)
  WaitFrame(60)
  Fade_OutNoLoadingWithWait(FADE_WHITE, FADE_TIME)
  if Debug.IsEventView() then
    Event_StopBGM(1, 0)
  end
  Vista.SetKeepBGM()
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m040_080()
end
