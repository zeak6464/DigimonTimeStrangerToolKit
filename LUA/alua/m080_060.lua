require("include")

function m080_060()
  Fade_OutNoLoading(0, 0)
  EVENT_BEGIN()
  Talk.Load("m080")
  SetEventCutNo(7)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2020_dbef_80")
    LoadMap("h0201")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("AEGIOMON_B_01", "char_AEGIOMON_PLAIN_CLOTHES")
  Vista.BindSpeaker("AEGIOMON_B_01", "char_AEGIOMON")
  LoadSceneViewerResource("c1.0", "h0201f_za")
  LoadSceneViewerResource("c2.0", "h0201f_za")
  LoadSceneViewerResource("c3.0", "h0201f_za")
  LoadSceneViewerResource("c4.0", "h0201f_za")
  LoadSceneViewerResource("c5.0", "h0201f_za")
  LoadSceneViewerResource("c6.0", "h0201f_za")
  LoadSceneViewerResource("c6.2", "h0201f_za")
  LoadSceneViewerResource("c6.5", "h0201f_za")
  LoadSceneViewerResource("c6.8", "h0201f_za")
  LoadSceneViewerResource("c7.0", "h0201f_za")
  LoadEnvironmentFile("c1.0", "es_m080_060_c1.0")
  LoadEnvironmentFile("c2.0", "es_m080_060_c2.0")
  LoadEnvironmentFile("c3.0", "es_m080_060_c3.0")
  LoadEnvironmentFile("c4.0", "es_m080_060_c4.0")
  LoadEnvironmentFile("c5.0", "es_m080_060_c5.0")
  LoadEnvironmentFile("c6.0", "es_m080_060_c6.0")
  LoadEnvironmentFile("c6.2", "es_m080_060_c6.2")
  LoadEnvironmentFile("c6.5", "es_m080_060_c6.5")
  LoadEnvironmentFile("c6.8", "es_m080_060_c6.8")
  LoadEnvironmentFile("c7.0", "es_m080_060_c7.0")
  WaitVistaLoad()
  SetPosition("HERO_01", -13.076, 0, 26.69, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 171, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -12.085, 0, 27.144, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -171.5, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_B_01", -12.722, 0, 25.114, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_B_01", 0, 184.599, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F16", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("AEGIOMON_B_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_B_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 20, 0)
  BlendFace("HERO_01", -39, 0, 0, true, "SCURVE", 20, 0)
  BlendEye("AEGIOMON_B_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_B_01", -49, 9, 0, true, "SCURVE", 0, 0)
  SetCamera(-13.962, 5.841, 27.502, 0, 50, "LINEAR", 0, false, 0)
  SetCameraTarget(-7.474, 1.641, 15.359, "LINEAR", 0, false, 0)
  SetCamera(-13.962, 3.871, 27.502, 0, 50, "LINEAR", 190, true, 0)
  SetCameraTarget(-7.474, -0.329, 15.359, "LINEAR", 190, true, 0)
  SetEnv_All("c1.0", 0)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  local slot_id = Event_PlaySE(404018, 100, true, 0, 0)
  WaitFrame(60)
  Event_PlayBGM(111, 0, 0)
  Fade_In(0, 30)
  WaitFrame(30)
  WaitFrame(100)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(14.476, 3.738, 18.733, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(5.422, -1.571, 0.911, "LINEAR", 0, false, 0)
  SetCamera(13.022, 2.856, 14.738, 0, 40, "LINEAR", 100, false, 0)
  SetCameraTarget(7.822, 1.301, 0.441, "LINEAR", 100, false, 0)
  WaitFrame(95)
  MovePosition("HEROINE_01", -12.085, 0, 26.034, false, 1, 0)
  MoveRotation("HEROINE_01", 0, -171.5, 0, "LINEAR", 1, true, 0)
  MovePosition("HERO_01", -12.951, 0, 25.9, false, 1.1, 0)
  MoveRotation("HERO_01", 0, 171, 0, "LINEAR", 1.1, true, 0)
  WaitFrame(5)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(-16.359, 0.962, 29.099, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-13.956, 1.618, 24.164, "LINEAR", 0, false, 0)
  SetCamera(-16.777, 0.849, 29.833, 0, 40, "LINEAR", 150, true, 0)
  SetCameraTarget(-13.726, 1.668, 24.474, "LINEAR", 150, true, 0)
  WaitFrame(60)
  PlayMotion("HEROINE_01", "e201", 10, false, 0)
  EndMotion("HEROINE_01", 96)
  SetFace("HEROINE_01", "E05_M07", 0, 1, FACE_BLENDTIME, 0)
  WaitFrame(60)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetPosition("HERO_01", -12.778, 0, 26.103, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 171, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -12.085, 0, 26.034, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -171.5, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_B_01", -12.722, 0, 25.114, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_B_01", 0, 180, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "e013_01", 15, true, 0)
  SetFace("AEGIOMON_B_01", "F16", 0, 1, FACE_BLENDTIME, 0)
  SetFace("HEROINE_01", "E05_M15", 0, 1, FACE_BLENDTIME, 150)
  BlendEye("HERO_01", 0, 0, "SCURVE", 10, 0)
  BlendFace("HERO_01", -39, -54, 0, true, "SCURVE", 30, 0)
  BlendEye("HERO_01", 15, 23, "SCURVE", 10, 0)
  BlendFace("HERO_01", -25, 51, 0, true, "SCURVE", 40, 60)
  SetCamera(-14.538, 0.654, 24.417, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(-12.668, 1.227, 25.537, "LINEAR", 0, false, 0)
  MessageTalk("m080_060_010")
  MessageClose()
  EndMotion("HERO_01", 0)
  MessageTalkSel(3, "m080_060_011")
  result = Talk.GetResultSelectedNum()
  if result == RESULT_TALK00 then
  elseif result == RESULT_TALK01 then
  elseif result == RESULT_TALK02 then
  end
  PlayMotion("HERO_01", "e008", 2, true, 0)
  SetFace("HERO_01", "E03_M15", 0, 0, FACE_BLENDTIME, 0)
  SetFace("HERO_01", "E03_M15", 0, 1, FACE_BLENDTIME, 50)
  WaitFrame(70)
  BlendEye("HEROINE_01", 0, 9, "SCURVE", 10, 0)
  BlendFace("HEROINE_01", 30, 93, 0, true, "SCURVE", 30, 0)
  SetFace("HEROINE_01", "F04", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m080_060_015")
  MessageClose()
  local slot_id = Event_PlaySE(400001, 100, false, 0.3, 0)
  PlayMotion("AEGIOMON_B_01", "ft02_01", 3, false, 0)
  PlayMotion("AEGIOMON_B_01", "e002", 5, true, ROTATION180)
  SetFace("AEGIOMON_B_01", "E15_M01", 0, 1, FACE_BLENDTIME, 0)
  SetPosition("AEGIOMON_B_01", -12.722, 0, 25.114, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_B_01", 0, 0, 0, "LINEAR", ROTATION180, 0)
  BlendEye("AEGIOMON_B_01", -6, 0, "SCURVE", 20, 0)
  BlendFace("AEGIOMON_B_01", -43, 43, -28, true, "SCURVE", ROTATION180, 0)
  WaitFrame(20)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetCamera(-12.824, 1.327, 25.971, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-12.73, 1.042, 25.185, "LINEAR", 0, false, 0)
  WaitFrame(10)
  MessageTalk("m080_060_020")
  MessageClose()
  WaitFrame(10)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  BlendEye("AEGIOMON_B_01", -6, 0, "SCURVE", 30, 0)
  BlendFace("AEGIOMON_B_01", -43, 43, -28, true, "SCURVE", 30, 0)
  BlendEye("HEROINE_01", 12, 0, "SCURVE", 15, 0)
  BlendFace("HEROINE_01", 47, 31, 0, true, "SCURVE", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 20, -11, 0, true, "SCURVE", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "E16_M15", 0, 1, FACE_BLENDTIME, 0)
  SetCamera(-13.692, 0.786, 24.722, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(-12.764, 1.06, 25.239, "LINEAR", 0, false, 0)
  WaitFrame(10)
  MessageTalk("m080_060_030")
  MessageClose()
  WaitFrame(10)
  SetFace("HEROINE_01", "F04", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HEROINE_01", 42, 0, "SCURVE", 20, 0)
  Vista.SetEnableLipSyncsAnimation("HEROINE_01", false)
  MessageTalk("m080_060_040")
  MessageClose()
  WaitFrame(10)
  Vista.SetEnableLipSyncsAnimation("HEROINE_01", true)
  CUT("6.2")
  SetEnv_All("c6.2", 0)
  BlendEye("AEGIOMON_B_01", -24, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_B_01", -43, 43, -28, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 9, "SCURVE", 10, 15)
  BlendFace("HEROINE_01", 30, 93, 0, true, "SCURVE", 30, 15)
  BlendEye("HERO_01", 0, -15, "SCURVE", 10, 0)
  BlendFace("HERO_01", -3, -83, 0, true, "SCURVE", 30, 0)
  SetFace("HERO_01", "E10_M06", 0, 1, FACE_BLENDTIME, 0)
  SetCamera(-14.538, 0.654, 24.417, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(-12.668, 1.227, 25.537, "LINEAR", 0, false, 0)
  MessageTalkSel(3, "m080_060_050")
  result = Talk.GetResultSelectedNum()
  if result == RESULT_TALK00 then
    PlayMotionBlend("HERO_01", "blend01", 3, false, 0)
    SetMouth("HERO_01", 0, 6, 0)
    SetMouth("HERO_01", 1, 6, 30)
    WaitFrame(45)
  elseif result == RESULT_TALK01 then
    PlayMotionBlend("HERO_01", "blend02", 3, false, 0)
    SetMouth("HERO_01", 0, 6, 0)
    SetMouth("HERO_01", 1, 6, 30)
    WaitFrame(45)
  elseif result == RESULT_TALK02 then
    PlayMotionBlend("HERO_01", "blend03", 3, false, 0)
    SetMouth("HERO_01", 0, 6, 0)
    SetMouth("HERO_01", 1, 6, 45)
    WaitFrame(45)
  end
  BlendEye("HEROINE_01", 25, 0, "SCURVE", 10, 0)
  BlendFace("HEROINE_01", 89, 0, 0, true, "SCURVE", 45, 0)
  SetFace("HEROINE_01", "F04", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m080_060_060")
  PlayMotion("HEROINE_01", "e031", 3, true, 0)
  SetFace("HEROINE_01", "F04", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m080_060_070")
  MessageClose()
  WaitFrame(10)
  PlayMotion("HERO_01", "e002", 4, true, 0)
  SetFace("HERO_01", "E15_02", 0, 0, FACE_BLENDTIME, 0)
  PlayMotionBlend("HERO_01", "blend01", 3, false, 40)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 70)
  WaitFrame(70)
  SetFace("HEROINE_01", "F16", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HEROINE_01", 0, 9, "SCURVE", 10, 0)
  BlendFace("HEROINE_01", 30, 93, 0, true, "SCURVE", 30, 0)
  WaitFrame(20)
  Event_StopBGM(2, 0)
  Vista.SetEnableLipSyncsAnimation("HEROINE_01", false)
  MessageTalk("m080_060_080")
  MessageClose()
  WaitFrame(10)
  Vista.SetEnableLipSyncsAnimation("HEROINE_01", true)
  CUT("6.5")
  SetEnv_All("c6.5", 0)
  EndMotion("HEROINE_01", 0)
  SetCamera(-12.951, 1.509, 25.561, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-12.151, 1.452, 25.995, "LINEAR", 0, false, 0)
  MessageTalk("m080_060_090")
  MessageClose()
  WaitFrame(10)
  Event_PlayBGM(303, 0.5, 0)
  SetFace("HEROINE_01", "E04_M01", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m080_060_100")
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 10, 0)
  BlendFace("HEROINE_01", 6, 0, 0, true, "SCURVE", 30, 0)
  PlayMotion("HEROINE_01", "e014", 0, false, 0)
  PlayMotion("HEROINE_01", "fn01_01", 2, true, 104)
  SetFace("HEROINE_01", "E08_M02", 0, 1, 0, 0)
  MessageTalk("m080_060_110")
  MessageClose()
  WaitFrame(10)
  CUT("6.8")
  SetEnv_All("c6.8", 0)
  PlayMotionBlend("HEROINE_01", "blend01", 3, false, 30)
  SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HEROINE_01", 0, 9, "SCURVE", 10, 0)
  BlendFace("HEROINE_01", 30, 93, 0, true, "SCURVE", 30, 0)
  SetCamera(-14.538, 0.654, 24.417, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(-12.668, 1.227, 25.537, "LINEAR", 0, false, 0)
  WaitFrame(10)
  MessageTalk("m080_060_120")
  MessageClose()
  WaitFrame(10)
  CUT("7.0")
  SetEnv_All("c7.0", 0)
  EndMotion("HEROINE_01", 0)
  SetCamera(-12.644, 1.545, 27.378, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-12.795, 1.45, 25.099, "LINEAR", 0, false, 0)
  SetCamera(-12.64, 1.551, 27.264, 0, 30, "LINEAR", 45, true, 0)
  SetCameraTarget(-12.857, 1.461, 25.496, "LINEAR", 45, true, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 30, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 30, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 10, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 45, 0)
  Event_StopBGM(2, 0)
  WaitFrame(45)
  if Debug.IsEventView() then
    EVENT_END()
  else
    EVENT_END_SEAMLESS(60)
  end
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m080_060()
end
