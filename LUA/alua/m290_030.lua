require("include")

function m290_030()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m290")
  SetEventCutNo(6)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2028_daft_290")
    SetMapStatus("Disable")
    LoadMap("d0402")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  LoadModel("chr923_01", "char_MASTERBLIMPMON_RAMP")
  LoadSceneViewerResource("c1.0", "d0402f_ta")
  LoadSceneViewerResource("c2.0", "d0402f_ta")
  LoadSceneViewerResource("c3.0", "d0402f_ta")
  LoadSceneViewerResource("c4.0", "d0402f_ta")
  LoadSceneViewerResource("c5.0", "d0402f_ta")
  LoadSceneViewerResource("c6.0", "d0402f_ta")
  LoadEnvironmentFile("c1.0", "es_m290_030_c1.0")
  LoadEnvironmentFile("c2.0", "es_m290_030_c2.0")
  LoadEnvironmentFile("c3.0", "es_m290_030_c3.0")
  LoadEnvironmentFile("c4.0", "es_m290_030_c4.0")
  LoadEnvironmentFile("c5.0", "es_m290_030_c5.0")
  LoadEnvironmentFile("c6.0", "es_m290_030_c6.0")
  WaitVistaLoad()
  SetPosition("HERO_01", 29.748, 9.013, 115.085, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 225, 0, "LINEAR", 0, 0)
  SetScale("HERO_01", 1, 1, 1)
  SetPosition("HEROINE_01", 28.856, 9.064, 115.148, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 226, 0, "LINEAR", 0, 0)
  SetScale("HEROINE_01", 1, 1, 1)
  SetPosition("AEGIOMON_01", 28.957, 9.056, 116.101, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 225, 0, "LINEAR", 0, 0)
  SetScale("AEGIOMON_01", 1, 1, 1)
  SetPosition("chr923_01", 43.681, 9.793, 119.396, "LINEAR", 0, 0)
  SetRotation("chr923_01", 0, 146.617, 0, "LINEAR", 0, 0)
  SetScale("chr923_01", 3.015, 3.015, 3.015)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "E15_M16", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_01", "E04_M16", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr923_01", "fn01_02", 0, true, 0)
  ChangeDigimonFace("chr923_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr923_01", 1, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", 0, 0, 0, false, "SCURVE", 0, 0)
  SetCamera(18.753, 9.259, 109.542, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(28.654, 10.623, 113.29, "LINEAR", 0, false, 0)
  SetCamera(18.381, 9.298, 110.511, 0, 40, "LINEAR", 300, true, 0)
  SetCameraTarget(28.282, 10.662, 114.259, "LINEAR", 300, true, 0)
  MovePosition("HERO_01", 27.344, 9.013, 112.681, false, 0.85, 0)
  MovePosition("HEROINE_01", 26.122, 9.064, 112.509, false, 1, 0)
  MovePosition("AEGIOMON_01", 26.129, 9.056, 113.272, false, 1, 0)
  FIELD_SET()
  EVENT_START()
  NpcInvisible(FOR_ALL)
  ObjectInvisible(FOR_ALL)
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  Fade_In(0, FADE_TIME)
  WaitFrame(90)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetPosition("HERO_01", 28.513, 8.988, 113.167, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 225, 0, "LINEAR", 0, 0)
  SetScale("HERO_01", 1, 1, 1)
  SetPosition("HEROINE_01", 27.752, 8.983, 113.389, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 226, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", 27.219, 9.017, 114.103, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 225, 0, "LINEAR", 0, 0)
  SetPosition("HERO_01", 27.311, 8.988, 111.965, "LINEAR", 55, 0)
  SetPosition("HEROINE_01", 26.386, 8.983, 112.069, "LINEAR", 40, 0)
  SetPosition("AEGIOMON_01", 26.158, 9.017, 113.042, "LINEAR", 48, 0)
  PlayMotion("HERO_01", "fw01_01", 0, true, 0)
  PlayMotion("HERO_01", "fn01_01", 5, true, 55)
  PlayMotion("HEROINE_01", "fw01_01", 0, true, 0)
  PlayMotion("HEROINE_01", "fn01_01", 5, true, 40)
  PlayMotion("AEGIOMON_01", "fw01_01", 0, true, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 5, true, 48)
  SetCamera(29.311, 10.489, 115.831, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(27.286, 10.631, 113.992, "LINEAR", 0, false, 0)
  SetCamera(29.677, 10.507, 115.429, 0, 40, "LINEAR", 300, true, 0)
  SetCameraTarget(27.651, 10.648, 113.591, "LINEAR", 300, true, 0)
  WaitFrame(50)
  PlayMotion("AEGIOMON_01", "e008_01", 5, true, 0)
  SetFace("AEGIOMON_01", "E04_M16", 0, 1, FACE_BLENDTIME, 0)
  WaitFrame(105)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetPosition("HERO_01", 27.311, 8.988, 111.965, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 233.5, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 26.386, 8.983, 112.069, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 226, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", 26.227, 9.017, 112.84, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 214.5, 0, "LINEAR", 0, 0)
  SetCamera(25.004, 10.158, 111.268, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(25.655, 10.188, 111.646, "LINEAR", 0, false, 0)
  SetFace("HEROINE_01", "F04", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m290_030_010")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m290_030_020")
  MessageClose()
  WaitFrame(10)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  ModelVisible("HEROINE_01", false, 0, 0)
  SetCamera(25.433, 9.94, 112.041, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(26.029, 9.983, 112.595, "LINEAR", 0, false, 0)
  EndMotion("AEGIOMON_01", 0)
  MessageTalk("m290_030_030")
  MessageClose()
  WaitFrame(10)
  BlendEye("AEGIOMON_01", 2, -55, "SCURVE", 30, 0)
  BlendFace("AEGIOMON_01", -21, -49, 0, true, "SCURVE", 30, 0)
  BlendEye("HERO_01", 35, 43, "SCURVE", 30, 0)
  BlendFace("HERO_01", 0, 36, 0, true, "SCURVE", 30, 0)
  WaitFrame(5)
  SetFace("AEGIOMON_01", "E03_M15", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m290_030_040")
  MessageClose()
  WaitFrame(10)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  SetCamera(26.416, 10.511, 111.496, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(27.375, 10.489, 111.951, "LINEAR", 0, false, 0)
  WaitFrame(10)
  PlayMotionBlend("HERO_01", "blend01", 3, false, 0)
  WaitFrame(45)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  SetPosition("HERO_01", 27.311, 8.988, 111.965, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 233.5, 0, "LINEAR", 0, 0)
  SetCamera(26.502, 10.548, 112.518, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(27.153, 10.496, 111.968, "LINEAR", 0, false, 0)
  WaitFrame(3)
  PlayMotion("HERO_01", "ft01_01", 5, false, 0)
  PlayMotion("HERO_01", "fn01_01", 3, true, 45)
  SetRotation("HERO_01", 0, 150, 0, "LINEAR", ROTATION90, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 30, 0)
  Event_StopBGM(2, 0)
  WaitFrame(45)
  if Debug.IsEventView() then
    EVENT_END()
  else
    EVENT_END_SEAMLESS(60)
  end
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m290_030()
end
