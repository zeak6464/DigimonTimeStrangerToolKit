gGimText = "field_text"
COL0604_01 = {
  "wall_cl_1010",
  "wall_cl_1011",
  "wall_cl_1012",
  "wall_cl_1014",
  "wall_cl_1015",
  "wall_cl_1016",
  "wall_cl_1017",
  "wall_cl_1018",
  "wall_cl_1019",
  "wall_cl_1020",
  "wall_cl_1013"
}
wall0603_N = {
  "wall_north_01",
  "wall_north_02",
  "wall_north_03",
  "wall_north_04",
  "wall_north_05",
  "wall_north_06",
  "wall_north_07",
  "wall_north_08",
  "wall_north_09",
  "wall_north_10",
  "wall_north_11",
  "wall_north_12"
}
wall0603_N_Init01 = {
  "wall_north_01",
  "wall_north_02",
  "wall_north_03",
  "wall_north_04",
  "wall_north_07"
}
col0603_N_Init01 = {
  "col_north_01",
  "col_north_02",
  "col_north_03",
  "col_north_04",
  "col_north_07"
}
wall0603_N_Init02 = {
  "wall_north_08",
  "wall_north_09",
  "wall_north_10",
  "wall_north_11",
  "wall_north_12"
}
col0603_N_Init02 = {
  "col_north_08",
  "col_north_09",
  "col_north_10",
  "col_north_11",
  "col_north_12"
}
wall0603_N_01 = {
  "wall_north_01",
  "wall_north_02",
  "wall_north_03",
  "wall_north_04",
  "wall_north_05",
  "wall_north_06"
}
col0603_N_01 = {
  "col_north_01",
  "col_north_02",
  "col_north_03",
  "col_north_04",
  "col_north_05",
  "col_north_06"
}
wall0603_N_02 = {
  "wall_north_08",
  "wall_north_09",
  "wall_north_10",
  "wall_north_11",
  "wall_north_12",
  "wall_north_05",
  "wall_north_06"
}
col0603_N_02 = {
  "col_north_08",
  "col_north_09",
  "col_north_10",
  "col_north_11",
  "col_north_12",
  "col_north_05",
  "col_north_06"
}
wall0603_N_03 = {
  "wall_north_07"
}
col0603_N_03 = {
  "col_north_07"
}
wall0603_C = {
  "wall_center_01",
  "wall_center_02",
  "wall_center_03",
  "wall_center_04",
  "wall_center_05",
  "wall_center_06",
  "wall_center_07",
  "wall_center_08",
  "wall_center_09",
  "wall_center_10",
  "wall_center_11",
  "wall_center_12",
  "wall_centermaze01_01",
  "wall_centermaze01_02",
  "wall_centermaze01_03",
  "wall_centermaze02_01",
  "wall_centermaze02_02",
  "wall_centermaze02_03",
  "wall_centermaze02_04",
  "wall_centermaze03_01",
  "wall_centermaze03_02",
  "wall_centermaze04_01",
  "wall_centermaze04_02",
  "wall_centermaze04_03",
  "wall_centermaze05_01",
  "wall_centermaze05_02",
  "wall_centermaze05_03",
  "wall_centermaze05_04"
}
wall0603_CenterMaze01_Init01 = {
  "wall_centermaze01_01",
  "wall_centermaze01_02",
  "wall_centermaze01_03"
}
col0603_CenterMaze01_Init01 = {
  "col_centermaze01_01",
  "col_centermaze01_02",
  "col_centermaze01_03"
}
wall0603_CenterMaze02_Init01 = {
  "wall_centermaze02_01",
  "wall_centermaze02_02",
  "wall_centermaze02_03",
  "wall_centermaze02_04"
}
col0603_CenterMaze02_Init01 = {
  "col_centermaze02_01",
  "col_centermaze02_02",
  "col_centermaze02_03",
  "col_centermaze02_04"
}
wall0603_CenterMaze03_Init01 = {
  "wall_centermaze03_01",
  "wall_centermaze03_02"
}
col0603_CenterMaze03_Init01 = {
  "col_centermaze03_01",
  "col_centermaze03_02"
}
wall0603_CenterMaze04_Init01 = {
  "wall_centermaze04_01",
  "wall_centermaze04_02",
  "wall_centermaze04_03"
}
col0603_CenterMaze04_Init01 = {
  "col_centermaze04_01",
  "col_centermaze04_02",
  "col_centermaze04_03"
}
wall0603_CenterMaze05_Init01 = {
  "wall_centermaze05_01",
  "wall_centermaze05_02",
  "wall_centermaze05_03",
  "wall_centermaze05_04"
}
col0603_CenterMaze05_Init01 = {
  "col_centermaze05_01",
  "col_centermaze05_02",
  "col_centermaze05_03",
  "col_centermaze05_04"
}
wall0603_CenterMaze01_01 = {
  "wall_centermaze01_01",
  "wall_centermaze01_02",
  "wall_centermaze01_03",
  "wall_center_12"
}
col0603_CenterMaze01_01 = {
  "col_centermaze01_01",
  "col_centermaze01_02",
  "col_centermaze01_03",
  "col_center_12"
}
wall0603_CenterMaze02_01 = {
  "wall_centermaze02_01",
  "wall_centermaze02_02",
  "wall_centermaze02_03",
  "wall_centermaze02_04",
  "wall_center_04"
}
col0603_CenterMaze02_01 = {
  "col_centermaze02_01",
  "col_centermaze02_02",
  "col_centermaze02_03",
  "col_centermaze02_04",
  "col_center_04"
}
wall0603_CenterMaze03_01 = {
  "wall_centermaze03_01",
  "wall_centermaze03_02"
}
col0603_CenterMaze03_01 = {
  "col_centermaze03_01",
  "col_centermaze03_02"
}
wall0603_CenterMaze04_01 = {
  "wall_centermaze04_01",
  "wall_centermaze04_02",
  "wall_centermaze04_03"
}
col0603_CenterMaze04_01 = {
  "col_centermaze04_01",
  "col_centermaze04_02",
  "col_centermaze04_03"
}
wall0603_CenterMaze05_01 = {
  "wall_centermaze05_01",
  "wall_centermaze05_02",
  "wall_centermaze05_03",
  "wall_centermaze05_04",
  "wall_center_02",
  "wall_center_08"
}
col0603_CenterMaze05_01 = {
  "col_centermaze05_01",
  "col_centermaze05_02",
  "col_centermaze05_03",
  "col_centermaze05_04",
  "col_center_02",
  "col_center_08"
}
wall0603_S = {
  "wall_south_01",
  "wall_south_02",
  "wall_south_03",
  "wall_south_04",
  "wall_south_05",
  "wall_south_06",
  "wall_southmaze01_01",
  "wall_southmaze02_01",
  "wall_southmaze03_01",
  "wall_southmaze03_02",
  "wall_southmaze03_03"
}
wall0603_SouthMaze01_Init01 = {
  "wall_southmaze01_01"
}
col0603_SouthMaze01_Init01 = {
  "col_southmaze01_01"
}
wall0603_SouthMaze02_Init01 = {
  "wall_southmaze02_01"
}
col0603_SouthMaze02_Init01 = {
  "col_southmaze02_01"
}
wall0603_SouthMaze03_Init01 = {
  "wall_southmaze03_01",
  "wall_southmaze03_02",
  "wall_southmaze03_03"
}
col0603_SouthMaze03_Init01 = {
  "col_southmaze03_01",
  "col_southmaze03_02",
  "col_southmaze03_03"
}
wall0603_SouthMaze01_01 = {
  "wall_south_06",
  "wall_southmaze01_01"
}
col0603_SouthMaze01_01 = {
  "col_south_06",
  "col_southmaze01_01"
}
wall0603_SouthMaze02_01 = {
  "wall_south_01",
  "wall_southmaze02_01"
}
col0603_SouthMaze02_01 = {
  "col_south_01",
  "col_southmaze02_01"
}
wall0603_SouthMaze03_01 = {
  "wall_southmaze03_01",
  "wall_southmaze03_02",
  "wall_southmaze03_03"
}
col0603_SouthMaze03_01 = {
  "col_southmaze03_01",
  "col_southmaze03_02",
  "col_southmaze03_03"
}
wall0603_A = {
  "wall_aisle_01",
  "wall_aisle_02",
  "wall_aisle_03",
  "wall_aisle_04",
  "wall_aisle_05",
  "wall_aisle_06"
}
wall0603_A_Init01 = {
  "wall_aisle_01",
  "wall_aisle_02",
  "wall_aisle_03",
  "wall_aisle_04",
  "wall_aisle_05",
  "wall_aisle_06"
}
col0603_A_Init01 = {
  "col_aisle_01",
  "col_aisle_02",
  "col_aisle_03",
  "col_aisle_04",
  "col_aisle_05",
  "col_aisle_06"
}
wall0603_A_01 = {
  "wall_aisle_01"
}
wall0603_A_02 = {
  "wall_aisle_02"
}
wall0603_A_03 = {
  "wall_aisle_03"
}
wall0603_A_04 = {
  "wall_aisle_04"
}
wall0603_A_05 = {
  "wall_aisle_05"
}
wall0603_A_06 = {
  "wall_aisle_06"
}
col0603_A_01 = {
  "col_aisle_01"
}
col0603_A_02 = {
  "col_aisle_02"
}
col0603_A_03 = {
  "col_aisle_03"
}
col0603_A_04 = {
  "col_aisle_04"
}
col0603_A_05 = {
  "col_aisle_05"
}
col0603_A_06 = {
  "col_aisle_06"
}
wall0603_Searcheye01_Init01 = {
  "wall_aisle_01"
}
wall0603_Searcheye01_Init02 = {
  "wall_south_01",
  "wall_south_02",
  "wall_south_03",
  "wall_south_04",
  "wall_south_05",
  "wall_south_06"
}
col0603_Searcheye01_Init01 = {
  "col_aisle_01"
}
col0603_Searcheye01_Init02 = {
  "col_south_01",
  "col_south_02",
  "col_south_03",
  "col_south_04",
  "col_south_05",
  "col_south_06"
}
wall0603_Searcheye02_Init01 = {
  "wall_aisle_02",
  "wall_aisle_03"
}
col0603_Searcheye02_Init01 = {
  "col_aisle_02",
  "col_aisle_03"
}
wall0603_Searcheye02_01 = {
  "wall_aisle_02",
  "wall_aisle_03",
  "wall_south_01",
  "wall_south_06",
  "wall_southmaze01_01",
  "wall_southmaze02_01",
  "wall_southmaze03_01",
  "wall_southmaze03_02",
  "wall_southmaze03_03"
}
col0603_Searcheye02_01 = {
  "col_aisle_02",
  "col_aisle_03",
  "col_south_01",
  "col_south_06",
  "col_southmaze01_01",
  "col_southmaze02_01",
  "col_southmaze03_01",
  "col_southmaze03_02",
  "col_southmaze03_03"
}
wall0603_Searcheye03_Init01 = {
  "wall_aisle_04",
  "wall_aisle_05"
}
col0603_Searcheye03_Init01 = {
  "col_aisle_04",
  "col_aisle_05"
}
wall0603_Searcheye03_Init02 = {
  "wall_center_01",
  "wall_center_02",
  "wall_center_03",
  "wall_center_04",
  "wall_center_05",
  "wall_center_06",
  "wall_center_07",
  "wall_center_08",
  "wall_center_09",
  "wall_center_10",
  "wall_center_11",
  "wall_center_12"
}
col0603_Searcheye03_Init02 = {
  "col_center_01",
  "col_center_02",
  "col_center_03",
  "col_center_04",
  "col_center_05",
  "col_center_06",
  "col_center_07",
  "col_center_08",
  "col_center_09",
  "col_center_10",
  "col_center_11",
  "col_center_12"
}
wall0603_Searcheye04_Init01 = {
  "wall_aisle_06"
}
col0603_Searcheye04_Init01 = {
  "col_aisle_06"
}

function LoadGimmickData(load_map_num)
  CreateLoadList()
  for i = 1, #PC_GENERAL_MOTION do
    Motion.Object:Load(FLD_OBJ_PLAYER, "", PC_GENERAL_MOTION[i])
  end
  if load_map_num == 601 then
  elseif load_map_num == 602 then
    AddLoadList(FLD_OBJ_LOCATOR, {
      "obj_0001",
      motion = {
        "e001",
        "e002",
        "e003"
      }
    })
    AddLoadList(FLD_OBJ_LOCATOR, {
      "obj_0002",
      motion = {
        "e001",
        "e002",
        "e003"
      }
    })
    AddLoadList(FLD_OBJ_LOCATOR, {
      "obj_0003",
      motion = {
        "e001",
        "e002",
        "e003"
      }
    })
    AddLoadList(FLD_OBJ_LOCATOR, {
      "obj_0004",
      motion = {"e001"}
    })
  elseif load_map_num == 603 then
    AddLoadList(FLD_OBJ_PLAYER, {
      "",
      motion = {"fg11_d01"},
      attach = {6},
      attach_motion = {
        {6, "e001"},
        {6, "e002"}
      }
    })
    Field.ObjectLoadMotion(OGIM, GetIndex(OGIM, "obj_switch01"), "e001")
    Field.ObjectLoadMotion(OGIM, GetIndex(OGIM, "obj_switch02"), "e001")
    Field.ObjectLoadMotion(OGIM, GetIndex(OGIM, "obj_switch01"), "e002")
    Field.ObjectLoadMotion(OGIM, GetIndex(OGIM, "obj_switch02"), "e002")
    Field.ObjectLoadMotion(OGIM, GetIndex(OGIM, "obj_door01"), "e004")
    Field.ObjectLoadMotion(OGIM, GetIndex(OGIM, "obj_door02"), "e001")
    for i = 1, #wall0603_N do
      gim_index = GetIndex(OGIM, wall0603_N[i])
      Field.ObjectLoadMotion(OGIM, gim_index, "e001")
      Field.ObjectLoadMotion(OGIM, gim_index, "e002")
    end
    for i = 1, #wall0603_C do
      gim_index = GetIndex(OGIM, wall0603_C[i])
      Field.ObjectLoadMotion(OGIM, gim_index, "e001")
      Field.ObjectLoadMotion(OGIM, gim_index, "e002")
    end
    for i = 1, #wall0603_S do
      gim_index = GetIndex(OGIM, wall0603_S[i])
      Field.ObjectLoadMotion(OGIM, gim_index, "e001")
      Field.ObjectLoadMotion(OGIM, gim_index, "e002")
    end
    for i = 1, #wall0603_A do
      gim_index = GetIndex(OGIM, wall0603_A[i])
      Field.ObjectLoadMotion(OGIM, gim_index, "e001")
      Field.ObjectLoadMotion(OGIM, gim_index, "e002")
    end
  elseif load_map_num == 604 then
    AddLoadList(FLD_OBJ_LOCATOR, {
      "gim_0009",
      motion = {"e001"}
    })
    for i = 1, 14 do
      if i ~= 11 then
        AddLoadList(FLD_OBJ_LOCATOR, {
          "obj_00" .. string.format("%02d", i),
          motion = {"e001"}
        })
      end
    end
    Field.ObjectLoadMotion(OGIM, GetIndex(OGIM, "obj_door01"), "e003")
    Field.ObjectLoadMotion(OGIM, GetIndex(OGIM, "obj_door02"), "e001")
    Field.ObjectLoadMotion(OGIM, GetIndex(OGIM, "obj_door03"), "e004")
    Field.ObjectLoadMotion(OGIM, GetIndex(OGIM, "obj_door04"), "e002")
    Field.ObjectLoadMotion(OGIM, GetIndex(OGIM, "obj_switch01"), "e001")
    Field.ObjectLoadMotion(OGIM, GetIndex(OGIM, "obj_switch01"), "e002")
    Field.ObjectLoadMotion(OGIM, GetIndex(OGIM, "obj_switch02"), "e001")
    Field.ObjectLoadMotion(OGIM, GetIndex(OGIM, "obj_doorswitch01"), "e001")
    Field.ObjectLoadMotion(OGIM, GetIndex(OGIM, "obj_doorswitch01"), "e002")
  elseif load_map_num == 605 then
  elseif load_map_num == 606 then
  elseif load_map_num == 607 then
  end
  LoadDataInLoadList()
end

function InitializeObject()
  print("##### d06_gim #####")
  print("##### map_prefix = ", gMapPrefix, " ##### map_num = ", gMapNum, " #####")
  gCollisionTable = {}
  local num = ""
  PlayerObjectResetAim()
  if gMapNum == 601 then
    local npc_index = GetIndex(NPC, "M_burinp_100")
    Field.ObjectSuspendAutoTransparent(NPC, npc_index, AUTO_TRANSPARENT_TYPE_ALL)
  elseif gMapNum == 602 then
    ColOff("plan_cl_1000")
    ColOff("plan_cl_1001")
    ColOff("plan_cl_1002")
    ColOff("plan_cl_1003")
    ColOff("plan_cl_1004")
    if not Flg.Check("FLAG_MAIN_19_067", "FLAG_MAIN_19_065") then
      ColOff("cliff_cl_0001")
    end
    if not Flg.Check("FLAG_MAIN_19_015") then
      Field.LinkColOff("mapborder_1")
      Field.LinkColOff("mapborder_2")
      Field.LinkColOff("mapborder_3")
      Field.LinkColOff("mapborder_4")
      Field.LinkColOff("mapborder_5")
      Field.LinkColOff("mapborder_7")
      Field.LinkColOff("mapborder_8")
      Field.LinkColOff("mapborder_9")
    end
    if Flg.Check("FLAG_MAIN_19_010") and not Flg.Check("FLAG_MAIN_19_015") then
      Field.CameraSwitchChangeByFileName("d0607_railcam", "railcam_col_01_01", false)
    end
    if Flg.Check("QUEST_M410_CLEAR") then
      Flg.Clear("FLAG_GIMMICK_D06_160")
    end
  elseif gMapNum == 603 then
    if Flg.Check("FLAG_GIMMICK_D06_170") then
      Field.ObjectSetEnableCheckAndFieldAttack(OGIM, GetIndex(OGIM, "obj_switch01"), false)
      Motion.Object:PlayFinishedAnim(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_switch01"), 0, "e002")
    end
    if Flg.Check("FLAG_GIMMICK_D06_190") then
      Field.ObjectSetEnableCheckAndFieldAttack(OGIM, GetIndex(OGIM, "obj_switch02"), false)
      Motion.Object:PlayFinishedAnim(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_switch02"), 0, "e002")
    end
    if Flg.Check("FLAG_GIMMICK_D06_100") then
      Motion.Object:PlayFinishedAnim(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_door01"), 0, "e004")
      Field.ObjectInvisible(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "col_door01"), 0, 0, false)
      Motion.Object:PlayFinishedAnim(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_doorswitch01"), 0, "e001")
      Field.ObjectSetEnableCheckAndFieldAttack(OGIM, GetIndex(OGIM, "obj_doorswitch01"), false)
      Field.ObjectInvisible(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "access_door01"), 0, 0, false)
    end
    if Flg.Check("FLAG_MAIN_19_063") then
      Motion.Object:PlayFinishedAnim(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_door02"), 0, "e001")
      Field.ObjectInvisible(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "col_door02"), 0, 0, false)
      Field.ObjectInvisible(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "access_door02"), 0, 0, false)
    end
    if not Flg.Check("FLAG_GIMMICK_D06_020") then
      Prcs_d0603_WallChangeInit(wall0603_N_Init02, col0603_N_Init02, false)
      Prcs_d0603_WallChangeInit(wall0603_N_Init01, col0603_N_Init01, true)
      Field.ObjectSetEnableCheckAndFieldAttack(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "fa_searcheye_01"), true)
      Field.ObjectSetEnableCheckAndFieldAttack(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "fa_searcheye_02"), false)
      Obj:new(OGIM, "fa_searcheye_02"):Invisible()
    else
      Prcs_d0603_WallChangeInit(wall0603_N_Init01, col0603_N_Init01, false)
      Prcs_d0603_WallChangeInit(wall0603_N_Init02, col0603_N_Init02, true)
      Field.ObjectSetEnableCheckAndFieldAttack(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "fa_searcheye_01"), false)
      Field.ObjectSetEnableCheckAndFieldAttack(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "fa_searcheye_02"), true)
      Obj:new(OGIM, "fa_searcheye_01"):Invisible()
      Field.ObjectSetEnableCheckAndFieldAttack(OGIM, GetIndex(OGIM, "wall_north_07"), false)
    end
    if Flg.Check("FLAG_MAIN_19_054") then
      Field.ObjectSetEnableCheckAndFieldAttack(OGIM, GetIndex(OGIM, "wall_north_07"), false)
    end
    if not Flg.Check("FLAG_GIMMICK_D06_190") and not Flg.Check("FLAG_GIMMICK_D06_030") then
      Prcs_d0603_WallChangeInit(wall0603_Searcheye01_Init01, col0603_Searcheye01_Init01, false)
      Prcs_d0603_WallChangeInit(wall0603_Searcheye01_Init02, col0603_Searcheye01_Init02, true)
      Obj:new(OGIM, "fa_searcheye_03"):Invisible()
    elseif Flg.Check("FLAG_GIMMICK_D06_190") and not Flg.Check("FLAG_GIMMICK_D06_030") then
      Prcs_d0603_WallChangeInit(wall0603_Searcheye01_Init01, col0603_Searcheye01_Init01, true)
      Prcs_d0603_WallChangeInit(wall0603_Searcheye01_Init02, col0603_Searcheye01_Init02, true)
    else
      Prcs_d0603_WallChangeInit(wall0603_Searcheye01_Init01, col0603_Searcheye01_Init01, false)
      Prcs_d0603_WallChangeInit(wall0603_Searcheye01_Init02, col0603_Searcheye01_Init02, false)
      Obj:new(OGIM, "fa_searcheye_03"):Invisible()
    end
    if not Flg.Check("FLAG_GIMMICK_D06_190") and not Flg.Check("FLAG_GIMMICK_D06_040") then
      Prcs_d0603_WallChangeInit(wall0603_Searcheye02_Init01, col0603_Searcheye02_Init01, false)
      Obj:new(OGIM, "fa_searcheye_04"):Invisible()
    elseif Flg.Check("FLAG_GIMMICK_D06_190") and not Flg.Check("FLAG_GIMMICK_D06_040") then
      Prcs_d0603_WallChangeInit(wall0603_Searcheye02_Init01, col0603_Searcheye02_Init01, true)
    else
      Prcs_d0603_WallChangeInit(wall0603_Searcheye02_01, col0603_Searcheye02_01, false)
      Obj:new(OGIM, "fa_searcheye_04"):Invisible()
    end
    if not Flg.Check("FLAG_GIMMICK_D06_190") and not Flg.Check("FLAG_GIMMICK_D06_060") then
      Prcs_d0603_WallChangeInit(wall0603_Searcheye03_Init01, col0603_Searcheye03_Init01, false)
      Prcs_d0603_WallChangeInit(wall0603_Searcheye03_Init02, col0603_Searcheye03_Init02, true)
      Obj:new(OGIM, "fa_searcheye_05"):Invisible()
    elseif Flg.Check("FLAG_GIMMICK_D06_190") and not Flg.Check("FLAG_GIMMICK_D06_060") then
      Prcs_d0603_WallChangeInit(wall0603_Searcheye03_Init01, col0603_Searcheye03_Init01, true)
      Prcs_d0603_WallChangeInit(wall0603_Searcheye03_Init02, col0603_Searcheye03_Init02, true)
    else
      Prcs_d0603_WallChangeInit(wall0603_Searcheye03_Init01, col0603_Searcheye03_Init01, false)
      Prcs_d0603_WallChangeInit(wall0603_Searcheye03_Init02, col0603_Searcheye03_Init02, false)
      Obj:new(OGIM, "fa_searcheye_05"):Invisible()
    end
    if not Flg.Check("FLAG_GIMMICK_D06_190") and not Flg.Check("FLAG_GIMMICK_D06_070") then
      Prcs_d0603_WallChangeInit(wall0603_Searcheye04_Init01, col0603_Searcheye04_Init01, false)
      Obj:new(OGIM, "fa_searcheye_06"):Invisible()
    elseif Flg.Check("FLAG_GIMMICK_D06_190") and not Flg.Check("FLAG_GIMMICK_D06_070") then
      Prcs_d0603_WallChangeInit(wall0603_Searcheye04_Init01, col0603_Searcheye04_Init01, true)
    else
      Prcs_d0603_WallChangeInit(wall0603_Searcheye04_Init01, col0603_Searcheye04_Init01, false)
      Obj:new(OGIM, "fa_searcheye_06"):Invisible()
    end
    if not Flg.Check("FLAG_GIMMICK_D06_080") and not Flg.Check("FLAG_GIMMICK_D06_040") then
      Prcs_d0603_WallChangeInit(wall0603_SouthMaze01_Init01, col0603_SouthMaze01_Init01, false)
    elseif Flg.Check("FLAG_GIMMICK_D06_080") and not Flg.Check("FLAG_GIMMICK_D06_040") then
      Prcs_d0603_WallChangeInit(wall0603_SouthMaze01_01, col0603_SouthMaze01_01, true)
    else
      Prcs_d0603_WallChangeInit(wall0603_SouthMaze01_01, col0603_SouthMaze01_01, false)
    end
    if not Flg.Check("FLAG_GIMMICK_D06_090") and not Flg.Check("FLAG_GIMMICK_D06_040") then
      Prcs_d0603_WallChangeInit(wall0603_SouthMaze02_Init01, col0603_SouthMaze02_Init01, false)
    elseif Flg.Check("FLAG_GIMMICK_D06_090") and not Flg.Check("FLAG_GIMMICK_D06_040") then
      Prcs_d0603_WallChangeInit(wall0603_SouthMaze02_01, col0603_SouthMaze02_01, true)
    else
      Prcs_d0603_WallChangeInit(wall0603_SouthMaze02_01, col0603_SouthMaze02_01, false)
    end
    if not Flg.Check("FLAG_GIMMICK_D06_220") and not Flg.Check("FLAG_GIMMICK_D06_040") then
      Prcs_d0603_WallChangeInit(wall0603_SouthMaze03_Init01, col0603_SouthMaze03_Init01, false)
    elseif Flg.Check("FLAG_GIMMICK_D06_220") and not Flg.Check("FLAG_GIMMICK_D06_040") then
      Prcs_d0603_WallChangeInit(wall0603_SouthMaze03_01, col0603_SouthMaze03_01, true)
    else
      Prcs_d0603_WallChangeInit(wall0603_SouthMaze03_01, col0603_SouthMaze03_01, false)
    end
    if not Flg.Check("FLAG_GIMMICK_D06_230") then
      Prcs_d0603_WallChangeInit(wall0603_CenterMaze01_Init01, col0603_CenterMaze01_Init01, false)
    else
      Prcs_d0603_WallChangeInit(wall0603_CenterMaze01_01, col0603_CenterMaze01_01, true)
    end
    if not Flg.Check("FLAG_GIMMICK_D06_240") then
      Prcs_d0603_WallChangeInit(wall0603_CenterMaze02_Init01, col0603_CenterMaze02_Init01, false)
    else
      Prcs_d0603_WallChangeInit(wall0603_CenterMaze02_01, col0603_CenterMaze02_01, true)
    end
    if not Flg.Check("FLAG_GIMMICK_D06_250") then
      Prcs_d0603_WallChangeInit(wall0603_CenterMaze03_Init01, col0603_CenterMaze03_Init01, false)
    else
      Prcs_d0603_WallChangeInit(wall0603_CenterMaze03_01, col0603_CenterMaze03_01, true)
    end
    if not Flg.Check("FLAG_GIMMICK_D06_260") then
      Prcs_d0603_WallChangeInit(wall0603_CenterMaze04_Init01, col0603_CenterMaze04_Init01, false)
    else
      Prcs_d0603_WallChangeInit(wall0603_CenterMaze04_01, col0603_CenterMaze04_01, true)
    end
    if not Flg.Check("FLAG_GIMMICK_D06_270") then
      Prcs_d0603_WallChangeInit(wall0603_CenterMaze05_Init01, col0603_CenterMaze05_Init01, false)
    else
      Prcs_d0603_WallChangeInit(wall0603_CenterMaze05_01, col0603_CenterMaze05_01, true)
    end
    local enemy_index1 = GetIndex(ENEMY, "enemy_01")
    if not Flg.Check("FLAG_GIMMICK_D06_340") then
      Field.SymbolForceLeave(enemy_index1, false, FOREVER)
    end
    local enemy_index2 = GetIndex(ENEMY, "enemy_02")
    if not Flg.Check("FLAG_GIMMICK_D06_350") then
      Field.SymbolForceLeave(enemy_index2, false, FOREVER)
    end
    local enemy_index3 = GetIndex(ENEMY, "enemy_03")
    if not Flg.Check("FLAG_GIMMICK_D06_360") then
      Field.SymbolForceLeave(enemy_index3, false, FOREVER)
    end
    local enemy_index4 = GetIndex(ENEMY, "enemy_04")
    if not Flg.Check("FLAG_GIMMICK_D06_370") then
      Field.SymbolForceLeave(enemy_index4, false, FOREVER)
    end
    if Flg.Check("FLAG_MAIN_19_063") then
      Motion.Object:PlayFinishedAnim(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_door01"), 0, "e004")
      Field.ObjectSetEnableCheckAndFieldAttack(OGIM, GetIndex(OGIM, "access_door01"), false)
      Field.ObjectInvisible(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "col_door01"), 0, 0, false)
    end
  elseif gMapNum == 604 then
    SetEnableGimmickCheck("fa_0002", false)
    if Flg.Check("FLAG_MAIN_19_063") then
      Flg.Set("FLAG_GIMMICK_D06_120")
      Flg.Set("FLAG_GIMMICK_D06_130")
      Flg.Set("FLAG_GIMMICK_D06_140")
      if not Flg.Check("QUEST_M410_CLEAR") then
        Motion.Gimmick:PlayFinishedAnim("obj_0001", "e001")
        ColOff("wall_cl_1010")
      end
    end
    if Flg.Check("FLAG_GIMMICK_D06_120") then
      Motion.Object:PlayFinishedAnim(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_door01"), 0, "e003")
      Field.ObjectInvisible(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "col_door01"), 0, 0, false)
      Field.ObjectInvisible(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "access_door01"), 0, 0, false)
    end
    if Flg.Check("FLAG_GIMMICK_D06_130") then
      Motion.Object:PlayFinishedAnim(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_door02"), 0, "e001")
      Field.ObjectInvisible(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "col_door02"), 0, 0, false)
      Field.ObjectSetEnableCheckAndFieldAttack(OGIM, GetIndex(OGIM, "obj_doorswitch01"), false)
      Motion.Object:PlayFinishedAnim(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_doorswitch01"), 0, "e001")
      Field.ObjectInvisible(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "access_door02"), 0, 0, false)
    end
    if Flg.Check("FLAG_GIMMICK_D06_140") then
      Motion.Object:PlayFinishedAnim(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_door03"), 0, "e004")
      Field.ObjectInvisible(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "col_door03"), 0, 0, false)
      Field.ObjectInvisible(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "access_door03"), 0, 0, false)
    end
    Flg.Set("FLAG_GIMMICK_D06_150")
    if Flg.Check("FLAG_GIMMICK_D06_150") then
      Motion.Object:PlayFinishedAnim(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_door04"), 0, "e002")
      Field.ObjectInvisible(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "col_door04"), 0, 0, false)
    end
    if Flg.Check("FLAG_GIMMICK_D06_200") then
      Field.ObjectSetEnableCheckAndFieldAttack(OGIM, GetIndex(OGIM, "obj_switch01"), false)
      Motion.Object:PlayFinishedAnim(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_switch01"), 0, "e002")
    end
    if Flg.Check("FLAG_GIMMICK_D06_290") then
      Motion.Gimmick:PlayFinishedAnim("gim_0009", "e001")
      ColOff("wall_cl_1024")
    else
      ColOff("wall_cl_1025")
      ColOff("wall_cl_1026")
    end
    if Flg.Check("FLAG_GIMMICK_D06_110") then
      Field.SetEnableGimmickCheck("gim_0002", false)
      Motion.Gimmick:PlayFinishedAnim("gim_0002", "e001")
      for i = 1, 12 do
        Motion.Gimmick:PlayFinishedAnim("obj_00" .. string.format("%02d", i), "e001")
      end
      ColOffWithTable(COL0604_01)
      ColOff("evt_9000")
      ColOff("evt_9001")
      ColOff("evt_9002")
      ColOff("evt_9003")
      ColOff("evt_9005")
    end
    if Flg.Check("FLAG_GIMMICK_D06_110") then
      Obj:new(NPC, "npc_0002"):Invisible()
      Obj:new(NPC, "npc_0003"):Invisible()
      Obj:new(NPC, "npc_0004"):Invisible()
      Obj:new(NPC, "npc_0008"):Invisible()
      SetEnableGimmickCheck("gim_0004", true)
    else
      SetEnableGimmickCheck("gim_0004", false)
    end
    if Flg.Check("FLAG_GIMMICK_D06_180") and not Flg.Check("QUEST_M410_CLEAR") then
      for i = 2, 10 do
        Motion.Gimmick:PlayFinishedAnim("obj_00" .. string.format("%02d", i), "e001")
      end
      ColOff("wall_cl_1014")
      ColOff("wall_cl_1015")
      ColOff("wall_cl_1016")
      ColOff("wall_cl_1017")
      ColOff("wall_cl_1018")
      ColOff("wall_cl_1019")
      ColOff("wall_cl_1011")
      ColOff("wall_cl_1012")
      ColOff("wall_cl_1013")
      Motion.Gimmick:PlayFinishedAnim("gim_0009", "e001")
      ColOff("wall_cl_1024")
      ColOn("wall_cl_1025")
      ColOn("wall_cl_1026")
    end
    Motion.Gimmick:PlayFinishedAnim("obj_0007", "e001")
    ColOff("wall_cl_1016")
    if Flg.Check("FLAG_GIMMICK_D06_210") then
      Obj:new(FLD_OBJ_GIMMICK, "col_lattice01"):CancelInvisible()
      Obj:new(FLD_OBJ_GIMMICK, "col_lattice02"):CancelInvisible()
      Obj:new(FLD_OBJ_GIMMICK, "col_lattice03"):CancelInvisible()
      Motion.Object:PlayFinishedAnim(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_lattice01"), 0, "e001")
      Motion.Object:PlayFinishedAnim(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_lattice02"), 0, "e001")
      Motion.Object:PlayFinishedAnim(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_lattice03"), 0, "e001")
      Motion.Object:PlayFinishedAnim(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_switch02"), 0, "e001")
    end
    if not Flg.Check("FLAG_MAIN_19_057") then
      Field.ObjectSetEnableCheckAndFieldAttack(FLD_OBJ_LOCATOR, GetIndex(FLD_OBJ_LOCATOR, "gim_0002"), false)
    elseif Flg.Check("FLAG_MAIN_19_063") and not Flg.Check("FLAG_SUB_090_161_001") then
      Field.ObjectSetEnableCheckAndFieldAttack(FLD_OBJ_LOCATOR, GetIndex(FLD_OBJ_LOCATOR, "gim_0002"), false)
    end
    local enemy_index1 = GetIndex(ENEMY, "enemy_01")
    if not Flg.Check("FLAG_GIMMICK_D06_310") then
      Field.SymbolForceLeave(enemy_index1, false, FOREVER)
    end
    if Flg.Check("FLAG_MAIN_19_057", "FLAG_MAIN_19_058") then
      Obj:new(NPC, "npc_1034"):Invisible()
    end
    if not Flg.Check("FLAG_GIMMICK_D06_320") then
      Field.ObjectSetEnableCheckAndFieldAttack(FLD_OBJ_LOCATOR, GetIndex(FLD_OBJ_LOCATOR, "theater_0001"), false)
    end
    if not Flg.Check("FLAG_MAIN_19_068") then
      Field.ObjectSetEnableCheckAndFieldAttack(OGIM, GetIndex(OGIM, "obj_switch02"), false)
    elseif Flg.Check("FLAG_GIMMICK_D06_210") then
      Field.ObjectSetEnableCheckAndFieldAttack(OGIM, GetIndex(OGIM, "obj_switch02"), false)
    end
  elseif gMapNum == 606 then
    local npc_index = GetIndex(NPC, "npc_103")
    Field.ObjectSuspendAutoTransparent(NPC, npc_index, AUTO_TRANSPARENT_TYPE_ALL)
  elseif gMapNum == 607 then
    if Flg.Check("FLAG_MAIN_20_015", "FLAG_MAIN_20_022") then
      Field_InvisibleFollowerAllPartyMember(0, 0, false)
      Field_InvisibleFollowerAllGuest(0, 0, false)
    end
    if Flg.Check("FLAG_MAIN_20_016", "FLAG_MAIN_20_018") then
      Field.PlayerFixedMaxSpeed(5)
    elseif Flg.Check("FLAG_MAIN_20_018", "FLAG_MAIN_20_021") then
      Field.PlayerFixedMaxSpeed(2)
    end
    if Flg.Check("FLAG_MAIN_20_015", "FLAG_MAIN_20_020") then
      Field.HideGuide(true)
    end
    if Flg.Check("FLAG_MAIN_20_016", "FLAG_MAIN_20_020") then
    end
  elseif gMapNum == 608 then
  elseif gMapNum == 609 then
    Field.ObjectDisableCulling(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "trap01"))
    Field.ObjectDisableCulling(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "trap02"))
    Field.ObjectDisableCulling(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "trap03"))
    Field.ObjectDisableCulling(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "trap04"))
    Field.ObjectDisableCulling(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "trap05"))
    Field.ObjectDisableCulling(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "trap06"))
    Field.ObjectDisableCulling(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "trap07"))
    Field.ObjectDisableCulling(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "trap08"))
    Field.ObjectDisableCulling(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "trap09"))
    Field.ObjectDisableCulling(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "trap10"))
    Field.ObjectDisableCulling(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "trap11"))
    Field.ObjectDisableCulling(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "trap12"))
    Field.ObjectDisableCulling(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "trap13"))
    Field.ObjectDisableCulling(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "trap14"))
    Obj:new(OGIM, "Grankuwaga"):Invisible()
    if not Flg.Check("FLAG_FIELD_D0609_040") then
      Field.ObjectSetEnableCheckAndFieldAttack(ENEMY, GetIndex(ENEMY, "enemy_Grankuwaga02"), false)
    end
  end
end

function OnTriggerEnter(col)
  local col_name = col.name
  print("##### col_name = ", col_name, " ##### map_prefix = ", gMapPrefix, " ##### map_num = ", gMapNum .. " #####")
  if gMapNum == 601 then
  elseif gMapNum == 602 then
    if col_name == "evt_0003" then
      if Flg.Check("FLAG_MAIN_19_010") and not Flg.Check("QUEST_M410_CLEAR") then
        Flg.Clear("FLAG_GIMMICK_D06_160")
        Flg.Set("FLAG_GIMMICK_D06_300")
      end
    elseif col_name == "evt_0004" and Flg.Check("FLAG_MAIN_19_010") and not Flg.Check("QUEST_M410_CLEAR") then
      Flg.Set("FLAG_GIMMICK_D06_160")
    end
    if col_name == "evt_0007" then
      if Flg.Check("FLAG_MAIN_19_010") and not Flg.Check("FLAG_MAIN_19_020") then
        Flg.Clear("FLAG_GIMMICK_D06_160")
        Flg.Set("FLAG_GIMMICK_D06_300")
      end
    elseif col_name == "evt_0006" and Flg.Check("FLAG_MAIN_19_010") and not Flg.Check("FLAG_MAIN_19_020") then
      Flg.Set("FLAG_GIMMICK_D06_160")
    end
    if col_name == "evt_0005" then
    end
    if col_name == "evt_4100" then
      M410:Event_100()
    end
    if col_name ~= "evt_9005" or Flg.Check("FLAG_MAIN_19_010", "FLAG_MAIN_19_015") then
    elseif Flg.Check("FLAG_MAIN_19_063", "FLAG_MAIN_19_065") then
    end
  elseif gMapNum == 603 then
    if col_name == "evt_0002" and Flg.Check("FLAG_GIMMICK_D06_190") and not Flg.Check("FLAG_GIMMICK_D06_080") then
      Flg.Set("FLAG_GIMMICK_D06_080")
      Prcs_d0603_WallChange(wall0603_SouthMaze01_01, col0603_SouthMaze01_01, true)
    end
    if col_name == "evt_0003" and Flg.Check("FLAG_GIMMICK_D06_190") and not Flg.Check("FLAG_GIMMICK_D06_090") then
      Flg.Set("FLAG_GIMMICK_D06_090")
      Prcs_d0603_WallChange(wall0603_SouthMaze02_01, col0603_SouthMaze02_01, true)
    end
    if col_name == "evt_0004" and Flg.Check("FLAG_GIMMICK_D06_190") and not Flg.Check("FLAG_GIMMICK_D06_220") then
      Flg.Set("FLAG_GIMMICK_D06_220")
      Prcs_d0603_WallChange(wall0603_SouthMaze03_01, col0603_SouthMaze03_01, true)
    end
    if col_name == "evt_0005" then
      if Flg.Check("FLAG_GIMMICK_D06_190") and not Flg.Check("FLAG_GIMMICK_D06_230") then
        Flg.Set("FLAG_GIMMICK_D06_230")
        Prcs_d0603_WallChange(wall0603_CenterMaze01_01, col0603_CenterMaze01_01, true)
      end
      FieldObjectSync(NPC, false)
    end
    if col_name == "evt_0006" and Flg.Check("FLAG_GIMMICK_D06_190") and not Flg.Check("FLAG_GIMMICK_D06_240") then
      Flg.Set("FLAG_GIMMICK_D06_240")
      Prcs_d0603_WallChange(wall0603_CenterMaze02_01, col0603_CenterMaze02_01, true)
    end
    if col_name == "evt_0007" and Flg.Check("FLAG_GIMMICK_D06_190") and not Flg.Check("FLAG_GIMMICK_D06_250") then
      Flg.Set("FLAG_GIMMICK_D06_250")
      Prcs_d0603_WallChange(wall0603_CenterMaze03_01, col0603_CenterMaze03_01, true)
    end
    if col_name == "evt_0009" and Flg.Check("FLAG_GIMMICK_D06_190") and not Flg.Check("FLAG_GIMMICK_D06_260") then
      Flg.Set("FLAG_GIMMICK_D06_260")
      Prcs_d0603_WallChange(wall0603_CenterMaze04_01, col0603_CenterMaze04_01, true)
    end
    if col_name == "evt_0010" and Flg.Check("FLAG_GIMMICK_D06_190") and not Flg.Check("FLAG_GIMMICK_D06_270") then
      Flg.Set("FLAG_GIMMICK_D06_270")
      Prcs_d0603_WallChange(wall0603_CenterMaze05_01, col0603_CenterMaze05_01, true)
    end
    if col_name == "evt_0011" then
      local enemy_index = GetIndex(ENEMY, "enemy_01")
      if Field.ObjectExists(ENEMY, enemy_index) then
        Field.SymbolForceLeave(enemy_index, false, FOREVER)
        Flg.Clear("FLAG_GIMMICK_D06_340")
      end
    elseif col_name == "evt_0012" then
      local enemy_index = GetIndex(ENEMY, "enemy_01")
      if not Field.ObjectExists(ENEMY, enemy_index) and Flg.Check("FLAG_GIMMICK_D06_030") and not Flg.Check("FLAG_GIMMICK_D06_040") then
        Field.SymbolForceRespawn(enemy_index, false, true)
        Flg.Set("FLAG_GIMMICK_D06_340")
      end
    end
    if col_name == "evt_0014" then
      local enemy_index = GetIndex(ENEMY, "enemy_02")
      if Field.ObjectExists(ENEMY, enemy_index) then
        Field.SymbolForceLeave(enemy_index, false, FOREVER)
        Flg.Clear("FLAG_GIMMICK_D06_350")
      end
      local enemy_index = GetIndex(ENEMY, "enemy_03")
      if Field.ObjectExists(ENEMY, enemy_index) then
        Field.SymbolForceLeave(enemy_index, false, FOREVER)
        Flg.Clear("FLAG_GIMMICK_D06_360")
        Flg.Clear("FLAG_GIMMICK_D06_380")
        Flg.Clear("FLAG_GIMMICK_D06_390")
        Flg.Clear("FLAG_GIMMICK_D06_400")
      end
    end
    if col_name == "evt_0013" then
      local enemy_index = GetIndex(ENEMY, "enemy_02")
      if not Field.ObjectExists(ENEMY, enemy_index) and Flg.Check("FLAG_GIMMICK_D06_060") and not Flg.Check("FLAG_GIMMICK_D06_070") then
        Field.SymbolForceRespawn(enemy_index, false, true)
        Flg.Set("FLAG_GIMMICK_D06_350")
      end
    end
    if col_name == "evt_0015" then
      M410:Event_135A()
    end
    if col_name == "evt_0016" then
      M410:Event_135B()
    end
    if col_name == "evt_0017" then
      M410:Event_135C()
    end
    if col_name == "evt_0018" then
      M410:Event_135D()
    end
    if col_name == "evt_0019" then
      local enemy_index = GetIndex(ENEMY, "enemy_03")
      if Field.ObjectExists(ENEMY, enemy_index) then
        Field.SymbolForceLeave(enemy_index, false, FOREVER)
        Flg.Clear("FLAG_GIMMICK_D06_360")
        Flg.Clear("FLAG_GIMMICK_D06_380")
        Flg.Clear("FLAG_GIMMICK_D06_390")
        Flg.Clear("FLAG_GIMMICK_D06_400")
      end
      M410:Event_136()
    end
    if col_name == "evt_0020" or col_name == "evt_0021" or col_name == "evt_0028" then
      local enemy_index = GetIndex(ENEMY, "enemy_04")
      if Field.ObjectExists(ENEMY, enemy_index) then
        Field.SymbolForceLeave(enemy_index, false, FOREVER)
        Flg.Clear("FLAG_GIMMICK_D06_370")
      end
    end
    if col_name == "evt_0020" and Flg.Check("FLAG_MAIN_19_053A") and not Flg.Check("FLAG_MAIN_19_054") then
      local tlk = Tlk:new("d06", 1, true)
      tlk:StartTalk()
      tlk:Message("f_d0603_0140_0010")
      tlk:MessageClose()
      Field.MovePlayerToRelativePosFrame(0, -1, 20)
      WaitFrame(20)
      tlk:EndTalk()
    end
    if col_name == "evt_0021" and (not Flg.Check("FLAG_MAIN_19_055") or not Flg.Check("FLAG_MAIN_19_073")) then
      local tlk = Tlk:new("d06", 1, true)
      tlk:StartTalk()
      if Flg.Check("FLAG_MAIN_19_055", "FLAG_MAIN_19_073") then
        tlk:Message("f_d0603_0030_0020")
      elseif Flg.Check("FLAG_MAIN_19_073", "FLAG_MAIN_19_055") then
        tlk:Message("f_d0603_0020_0020")
      else
        tlk:Message("f_d0603_0010_0017")
      end
      tlk:MessageClose()
      Field.MovePlayerToRelativePosFrame(-1, 0, 20)
      WaitFrame(20)
      tlk:EndTalk()
    end
    if col_name == "evt_0022" then
      M410:Event_137()
    end
    if col_name == "evt_0023" then
      M410:Event_110()
    end
    if col_name == "evt_0024" then
      M410:Event_132A()
    end
    if col_name == "evt_0025" then
      local enemy_index = GetIndex(ENEMY, "enemy_03")
      if Field.ObjectExists(ENEMY, enemy_index) then
        Field.SymbolForceLeave(enemy_index, false, FOREVER)
        Flg.Clear("FLAG_GIMMICK_D06_360")
        Flg.Clear("FLAG_GIMMICK_D06_380")
        Flg.Clear("FLAG_GIMMICK_D06_390")
        Flg.Clear("FLAG_GIMMICK_D06_400")
      end
    end
    if col_name == "evt_0026" then
      M410:Event_115()
    end
    if col_name == "evt_0027" then
      M410:Event_125()
    end
    if col_name == "evt_0030" then
      if Flg.Check("FLAG_MAIN_19_054A", "FLAG_MAIN_19_075") then
        M410:Event_126()
      elseif Flg.Check("FLAG_MAIN_19_085", "FLAG_MAIN_19_080") then
        local tlk = Tlk:new("d06", 1, true)
        tlk:StartTalk()
        tlk:Message("f_d0603_0130_0010")
        tlk:MessageClose()
        MovePlayerToRelativePosFrame(1, 0, 20)
        tlk:EndTalk()
      end
    end
    if col_name == "evt_0008" then
    end
    if col_name == "evt_4100" then
    end
    if col_name == "evt_8000" then
      MiniMapChange(MAP_LAYER_LOW)
    elseif col_name == "evt_8001" then
      MiniMapChange(MAP_LAYER_MIDDLE)
    end
  elseif gMapNum == 604 then
    if col_name == "evt_0004" then
    end
    if col_name == "evt_0013" then
      M410:Event_099()
    end
    if col_name == "evt_0015" then
      M410:Event_145()
    end
    if col_name == "evt_0016" and Qst.Main:Check(M410.ID, M410.STEP_010, M410.STEP_015) then
      local tlk = Tlk:new("d06", 1, true)
      tlk:StartTalk()
      tlk:Message("f_d0604_0430_0010")
      MovePlayerToRelativePosFrame(0, -1, 20)
      WaitFrame(20)
      tlk:EndTalk()
    end
    if col_name == "evt_4100" then
      M410:Event_050()
    end
    if col_name == "evt_4101" then
      M410:Event_070()
    end
    if col_name == "evt_4105" or col_name == "evt_4110" or col_name == "evt_4111" then
    end
    if col_name == "evt_4106" then
      M410:Event_195()
    end
    if col_name == "evt_4107" then
      M410:Event_212()
      M410:Event_200()
    end
    if col_name == "evt_4108" then
      M410:Event_090()
    end
    if col_name == "evt_9001" or col_name == "evt_9003" or col_name == "evt_9004" then
      MiniMapChange(MAP_LAYER_MIDDLE)
    elseif col_name == "evt_9000" or col_name == "evt_9002" then
      MiniMapChange(MAP_LAYER_HIGH)
    elseif col_name == "evt_9005" then
      MiniMapChange(MAP_LAYER_LOW)
    end
    if col_name == "evt_0003" then
    end
    if col_name == "evt_0009" then
      M410:Event_095()
    elseif col_name == "evt_0012" then
      M410:Event_045()
      M410:Event_190()
    end
  elseif gMapNum == 605 then
    if col_name == "evt_0001" then
      M410:Event_030()
      M410:Event_230()
    end
  elseif gMapNum == 607 then
  end
  if gMapNum == 608 and col_name == "evt_0001" then
    M160:Event_020()
    M170:Event_270()
  end
  if gMapNum == 609 then
    if col_name == "evt_0001" then
      Digitter.Send(3060300, false, true)
    elseif col_name == "evt_0002" then
      Digitter.Send(3060400, false, true)
    elseif col_name == "evt_0003" then
      Digitter.Send(3060200, false, true)
    end
    if col_name == "evt_0004" then
      if Flg.Check("FLAG_FIELD_D0609_040") then
        Cam.Inst:Clear(15)
      end
    elseif col_name == "evt_0005" and Flg.Check("FLAG_FIELD_D0609_040") then
      Prcs_d0609_BossCam()
    end
  end
end

function OnCheckLocatorObject(gim)
  local gim_id, gim_loc = gim.check_id, gim.locator
  local gim_name = gim.unique_name
  print("##### gimID = ", gim_id, " ##### locator = ", gim_loc, " #####")
  if gMapNum == 601 then
    if gim_id == 400 then
      GoToTheaterWithEvt()
    end
  elseif gMapNum == 602 then
    if gim_id == 1 and Flg.Check("FLAG_GIMMICK_D06_160") then
      PlayerLookAtLccatorObject(gim_name)
      Field_Talk_Start("d06", 1)
      Message("f_d0602_0010_0010")
      Field_Talk_End()
    end
    if gim_id == 400 then
      GoToTheaterWithEvt()
    elseif gim_id == 401 then
      GoToTheaterWithEvt(51, "theater_0002")
    end
  elseif gMapNum == 603 then
    if gim_id == 6 then
      PlayerLookAtLccatorObject(gim_name)
      CancelPlayerAnywhereDigimonRide()
      Prcs_d0603_ChangeWallGim_01()
    end
    if gim_id == 7 then
      PlayerLookAtLccatorObject(gim_name)
      CancelPlayerAnywhereDigimonRide()
      Prcs_d0603_ChangeWallGim_02()
    end
    if gim_id == 8 then
      PlayerLookAtLccatorObject(gim_name)
      CancelPlayerAnywhereDigimonRide()
      Prcs_d0603_ChangeWallGim_03()
    end
    if gim_id == 1 then
      PlayerLookAtLccatorObject(gim_name)
      CancelPlayerAnywhereDigimonRide()
      Prcs_d0603_DisableEyeGim_01()
    elseif gim_id == 2 then
      PlayerLookAtLccatorObject(gim_name)
      CancelPlayerAnywhereDigimonRide()
      Prcs_d0603_DisableEyeGim_02()
    elseif gim_id == 3 then
      PlayerLookAtLccatorObject(gim_name)
      CancelPlayerAnywhereDigimonRide()
      Prcs_d0603_DisableEyeGim_03()
    end
  elseif gMapNum == 604 then
    if gim_name == "theater_0001" then
      GoToTheaterWithEvt()
    end
    if gim_name == "theater_0002" then
      GoToTheaterWithEvt(51, "theater_0002")
    end
    if gim_id == 3 then
      PlayerLookAtLccatorObject(gim_name)
      CancelPlayerAnywhereDigimonRide()
      Prcs_d06_UnlockDoor("gim_0001", "gim_0003", "gim_0005", "wall_cl_1022", "e002", -8, 4.7, 6.2, -8, 5.5, -3.7)
      Flg.Set("FLAG_GIMMICK_D06_130")
    elseif gim_id == 5 then
      PlayerLookAtLccatorObject(gim_name)
      Field_Talk_Start("d06", 1)
      Message("f_d0604_0010_0010")
      Field_Talk_End()
    end
    if gim_id == 7 then
      PlayerLookAtLccatorObject(gim_name)
      CancelPlayerAnywhereDigimonRide()
      Prcs_d06_UnlockDoor("gim_0006", "gim_0007", "gim_0008", "wall_cl_1023", "e003", 0, 4.6, 46.1, 0, 5.5, 36.2)
      Flg.Set("FLAG_GIMMICK_D06_120")
    elseif gim_id == 8 then
      PlayerLookAtLccatorObject(gim_name)
      Field_Talk_Start("d06", 1)
      Message("f_d0604_0010_0010")
      Field_Talk_End()
    end
    if gim_id == 10 then
      PlayerLookAtLccatorObject(gim_name)
      CancelPlayerAnywhereDigimonRide()
      ColOn("wall_cl_1025")
      ColOn("wall_cl_1026")
      Prcs_d06_UnlockDoor("gim_0009", "gim_0010", "gim_0011", "wall_cl_1024", "e001", 43.9, -13.2, 22, 44, -12.2, 12)
      Flg.Set("FLAG_GIMMICK_D06_290")
    elseif gim_id == 11 then
      PlayerLookAtLccatorObject(gim_name)
      Field_Talk_Start("d06", 1)
      Message("f_d0604_0010_0010")
      Field_Talk_End()
    end
    if gim_id == 2 then
      if Flg.Check("FLAG_SUB_090_161_001") then
        if not Flg.Check("FLAG_GIMMICK_D06_110") then
          if 0 < Item.GetNum(764) then
            PlayerLookAtLccatorObject(gim_name)
            CancelPlayerAnywhereDigimonRide()
            Prcs_d0604_OpenPrisonDoorEvent()
          else
            PlayerLookAtLccatorObject(gim_name)
            Field_Talk_Start("d06", 1)
            Message("f_d0604_0020_0010")
            Field_Talk_End()
          end
        end
      else
        PlayerLookAtLccatorObject(gim_name)
        CancelPlayerAnywhereDigimonRide()
        M410:Event_165()
      end
    end
  elseif gMapNum == 606 and gim_name == "theater_0001" then
    GoToTheaterWithEvt()
  end
end

function OnCheckGimmick(gim)
  local gim_name, gim_index, gim_tag, gim_type = gim.unique_name, gim.obj_index, gim.tag, gim.obj_type
  local gim_id, gim_loc = gim.check_id, gim.locator
  print("##### gim_name = ", gim_name, " ##### gim_index = ", gim_index, " ##### gim_tag = ", gim_tag, " ##### gim_type = ", gim_type, " #####")
  Field.CancelPlayerAnywhereDigimonRide()
  if gMapNum == 601 then
    if gim_name == "gim_access01" then
      PlayerLookAtGimmickObject("lookat_01")
      local tlk = Tlk:new("field_text", 1, true)
      tlk:StartTalk()
      tlk:Message("g_wm_0030_0010")
      tlk:EndTalk()
      Flg.Set("FLAG_ISAREA_CHANGE_FOR_BLIMP")
      OpenWorldMap(DW, BLIMPMON)
      Flg.Clear("FLAG_ISAREA_CHANGE_FOR_BLIMP")
    end
  elseif gMapNum == 602 then
    if gim_name == "obj_barricade03" then
      PlayerLookAtGimmickObject(gim_name)
    end
  elseif gMapNum == 603 then
    if gim_name == "wall_north_07" then
      M410:Event_116()
    end
    if gim_name == "obj_switch01" then
      PlayerLookAtGimmickObject(gim_name)
      CancelPlayerAnywhereDigimonRide()
      Prcs_d06_PrisonSwitch(gim_name)
      M410:Event_120()
      Flg.Set("FLAG_GIMMICK_D06_170")
    end
    if gim_name == "obj_switch02" then
      PlayerLookAtGimmickObject(gim_name)
      CancelPlayerAnywhereDigimonRide()
      Prcs_d06_PrisonSwitch(gim_name)
      M410:Event_130()
    end
    if gim_name == "access_door01" then
      PlayerLookAtGimmickObject(gim_name)
      Prcs_d06_LockDoor("field_text", "g_d0604_0010_0010")
    end
    if gim_name == "access_door02" then
      PlayerLookAtGimmickObject(gim_name)
      Prcs_d06_LockDoor("field_text", "g_d0604_0020_0010")
    end
    if gim_name == "obj_doorswitch01" and not Flg.Check("FLAG_GIMMICK_D06_100") then
      PlayerLookAtGimmickObject(gim_name)
      CancelPlayerAnywhereDigimonRide()
      Prcs_d06_DoorSwitch_Gimmick("obj_doorswitch01", 16.472, 110.078)
      Prcs_d06_UnlockDoor_Gimmick("obj_door01", "col_door01", "e004", 14.6, 4.9, 107.85, 24.5, 6.1, 107.85)
      Flg.Set("FLAG_GIMMICK_D06_100")
      Field.ObjectInvisible(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "access_door01"), 0, 0, false)
    end
  elseif gMapNum == 604 then
    if gim_name == "access_point_01" then
      PlayerLookAtGimmickObject(gim_name)
    end
    if gim_name == "obj_switch01" then
      if Flg.Check("FLAG_MAIN_19_052", "FLAG_MAIN_19_052A") then
        M410:Event_098()
      elseif Flg.Check("FLAG_MAIN_19_055", "FLAG_GIMMICK_D06_200") then
        PlayerLookAtGimmickObject(gim_name)
        CancelPlayerAnywhereDigimonRide()
        Prcs_d06_PrisonSwitch(gim_name)
        Flg.Set("FLAG_GIMMICK_D06_200")
        Prcs_d0604_410_OpenPrisonDoorEvent()
        M410:Event_140()
        Field_CancelInvisibleFollowerAllPartyMember(0, 30, false, true)
        Field_CancelInvisibleFollowerAllGuest(0, 30, false, true)
      end
    end
    if gim_name == "access_door01" then
      PlayerLookAtGimmickObject(gim_name)
      Prcs_d06_LockDoor("field_text", "g_d0604_0020_0010")
    end
    if gim_name == "access_door02" then
      PlayerLookAtGimmickObject(gim_name)
      Prcs_d06_LockDoor("field_text", "g_d0604_0010_0010")
    end
    if gim_name == "access_door03" then
      PlayerLookAtGimmickObject(gim_name)
      Prcs_d06_LockDoor("field_text", "g_d0604_0020_0010")
    end
    if gim_name == "obj_doorswitch01" and not Flg.Check("FLAG_GIMMICK_D06_130") then
      PlayerLookAtGimmickObject(gim_name)
      CancelPlayerAnywhereDigimonRide()
      Prcs_d06_DoorSwitch_Gimmick("obj_doorswitch01", -16.395, 29.957)
      Prcs_d06_UnlockDoor_Gimmick("obj_door02", "col_door02", "e001", -16.46, 3.57, 27.96, -26.23, 5.68, 28.14)
      Flg.Set("FLAG_GIMMICK_D06_130")
      Field.ObjectInvisible(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "access_door02"), 0, 0, false)
    end
    if gim_name == "obj_switch02" and Flg.Check("FLAG_MAIN_19_061") then
      PlayerLookAtGimmickObject(gim_name)
      CancelPlayerAnywhereDigimonRide()
      Prcs_d06_DoorSwitch_Gimmick(gim_name, 48.047, -61.654)
      Field.ObjectSetEnableCheckAndFieldAttack(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_switch02"), false)
      PlayerObjectResetAim()
      M410:Event_211()
    else
    end
    if gim_name == "clavis_accesspoint_01" then
      M410:Event_213()
    end
    if gim_name == "death_panpumon" then
      local tlk = Tlk:new("d07", 1, false)
      local gim_index = GetIndex(OGIM, gim_name)
      local gim_pos = Field.ObjectGetPosition(OGIM, gim_index)
      local gim_degree = Field.ObjectGetRotationY(OGIM, gim_index)
      Field.ObjectLoadMotion(PLAYER, 1, "e202")
      Field.ObjectLoadMotion(PLAYER, 1, "fg09_out01")
      tlk:StartTalk()
      Field.ObjectPlayMotion(FLD_OBJ_PLAYER, 1, "e202", 5, true)
      WaitFrame(30)
      tlk:Message("f_d0702_0070_0010")
      tlk:EndTalk()
      WaitFrame(8)
      PlayEffectScript("ef_b_van_100", gim_pos.x, gim_pos.y, gim_pos.z, gim_degree, 0.5)
      Field.ObjectInvisible(OGIM, gim_index, 1, 30, false)
      WaitFrame(60)
      Field.ObjectPlayMotionWithStartMoveMotion(FLD_OBJ_PLAYER, 1, "fg09_out01", 5, 5)
      WaitFrame(15)
      Flg.Set("FLAG_MAIN_19_035")
    end
  elseif gMapNum == 606 then
    if gim_name == "gim_access01" then
      PlayerLookAtGimmickObject("lookat_01")
      local tlk = Tlk:new("field_text", 1, true)
      tlk:StartTalk()
      tlk:Message("g_wm_0030_0010")
      tlk:EndTalk()
      Flg.Set("FLAG_ISAREA_CHANGE_FOR_BLIMP")
      OpenWorldMap(DW, BLIMPMON)
      Flg.Clear("FLAG_ISAREA_CHANGE_FOR_BLIMP")
    end
  elseif gMapNum == 607 then
  elseif gMapNum == 608 then
  elseif gMapNum == 609 then
  end
end

function OnFieldAttackLocatorObject(att_gim)
  local gim_id = att_gim.check_id
  local need_pow, need_ele = att_gim.need_power, att_gim.need_element
  local skill_pow, skill_ele = att_gim.skill_power, att_gim.skill_element
  print("gimID = ", gim_id, " map_prefix = ", gMapPrefix, " map_num = ", gMapNum)
  print("need_power = ", need_pow, " skill_power = ", skill_pow)
  print("need_element = ", need_ele, " skill_element = ", skill_ele)
  if gMapNum == 601 then
  elseif gMapNum == 603 then
  elseif gMapNum == 604 then
  end
end

function OnFieldAttackGimmick(att_gim)
  local gim_name = att_gim.unique_name
  local gim_tag = att_gim.tag
  local gim_id = att_gim.check_id
  local need_pow, need_ele = att_gim.need_power, att_gim.need_element
  local skill_pow, skill_ele = att_gim.skill_power, att_gim.skill_element
  print("gimName = ", gim_name, "gimID = ", gim_id, " map_prefix = ", gMapPrefix, " map_num = ", gMapNum)
  print("need_power = ", need_pow, " skill_power = ", skill_pow)
  print("need_element = ", need_ele, " skill_element = ", skill_ele)
  if gMapNum == 603 then
    if gim_tag == "fa_obj" then
      if IsSatisfyFieldAttack(need_pow, need_ele, skill_pow, skill_ele, -1) then
        BreakFieldAttackGim(gim_name, true)
        if gim_name == "fa_searcheye_03" then
          Obj:new(OGIM, gim_name):Invisible(15)
          Flg.Set("FLAG_GIMMICK_D06_030")
          M410:Event_131()
        end
        if gim_name == "fa_searcheye_04" then
          Obj:new(OGIM, gim_name):Invisible(15)
          Flg.Set("FLAG_GIMMICK_D06_040")
          M410:Event_132()
        end
        if gim_name == "fa_searcheye_05" then
          Obj:new(OGIM, gim_name):Invisible(15)
          Flg.Set("FLAG_GIMMICK_D06_060")
          M410:Event_133()
        end
        if gim_name == "fa_searcheye_06" then
          Obj:new(OGIM, gim_name):Invisible(15)
          Flg.Set("FLAG_GIMMICK_D06_070")
          M410:Event_134()
        end
      end
    elseif gim_tag == "fa_obj_2" and IsSatisfyFieldAttack(need_pow, need_ele, skill_pow, skill_ele, -1) then
      if gim_name == "fa_searcheye_01" then
        local index = GetIndex(OGIM, gim_name)
        local pos = Field.ObjectGetPosition(OGIM, index)
        Field.PlayEffectScript("ef_f_com_300_sm", pos.x, pos.y, pos.z, 0, 1)
        Quake_Start(0.2, 0, 20)
        PlaySE(202001, 100)
        Obj:new(OGIM, "fa_searcheye_01"):Invisible(15)
        WaitFrame(45)
        Cam.Inst:Set(-4.6, 3.83, -103.93, -11.98, 2.49, -110.55, default, 0)
        WaitFrame(15)
        Prcs_d0603_WallChange(wall0603_N_01, col0603_N_01, false)
        WaitFrame(45)
        Obj:new(OGIM, "fa_searcheye_02"):CancelInvisible(15)
        Prcs_d0603_WallChange(wall0603_N_02, col0603_N_02, true)
        WaitFrame(45)
        Cam.Inst:Set(-28.2, 2.88, -83.94, -18.26, 1.83, -83.91, default, 0)
        WaitFrame(15)
        Prcs_d0603_WallChange(wall0603_N_03, col0603_N_03, false)
        WaitFrame(45)
        Flg.Set("FLAG_GIMMICK_D06_020")
        Field.ObjectSetEnableCheckAndFieldAttack(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "fa_searcheye_01"), false)
        Field.ObjectSetEnableCheckAndFieldAttack(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "fa_searcheye_02"), true)
        Field.ObjectSetEnableCheckAndFieldAttack(OGIM, GetIndex(OGIM, "wall_north_07"), false)
        Cam.Inst:Clear(0)
      elseif gim_name == "fa_searcheye_02" then
        local index = GetIndex(OGIM, gim_name)
        local pos = Field.ObjectGetPosition(OGIM, index)
        Field.PlayEffectScript("ef_f_com_300_sm", pos.x, pos.y, pos.z, 0, 1)
        Quake_Start(0.2, 0, 20)
        PlaySE(202001, 100)
        Obj:new(OGIM, "fa_searcheye_02"):Invisible(15)
        WaitFrame(45)
        Cam.Inst:Set(-4.6, 3.83, -103.93, -11.98, 2.49, -110.55, default, 0)
        WaitFrame(15)
        Prcs_d0603_WallChange(wall0603_N_02, col0603_N_02, false)
        WaitFrame(45)
        Obj:new(OGIM, "fa_searcheye_01"):CancelInvisible(15)
        Prcs_d0603_WallChange(wall0603_N_01, col0603_N_01, true)
        WaitFrame(45)
        if Flg.Check("FLAG_MAIN_19_054") then
          Prcs_d0603_WallChange(wall0603_N_03, col0603_N_03, true)
          WaitFrame(10)
        else
          Cam.Inst:Set(-28.2, 2.88, -83.94, -18.26, 1.83, -83.91, default, 0)
          WaitFrame(15)
          Prcs_d0603_WallChange(wall0603_N_03, col0603_N_03, true)
          WaitFrame(45)
        end
        Flg.Clear("FLAG_GIMMICK_D06_020")
        Field.ObjectSetEnableCheckAndFieldAttack(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "fa_searcheye_01"), true)
        Field.ObjectSetEnableCheckAndFieldAttack(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "fa_searcheye_02"), false)
        if Flg.Check("FLAG_MAIN_19_054") then
          Field.ObjectSetEnableCheckAndFieldAttack(OGIM, GetIndex(OGIM, "wall_north_07"), false)
          Flg.Set("FLAG_MAIN_19_076")
          FieldObjectSync(FOR_ALL, false)
          Flg.Set("FLAG_MAIN_19_077")
        else
          Field.ObjectSetEnableCheckAndFieldAttack(OGIM, GetIndex(OGIM, "wall_north_07"), true)
        end
        Cam.Inst:Clear(0)
      end
    end
  end
  if gMapNum == 604 then
    if gim_name == "fa_obstacles_01" and IsSatisfyFieldAttack(need_pow, need_ele, skill_pow, skill_ele, -1) then
      BreakFieldAttackGim(gim_name, true)
    end
    if gim_tag == "fa_obj" and IsSatisfyFieldAttack(need_pow, need_ele, skill_pow, skill_ele, -1) then
      BreakFieldAttackGim(gim_name, true)
      if gim_name == "fa_obstacles_02" then
        Flg.Set("FLAG_GIMMICK_D06_320")
        Field.ObjectSetEnableCheckAndFieldAttack(FLD_OBJ_LOCATOR, GetIndex(FLD_OBJ_LOCATOR, "theater_0001"), true)
      end
    end
  end
  if gMapNum == 609 then
    if gim_name == "Grankuwaga" then
      if IsSatisfyFieldAttack(need_pow, need_ele, skill_pow, skill_ele, -1) then
        BreakFieldAttackGim(gim_name, true)
        WaitFrame(20)
        M190:Event_020()
      end
    elseif gim_tag == "fa_obj" then
      if IsSatisfyFieldAttack(need_pow, need_ele, skill_pow, skill_ele, -1) then
        BreakFieldAttackGim(gim_name, true)
      end
    elseif gim_tag == "fa_obj_tarap" and IsSatisfyFieldAttack(need_pow, need_ele, skill_pow, skill_ele, -1) then
      BreakFieldAttackGim(gim_name, true)
      local col_name = gim_name .. "_col"
      Field.ObjectStartBreak(OGIM, GetIndex(OGIM, col_name))
    end
  end
end

function OnCheckActModel(act)
end
