require("include")

function m150_030()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m150")
  SetEventCutNo(4)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2020_dbef_150")
    LoadMap("d0201")
  end
  LoadModel("chr922_01", "char_BLIMPMON_RAMP")
  LoadModel("chr456_01", "char_REVOLMON")
  LoadModel("chr708_01", "char_TOYAGUMON")
  LoadModel("chr512_01", "char_TANEMON")
  LoadSceneViewerResource("c1.0", "d0201f_sa")
  LoadSceneViewerResource("c2.0", "d0201f_sa")
  LoadSceneViewerResource("c3.0", "d0201f_sa")
  LoadSceneViewerResource("c4.0", "d0201f_sa")
  LoadEnvironmentFile("c1.0", "es_m150_030_c1.0")
  LoadEnvironmentFile("c2.0", "es_m150_030_c2.0")
  LoadEnvironmentFile("c3.0", "es_m150_030_c3.0")
  LoadEnvironmentFile("c4.0", "es_m150_030_c4.0")
  WaitVistaLoad()
  Field_InvisibleGimmick("obj_0001", 0, 0, false)
  SetPosition("chr922_01", 11.53, 2.72, 62.12, "LINEAR", 0, 0)
  SetRotation("chr922_01", 0, -45.44, 0, "LINEAR", 0, 0)
  SetPosition("chr456_01", -11.905, 1.939, 37.586, "LINEAR", 0, 0)
  SetRotation("chr456_01", 0, 69.5, 0, "LINEAR", 0, 0)
  SetPosition("chr708_01", -13.58, 2.057, 40.293, "LINEAR", 0, 0)
  SetRotation("chr708_01", 0, 40, 0, "LINEAR", 0, 0)
  SetPosition("chr512_01", -9.269, 1.963, 37.35, "LINEAR", 0, 0)
  SetRotation("chr512_01", 0, 39, 0, "LINEAR", 0, 0)
  PlayMotion("chr922_01", "e535", 0, false, 0)
  SetFace("chr922_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr512_01", "fq01", 0, true, 0)
  SetFace("chr512_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr456_01", "bn01", 3, true, 0)
  SetFace("chr456_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr708_01", "fe03", 0, true, 0)
  SetFace("chr708_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  SetCamera(-3.349, 2.077, 58.513, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(7.122, 8.642, 54.929, "LINEAR", 0, false, 0)
  Event_Stop_Play_BGM(0, 0, 0, 0, BGM_FADE_TIME)
  ClearMobTransparentRange()
  Field_InvisiblePlayer(INVISIBLE_KEY_EVENT, 0, false)
  Field_InvisibleFollowerAllGuest(INVISIBLE_KEY_EVENT, 0, false)
  Field_InvisibleFollowerAllPartyMember(INVISIBLE_KEY_EVENT, 0, false)
  Field_InvisibleAllSymbolEnemy(INVISIBLE_KEY_EVENT, 0, false)
  Field_InvisibleNpc("burinpu_01", INVISIBLE_KEY_EVENT, 0, true)
  EVENT_START()
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  local slot_id = Event_PlaySE(403036, 100, false, 0, 0)
  Fade_In(0, FADE_TIME)
  WaitFrame(FADE_TIME)
  WaitFrame(70)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetPosition("chr922_01", 11.53, 5.426, 62.12, "LINEAR", 0, 0)
  SetRotation("chr922_01", 0, -45.44, 0, "LINEAR", 0, 0)
  SetCamera(-10.701, 2.706, 30.869, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(7.769, 8.262, 57.772, "LINEAR", 0, false, 0)
  SetCamera(-20.525, 2.706, 40.745, 0, 40, "LINEAR", 200, false, 0)
  SetCameraTarget(7.318, 8.508, 57.987, "LINEAR", 200, false, 0)
  WaitFrame(60)
  PlayMotion("chr456_01", "fe02", 0, false, 0)
  PlayMotion("chr456_01", "bn01", 3, true, 45)
  SetFace("chr456_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  WaitFrame(40)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetPosition("chr922_01", 11.53, 2.72, 62.12, "LINEAR", 0, 0)
  SetRotation("chr922_01", 0, -45.44, 0, "LINEAR", 0, 0)
  SetCamera(3.971, 3.973, 63.788, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(10.352, 6.859, 62.073, "LINEAR", 0, false, 0)
  WaitFrame(15)
  SetCamera(1.616, 2.908, 64.421, 0, 40, "DECEL", 10, true, 0)
  SetCameraTarget(10.352, 6.859, 62.073, "DECEL", 10, true, 0)
  WaitFrame(10)
  SetFace("chr922_01", "F03", 0, 1, FACE_BLENDTIME, 0)
  WaitFrame(30)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetCamera(-28.634, 8.117, 71.103, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(7.318, 8.508, 57.987, "LINEAR", 0, false, 0)
  SetCamera(-29.827, 8.833, 84.062, 0, 40, "LINEAR", 180, true, 0)
  SetCameraTarget(7.318, 8.508, 57.987, "LINEAR", 180, true, 0)
  WaitFrame(130)
  Fade_OutNoLoadingWithWait(FADE_BLACK, 45)
  if Debug.IsEventView() then
    Event_StopBGM(0, 0)
  end
  Vista.SetKeepBGM()
  Vista.SetKeepBGMWithMapChange()
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m150_030()
end
