require("include")

function m140_070()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m140")
  SetEventCutNo(7)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2020_dbef_140")
    SetMapStatus("Disable")
    LoadMap("d0276")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("DIGI_MINERVAMON_01", "char_MINERVAMON")
  LoadModel("chr928_01", "char_MERCURYMON_BIG")
  Vista.BindSpeaker("chr928_01", "char_MERCURYMON")
  LoadSceneViewerResource("c01", "m140_070_c01")
  LoadSceneViewerResource("c02", "m140_070_c02")
  LoadSceneViewerResource("c03", "m140_070_c03")
  LoadSceneViewerResource("c04", "m140_070_c04")
  LoadSceneViewerResource("c05", "m140_070_c05")
  LoadSceneViewerResource("c06", "m140_070_c06")
  LoadSceneViewerResource("c07", "m140_070_c07")
  LoadSceneViewerResource("c07a", "m140_070_c07_a")
  LoadSceneViewerResource("c08", "m140_070_c08")
  LoadSceneViewerResource("c08a", "m140_070_c08_a")
  LoadEnvironmentFile("c01", "es_m140_070_c01")
  LoadEnvironmentFile("c02", "es_m140_070_c02")
  LoadEnvironmentFile("c02a", "es_m140_070_c02a")
  LoadEnvironmentFile("c03", "es_m140_070_c03")
  LoadEnvironmentFile("c04", "es_m140_070_c04")
  LoadEnvironmentFile("c05", "es_m140_070_c05")
  LoadEnvironmentFile("c06", "es_m140_070_c06")
  LoadEnvironmentFile("c07", "es_m140_070_c07")
  LoadEnvironmentFile("c07a", "es_m140_070_c07_a")
  LoadEnvironmentFile("c08", "es_m140_070_c08")
  LoadEnvironmentFile("c08a", "es_m140_070_c08_a")
  WaitVistaLoad()
  Event_StopBGM(0, 0)
  local SE_WIND_01 = Event_PlaySE(220012, 10, false, 0.3, 0)
  SetPosition("AEGIOMON_01", -1.78, 0, -13.05, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 160, 0, "LINEAR", 0, 0)
  SetPosition("HERO_01", -5.82, 0, -5.12, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 170, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -3.071, 0, -4.005, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 170, 0, "LINEAR", 0, 0)
  SetPosition("DIGI_MINERVAMON_01", -4.32, 0, -6.039, "LINEAR", 0, 0)
  SetRotation("DIGI_MINERVAMON_01", 0, 170, 0, "LINEAR", 0, 0)
  SetScale("DIGI_MINERVAMON_01", 0.73, 0.73, 0.73)
  SetPosition("chr928_01", 0.225, 0, -1.458, "LINEAR", 0, 0)
  SetRotation("chr928_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("d0201thundercloud00_01", -1.78, 0, -13.05, "LINEAR", 0, 0)
  SetRotation("d0201thundercloud00_01", 0, 0, 0, "LINEAR", 0, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_01", "E16_M08", 0, 1, 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetStartFrame("HERO_01", "fn01_01", 0, 0)
  SetFace("HERO_01", "F01", 0, 1, 0, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, 0, 0)
  PlayMotion("DIGI_MINERVAMON_01", "fn01_01", 0, true, 0)
  SetFace("DIGI_MINERVAMON_01", "F01", 0, 1, 0, 0)
  PlayMotion("chr928_01", "fn01_01", 0, true, 0)
  SetFace("chr928_01", "F01", 0, 1, 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -70, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendFaceDigi("DIGI_MINERVAMON_01", 0, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr928_01", 0, 0, 0, "SCURVE", 0, 0)
  ModelVisible("HERO_01", false, 0, 0)
  ModelVisible("HEROINE_01", false, 0, 0)
  ModelVisible("DIGI_MINERVAMON_01", false, 0, 0)
  ModelVisible("chr928_01", false, 0, 0)
  SetEnv_All("c01", 0)
  SetCamera(-1.827, 1.316, -13.653, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-1.78, 0.989, -13.05, "LINEAR", 0, false, 0)
  Flg.Set("FLAG_IS_NOT_MAP_NAME_DISP")
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  Fade_In(0, FADE_TIME)
  WaitFrame(FADE_TIME)
  PlayMotion("AEGIOMON_01", "e022", 6, true, 0)
  SetFace("AEGIOMON_01", "E16_M02", 0, 1, 6, 30)
  PlayMotionBlend("AEGIOMON_01", "blend03", 2, false, 0)
  WaitFrame(10)
  MessageTalk("m140_070_010")
  MessageClose()
  WaitFrame(10)
  CUT("2.0")
  SetEnv_All("c02", 0)
  Vista.ChangeEnvironmentSettings("c02a", 60, "LINEAR")
  SetCamera(-0.092, 0.326, -12.352, 0, 60, "LINEAR", 0, false, 0)
  SetCameraTarget(0, 0.81, -12.89, "LINEAR", 0, false, 0)
  SetCamera(-0.092, 0.806, -12.352, 0, 60, "SCURVE", 150, false, 0)
  SetCameraTarget(0, 2.12, -12.89, "SCURVE", 150, false, 0)
  SetPosition("AEGIOMON_01", 0.24, 0, -13.05, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 185, 0, "LINEAR", 0, 0)
  WaitFrame(150)
  CUT("3.0")
  SetEnv_All("c03", 0)
  SetCamera(-1.827, 1.316, -13.653, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-1.78, 0.989, -13.05, "LINEAR", 0, false, 0)
  SetPosition("AEGIOMON_01", -1.78, 0, -13.05, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 170.5, 0, "LINEAR", 0, 0)
  SetScale("AEGIOMON_01", 1, 1, 1)
  PlayMotion("AEGIOMON_01", "fn01_01", 12, true, 0)
  SetFace("AEGIOMON_01", "F02", 0, 1, 0, 0)
  SetFace("AEGIOMON_01", "E16_M01", 0, 1, 12, 15)
  BlendEye("AEGIOMON_01", -15, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -70, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 15, 0, "SCURVE", 12, 15)
  BlendFace("AEGIOMON_01", 0, 0, 0, true, "SCURVE", 30, 15)
  WaitFrame(10)
  MessageTalk("m140_070_020")
  MessageClose()
  WaitFrame(10)
  CUT("4.0")
  SetEnv_All("c04", 0)
  SetCamera(-1.077, 0.336, -17.209, 5, 50, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.627, 0.675, -20.002, "LINEAR", 0, false, 0)
  SetCamera(-1.019, 0.379, -17.567, 5, 50, "SCURVE_B", 120, false, 0)
  SetCameraTarget(-0.627, 0.675, -20.002, "SCURVE_B", 120, false, 0)
  Event_SetSEVolume(SE_WIND_01, 100, 3, 0)
  local slot_id = Event_PlaySE(402017, 100, false, 0, 0)
  MessageTalk("m140_070_030")
  MessageClose()
  WaitFrame(10)
  CUT("5.0")
  SetEnv_All("c05", 0)
  SetCamera(-2.228, 0.94, -19.332, 0, 50, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.852, 0.98, -20.297, "LINEAR", 0, false, 0)
  ModelVisible("HERO_01", true, 0, 0)
  ModelVisible("HEROINE_01", true, 0, 0)
  ModelVisible("DIGI_MINERVAMON_01", true, 0, 0)
  ModelVisible("chr928_01", true, 0, 0)
  SetPosition("AEGIOMON_01", -0.325, 0, -19.864, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 240, 0, "LINEAR", 0, 0)
  SetPosition("HERO_01", -2.763, 0, -18.688, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 132, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 0.333, 0, -18, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 226, 0, "LINEAR", 0, 0)
  SetPosition("DIGI_MINERVAMON_01", -1.529, 0, -18.102, "LINEAR", 0, 0)
  SetRotation("DIGI_MINERVAMON_01", 0, 170, 0, "LINEAR", 0, 0)
  SetPosition("chr928_01", 4.055, 0, -15.788, "LINEAR", 0, 0)
  SetRotation("chr928_01", 0, 245, 0, "LINEAR", 0, 0)
  SetPosition("DIGI_MINERVAMON_01", -1.182, 0, -20.071, "LINEAR", 24, 0)
  SetRotation("DIGI_MINERVAMON_01", 0, 170, 0, "LINEAR", 24, 0)
  PlayMotion("AEGIOMON_01", "e018", 0, true, 0)
  SetFace("AEGIOMON_01", "E01_M07", 0, 1, 0, 0)
  PlayMotion("DIGI_MINERVAMON_01", "fr01_01", 0, false, 0)
  PlayMotion("DIGI_MINERVAMON_01", "fn01_01", 8, true, 24)
  PlayMotion("DIGI_MINERVAMON_01", "e502", 4, true, 32)
  BlendEye("AEGIOMON_01", 0, 45, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", 0, 85, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 19, 0, "SCURVE", 8, 5)
  BlendFace("AEGIOMON_01", -30, -40, 30, true, "SCURVE", 24, 5)
  Event_PlayBGM(305, 0, 0)
  WaitFrame(30)
  MessageTalk("m140_070_040")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m140_070_050")
  MessageClose()
  WaitFrame(10)
  PlayMotionBlend("DIGI_MINERVAMON_01", "blend02", 2, false, 0)
  MessageTalk("m140_070_060")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m140_070_070")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m140_070_080")
  MessageClose()
  WaitFrame(10)
  SetFace("AEGIOMON_01", "E04_M07", 0, 1, 6, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 8, 0)
  BlendFace("AEGIOMON_01", -25, 20, 0, true, "SCURVE", 20, 0)
  MessageTalk("m140_070_090")
  MessageClose()
  WaitFrame(10)
  CUT("6.0")
  SetEnv_All("c06", 0)
  SetCamera(1.833, 3.748, -16.258, 4, 60, "LINEAR", 0, false, 0)
  SetCameraTarget(3.575, 4.517, -15.8, "LINEAR", 0, false, 0)
  SetPosition("AEGIOMON_01", -0.325, 0, -19.864, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 403.5, 0, "LINEAR", 0, 0)
  SetPosition("HERO_01", -2.763, 0, -18.688, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 65, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 0.333, 0, -19.543, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 45, 0, "LINEAR", 0, 0)
  SetPosition("DIGI_MINERVAMON_01", -1.182, 0, -20.071, "LINEAR", 0, 0)
  SetRotation("DIGI_MINERVAMON_01", 0, 170, 0, "LINEAR", 0, 0)
  PlayMotion("chr928_01", "e008", 0, true, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -92, 4, 0, true, "SCURVE", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -62.374, 4, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", -92.46, -2.858, 0, true, "SCURVE", 0, 0)
  BlendFaceDigi("DIGI_MINERVAMON_01", 0, -41, 0, "LINEAR", 0, 0)
  Event_SetSEVolume(SE_WIND_01, 10, 0.3, 3)
  MessageTalk("m140_070_100")
  MessageClose()
  EndMotion("chr928_01", 0)
  BlendFaceDigi("chr928_01", 0, 0, 0, "SCURVE", 20, 0)
  WaitFrame(10)
  CUT("7.0")
  SetEnv_All("c07", 0)
  SetCamera(-2.65, 1.247, -18.013, 6, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-1.866, 1.644, -17.62, "LINEAR", 0, false, 0)
  SetPosition("AEGIOMON_01", -0.325, 0, -19.244, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 403.5, 0, "LINEAR", 0, 0)
  SetPosition("HERO_01", -2.093, 0, -17.558, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 78.5, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 0.333, 0, -19.543, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 36.5, 0, "LINEAR", 0, 0)
  SetPosition("DIGI_MINERVAMON_01", -1.182, 0, -20.071, "LINEAR", 0, 0)
  SetRotation("DIGI_MINERVAMON_01", 0, 170, 0, "LINEAR", 0, 0)
  SetPosition("chr928_01", 3.885, 0, -16.138, "LINEAR", 0, 0)
  SetRotation("chr928_01", 0, 235, 0, "LINEAR", 0, 0)
  MessageTalkSel(3, "m140_070_110")
  result = Talk.GetResultSelectedNum()
  if result == RESULT_TALK00 then
    BlendFaceDigi("chr928_01", 5, 10, 0, "SCURVE", 30, 0)
    WaitFrame(10)
    MessageTalk("m140_070_120")
    MessageClose()
    WaitFrame(10)
  elseif result == RESULT_TALK01 then
    BlendFaceDigi("chr928_01", 5, 10, 0, "SCURVE", 30, 0)
    WaitFrame(10)
    MessageTalk("m140_070_130")
    MessageClose()
    WaitFrame(10)
  elseif result == RESULT_TALK02 then
    BlendFaceDigi("chr928_01", 5, 10, 0, "SCURVE", 30, 0)
    WaitFrame(10)
    MessageTalk("m140_070_140")
    MessageClose()
    WaitFrame(10)
    MessageTalk("m140_070_150")
    MessageClose()
    WaitFrame(10)
  end
  PlayMotion("chr928_01", "e013", 8, true, 0)
  MessageTalk("m140_070_160")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m140_070_170")
  MessageClose()
  WaitFrame(10)
  EndMotion("chr928_01", 0)
  MessageTalk("m140_070_180")
  MessageClose()
  WaitFrame(10)
  PlayMotion("chr928_01", "e002", 8, false, 0)
  MessageTalk("m140_070_190")
  MessageClose()
  WaitFrame(10)
  Fade_OutNoLoading(0, FADE_TIME)
  Event_StopBGM(3, 0)
  Event_StopSE(SE_WIND_01, 1, 0)
  WaitFrame(60)
  if Debug.IsEventView() then
    Event_StopBGM(0, 0)
    Event_StopAllSE(0, 0)
  end
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m140_070()
end
