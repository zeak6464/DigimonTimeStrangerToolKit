require("include")

function m350_100()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m350")
  SetEventCutNo(6)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2020_dbef_350")
    SetMapStatus("Enable")
    LoadMap("d0201")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("chr080_01", "char_MERCURYMON")
  LoadSceneViewerResource("c1.0", "d0201f_ta")
  LoadSceneViewerResource("c2.0", "d0201f_ta")
  LoadSceneViewerResource("c3.0", "d0201f_ta")
  LoadSceneViewerResource("c4.0", "d0201f_ta")
  LoadSceneViewerResource("c5.0", "d0201f_ta")
  LoadSceneViewerResource("c6.0", "d0201f_ta")
  LoadEnvironmentFile("c1.0", "es_m350_100_c1.0")
  LoadEnvironmentFile("c2.0", "es_m350_100_c2.0")
  LoadEnvironmentFile("c3.0", "es_m350_100_c3.0")
  LoadEnvironmentFile("c4.0", "es_m350_100_c4.0")
  LoadEnvironmentFile("c5.0", "es_m350_100_c5.0")
  LoadEnvironmentFile("c6.0", "es_m350_100_c6.0")
  Vista.SetStreamBasePosition(-14.268, 7.16, 65.117)
  Vista.SetStreamBasePosition(-1.705, 6.902, 40.895)
  Vista.SetStreamBasePosition(0.402, 6.902, 12.72)
  WaitVistaLoad()
  SetPosition("HERO_01", -24.445, 2.216, 78.454, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 180, 0, "LINEAR", 0, 0)
  SetScale("HERO_01", 1, 1, 1)
  SetPosition("chr080_01", -23.08, 2, 74.445, "LINEAR", 0, 0)
  SetRotation("chr080_01", 0, -7.5, 0, "LINEAR", 0, 0)
  SetScale("chr080_01", 2.49, 2.49, 2.49)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr080_01", "fn01_01", 0, true, 0)
  SetFace("chr080_01", "F01_M03", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -73, 0, 0, true, "SCURVE", 0, 0)
  BlendFaceDigi("chr080_01", 3, -15, 0, "SCURVE", 0, 0)
  SetCamera(-8.182, 3.677, 68.109, 0, 30, "LINEAR", 0, false, 0, false)
  SetCameraTarget(-19.316, 4.285, 63.513, "LINEAR", 0, false, 0, false)
  SetCamera(-12.56, 4.046, 60.119, 0, 30, "LINEAR", 183.5, false, 0, false)
  SetCameraTarget(-17.568, 4.273, 48.394, "LINEAR", 183.5, false, 0, false)
  EVENT_START()
  SetMobTransparentRange(0.01, 0.01, 0.01)
  Field_CancelInvisibleNpc(FOR_ALL, INVISIBLE_KEY_EVENT, 0, true, false)
  Field_CancelInvisibleRumorNpc(FOR_ALL, INVISIBLE_KEY_EVENT, 0, false, false)
  Field_CancelInvisibleMob(FOR_ALL, INVISIBLE_KEY_EVENT, 0, true, false)
  Field_InvisibleFollowerAllPartyMember(INVISIBLE_KEY_EVENT, 0, false)
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  Fade_In(0, FADE_TIME)
  WaitFrame(180)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(-17.738, 3.262, 41.387, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(1.733, 4.31, 39.519, "LINEAR", 0, false, 0)
  SetCamera(-17.827, 3.262, 40.862, 0, 30, "LINEAR", 150, false, 0)
  SetCameraTarget(1.557, 4.31, 38.243, "LINEAR", 150, false, 0)
  WaitFrame(150)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  FIELD_SET()
  SetPosition("HERO_01", -24.445, 2.216, 78.454, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 180, 0, "LINEAR", 0, 0)
  SetScale("HERO_01", 1, 1, 1)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -73, 0, 0, true, "SCURVE", 0, 0)
  SetCamera(-24.685, 2.686, 80.793, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-24.193, 3.942, 78.411, "LINEAR", 0, false, 0)
  Field_CancelInvisiblePlayer(INVISIBLE_KEY_EVENT, 0, true, false)
  WaitFrame(10)
  PlayMotion("chr080_01", "e004", 5, true, 0)
  SetStartFrame("chr080_01", "e004", 0, 0)
  SetFace("chr080_01", "F01_M03", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m350_100_010")
  MessageClose()
  WaitFrame(10)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetCamera(-23.398, 5.858, 76.709, 0, 50, "LINEAR", 0, false, 0)
  SetCameraTarget(-23.132, 6.648, 75.061, "LINEAR", 0, false, 0)
  SetFace("chr080_01", "F01_M03", 0, 2, FACE_BLENDTIME, 0)
  EndMotion("chr080_01", 0)
  Event_StopBGM(3, 0)
  MessageTalk("m350_100_020")
  MessageClose()
  WaitFrame(10)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetRotation("chr080_01", 0, 118, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -48, 0, 0, true, "SCURVE", 0, 0)
  SetPosition("chr080_01", -23.08, 2, 74.445, "LINEAR", 0, 0)
  SetRotation("chr080_01", 0, 160, 0, "LINEAR", 5, 0)
  SetScale("chr080_01", 2.49, 2.49, 2.49)
  local slot_id = Event_PlaySE(403002, 100, false, 0, 0)
  local slot_id = Event_PlaySE(310010, 100, false, 0, 0.7)
  PlayMotion("chr080_01", "ba02", 0, false, 0)
  PlayMotion("chr080_01", "bn01", 3, true, 50)
  SetFace("chr080_01", "F01", 0, 1, 0, 0)
  SetFace("chr080_01", "F01_M03", 0, 1, 6, 18)
  BlendFaceDigi("chr080_01", 0, 0, 0, "SCURVE", 0, 0)
  Event_PlayBGM(930, 0.5, 0)
  SetCamera(-19.733, 4.455, 73.769, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-22.811, 6.271, 74.043, "LINEAR", 0, false, 0)
  SetCamera(-19.04, 3.719, 73.7, 0, 30, "LINEAR", 10, true, 0)
  SetCameraTarget(-23.046, 7.985, 74.099, "LINEAR", 10, true, 0)
  WaitFrame(23)
  SetCamera(-17.651, 2.681, 73.619, 0, 30, "DECEL", 5, false, 0)
  SetCameraTarget(-23.046, 5.915, 74.099, "DECEL", 5, false, 0)
  MessageTalk("m350_100_030")
  MessageTalk("m350_100_040")
  MessageClose()
  WaitFrame(10)
  PlayMotion("chr080_01", "e209", 5, false, 0)
  WaitFrame(28)
  SetCamera(-17.65, 2.681, 73.61, 0, 30, "DECEL", 5, true, 5)
  SetCameraTarget(-23.006, 6.045, 73.579, "DECEL", 5, true, 5)
  Event_Quake_Start(8, 9, 7, 0)
  local slot_id = Event_PlaySE(403008, 100, false, 0, 0)
  Event_StopBGM(2.5, 0)
  WaitFrame(35)
  ModelVisible("chr080_01", false, 0, 0)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 30, 0)
  SetPosition("HERO_01", -25.095, 2.216, 77.236, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 188.5, 0, "LINEAR", 0, 0)
  SetCamera(-24.826, 3.64, 78.272, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-25.073, 3.761, 76.748, "LINEAR", 0, false, 0)
  WaitFrame(30)
  if Debug.IsEventView() then
    EVENT_END()
  else
    EVENT_END_SEAMLESS(60)
  end
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m350_100()
end
