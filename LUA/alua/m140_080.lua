require("include")

function m140_080()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m140")
  SetEventCutNo(11)
  if Debug.IsEventView() then
    SetTimeZone("Evening")
    SetTimeAxis("A2020_dbef_140")
    SetMapStatus("Disable")
    LoadMap("e0003")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("chr705_01", "char_FALCOMON")
  LoadSceneViewerResource("c1.0", "m140_080_c1.0")
  LoadSceneViewerResource("c2.0", "m140_080_c2.0")
  LoadSceneViewerResource("c3.0", "m140_080_c3.0")
  LoadSceneViewerResource("c4.0", "m140_080_c4.0")
  LoadSceneViewerResource("c4.0_A1", "m140_080_c4.0_A1")
  LoadSceneViewerResource("c4.0_B1", "m140_080_c4.0_B1")
  LoadSceneViewerResource("c4.0_C1", "m140_080_c4.0_C1")
  LoadSceneViewerResource("c5.0", "m140_080_c5.0")
  LoadSceneViewerResource("c6.0", "m140_080_c6.0")
  LoadEnvironmentFile("c1.0", "es_m140_080_c1.0")
  LoadEnvironmentFile("c2.0", "es_m140_080_c2.0")
  LoadEnvironmentFile("c3.0", "es_m140_080_c3.0")
  LoadEnvironmentFile("c4.0", "es_m140_080_c4.0")
  LoadEnvironmentFile("c4.0_A1", "es_m140_080_c4.0_A1")
  LoadEnvironmentFile("c4.0_B1", "es_m140_080_c4.0_B1")
  LoadEnvironmentFile("c4.0_C1", "es_m140_080_c4.0_C1")
  LoadEnvironmentFile("c5.0", "es_m140_080_c5.0")
  LoadEnvironmentFile("c6.0", "es_m140_080_c6.0")
  WaitVistaLoad()
  SetPosition("HERO_01", 0.37, 0.018, 0.4, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 0, 0, "LINEAR", 0, 0)
  SetScale("HERO_01", 1, 1, 1)
  SetPosition("AEGIOMON_01", -0.635, -1.5, -0.225, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 15, 0, "LINEAR", 0, 0)
  SetScale("AEGIOMON_01", 1, 1, 1)
  SetPosition("HEROINE_01", 1.28, 0.018, -0.4, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -25, 0, "LINEAR", 0, 0)
  SetScale("HEROINE_01", 1, 1, 1)
  SetPosition("chr705_01", 0.2, -0.018, 3.172, "LINEAR", 0, 0)
  SetRotation("chr705_01", 0, 180, 0, "LINEAR", 0, 0)
  SetScale("chr705_01", 0.8, 0.8, 0.8)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetStartFrame("HERO_01", "fn01_01", 0, 0)
  SetFace("HERO_01", "F01", 0, 1, 0, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_01", "F01", 0, 1, 0, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, 0, 0)
  PlayMotion("chr705_01", "bn01", 0, true, 0)
  SetFace("chr705_01", "F01", 0, 1, 0, 0)
  BlendEye("HERO_01", 15, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 0, 0)
  PlayAim("HERO_01", "chr705_01", 0, 0)
  BlendEye("AEGIOMON_01", 10, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", 0, 0, 0, true, "SCURVE", 0, 0)
  PlayAim("AEGIOMON_01", "chr705_01", 0, 0)
  BlendEye("HEROINE_01", 10, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 0, 0)
  PlayAim("HEROINE_01", "chr705_01", 0, 0)
  BlendFaceDigi("chr705_01", 0, 0, 0, "LINEAR", 0, 0)
  ModelVisible("HERO_01", false, 0, 0)
  ModelVisible("AEGIOMON_01", false, 0, 0)
  ModelVisible("HEROINE_01", false, 0, 0)
  ModelVisible("chr705_01", false, 0, 0)
  SetEnv_All("c1.0", 0)
  SetCamera(1.13, 1.807, 4.82, 0, 50, "LINEAR", 0, false, 0)
  SetCameraTarget(-1.322, 1.357, 2.243, "LINEAR", 0, false, 0)
  Event_PlayBGM(314, 0, 0)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  Fade_In(0, FADE_TIME)
  WaitFrame(FADE_TIME)
  SetCamera(1.435, 1.807, 4.175, 0, 50, "SCURVE_B", 180, false, 0)
  SetCameraTarget(-1.322, 1.357, 2.472, "SCURVE_B", 180, false, 0)
  WaitFrame(180)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(1.778, 0.738, 4.963, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(0.027, 0.455, 1.422, "LINEAR", 0, false, 0)
  SetCamera(1.843, 0.748, 5.093, 0, 40, "SCURVE_B", 120, false, 0)
  SetCameraTarget(0.027, 0.455, 1.422, "SCURVE_B", 120, false, 0)
  SetPosition("AEGIOMON_01", -0.635, 0.018, -0.225, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 15, 0, "LINEAR", 0, 0)
  ModelVisible("HERO_01", true, 0, 0)
  ModelVisible("AEGIOMON_01", true, 0, 0)
  ModelVisible("HEROINE_01", true, 0, 0)
  ModelVisible("chr705_01", true, 0, 0)
  MessageTalk("m140_080_010")
  SetMouth("chr705_01", 1, 0, 0)
  MessageClose()
  WaitFrame(20)
  ResetAim("HERO_01", 1, 0)
  ResetAim("AEGIOMON_01", 40, 4)
  ResetAim("HEROINE_01", 1, 0)
  BlendEye("HERO_01", 15, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, -5, 0, true, "SCURVE", 42, 0)
  BlendEye("HEROINE_01", 10, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 20, 0, true, "SCURVE", 40, 0)
  Event_PlaySE(400002, 100, false, 0, 0.2)
  PlayMotion("chr705_01", "e500", 0, false, 0)
  WaitFrame(50)
  ModelVisible("chr705_01", false, 0, 0)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(0.726, 1.559, 0.51, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(1.261, 1.452, -0.381, "LINEAR", 0, false, 0)
  SetPosition("HEROINE_01", 1.28, 0.018, -0.4, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -58, 0, "LINEAR", 0, 0)
  PlayMotionBlend("HEROINE_01", "blend02", 0, false, 0)
  SetFace("HEROINE_01", "F10", 0, 2, 0, 0)
  BlendEye("HEROINE_01", 10, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 0, 0)
  MessageTalk("m140_080_015")
  MessageClose()
  WaitFrame(10)
  PlayMotion("HEROINE_01", "e008_01", 4, true, 0)
  PlayMotionBlend("HEROINE_01", "blend03", 0, false, 20)
  SetFace("HEROINE_01", "E11_M01", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m140_080_020")
  MessageClose()
  WaitFrame(10)
  EndMotion("HEROINE_01", 0)
  BlendEye("HEROINE_01", 15, 0, "SCURVE", 4, 0)
  BlendFace("HEROINE_01", 20, 0, 0, true, "SCURVE", 24, 0)
  MessageTalk("m140_080_021")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m140_080_022")
  MessageClose()
  WaitFrame(10)
  SetFace("HEROINE_01", "F11", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m140_080_023")
  MessageClose()
  WaitFrame(10)
  CUT("3.1")
  SetEnv_All("c4.0", 0)
  SetCamera(1.93, 1.56, 0, 0, 35, "LINEAR", 0, false, 0)
  SetCameraTarget(0.508, 1.372, -0.143, "LINEAR", 0, false, 0)
  SetPosition("HERO_01", 0.31, 0.018, 0.28, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 122, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", -0.635, 0.018, -0.225, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 35, 0, "LINEAR", 0, 0)
  SetFace("AEGIOMON_01", "F06", 0, 1, FACE_BLENDTIME, 0)
  SetFace("HERO_01", "E16_M10", 0, 1, 0, 0)
  BlendEye("HERO_01", 6, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 14, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -40, 83.286, -40, true, "SCURVE", 0, 0)
  MessageTalk("m140_080_024")
  MessageClose()
  WaitFrame(10)
  SetFace("HERO_01", "F01", 0, 0, FACE_BLENDTIME, 0)
  PlayMotion("HERO_01", "e012", 2, true, 0)
  PlayMotionBlend("HERO_01", "blend02", 2, false, 60)
  SetFace("HERO_01", "F01", 2, 0, FACE_BLENDTIME, 60)
  SetFace("HERO_01", "F01", 0, 0, FACE_BLENDTIME, 80)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 100)
  WaitFrame(120)
  CUT("3.2")
  SetEnv_All("c3.0", 0)
  SetCamera(0.726, 1.559, 0.51, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(1.261, 1.452, -0.381, "LINEAR", 0, false, 0)
  SetFace("HEROINE_01", "F16", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HEROINE_01", 8, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", -5, 5, 0, true, "SCURVE", 0, 0)
  MessageTalk("m140_080_025")
  MessageClose()
  WaitFrame(10)
  PlayMotion("HEROINE_01", "e015", 1, true, 0)
  SetFace("HEROINE_01", "E11_M01", 2, 1, FACE_BLENDTIME, 0)
  BlendEye("HEROINE_01", 20, -20, "SCURVE", 6, 0)
  MessageTalk("m140_080_026")
  MessageClose()
  WaitFrame(10)
  SetFace("HEROINE_01", "E11_M01", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m140_080_027")
  MessageClose()
  WaitFrame(10)
  EndMotion("HEROINE_01", 0)
  BlendEye("HEROINE_01", 10, 0, "SCURVE", 6, 10)
  SetFace("HEROINE_01", "F01", 2, 1, FACE_BLENDTIME, 10)
  SetBlink("HEROINE_01", 1, 0.4, 16)
  MessageTalk("m140_080_028")
  MessageClose()
  WaitFrame(10)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetCamera(1.93, 1.56, 0, 0, 35, "LINEAR", 0, false, 0)
  SetCameraTarget(0.508, 1.372, -0.143, "LINEAR", 0, false, 0)
  PlayMotion("HERO_01", "e020", 0, false, 0)
  PlayMotion("HERO_01", "fn01_01", 4, true, 134)
  SetFace("HERO_01", "F13", 0, 1, 0, 0)
  SetFace("HERO_01", "E13_M02", 2, 0, 10, 30)
  WaitFrame(60)
  SetBlink("HERO_01", 0, 0.8, 0)
  WaitFrame(30)
  SetFace("HERO_01", "F01", 0, 1, 12, 0)
  WaitFrame(44)
  correct = false
  while not Vista.IsSkipping() and not correct do
    SetEnv_All("c4.0", 0)
    SetCamera(1.93, 1.56, 0, 0, 35, "LINEAR", 0, false, 0)
    SetCameraTarget(0.508, 1.372, -0.143, "LINEAR", 0, false, 0)
    SetPosition("HERO_01", 0.31, 0.018, 0.28, "LINEAR", 0, 0)
    SetRotation("HERO_01", 0, 122, 0, "LINEAR", 0, 0)
    SetPosition("AEGIOMON_01", -0.635, 0.018, -0.225, "LINEAR", 0, 0)
    SetRotation("AEGIOMON_01", 0, 35, 0, "LINEAR", 0, 0)
    SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 0)
    BlendEye("HERO_01", 6, 0, "SCURVE", 0, 0)
    BlendFace("HERO_01", 14, 0, 0, true, "SCURVE", 0, 0)
    BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
    BlendFace("AEGIOMON_01", -40, 83.286, -40, true, "SCURVE", 0, 0)
    PlayMotion("HERO_01", "fn01_01", 0, true, 0)
    SetFace("HERO_01", "F01", 0, 1, 0, 0)
    MessageTalkSel(3, "m140_080_030")
    result = Talk.GetResultSelectedNum()
    if result == RESULT_TALK00 then
      PlayMotion("HERO_01", "e002", 2, true, 0)
      SetFace("HERO_01", "F01", 0, 0, FACE_BLENDTIME, 0)
      SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 60)
      WaitFrame(65)
      CUT("4.0_A1")
      SetEnv_All("c4.0_A1", 0)
      SetCamera(0.847, 1.403, 2.638, 0, 50, "LINEAR", 0, false, 0)
      SetCameraTarget(0.497, 0.94, 0.335, "LINEAR", 0, false, 0)
      SetPosition("HERO_01", 0.31, 0.018, 0.28, "LINEAR", 0, 0)
      SetRotation("HERO_01", 0, 152, 0, "LINEAR", 0, 0)
      SetPosition("HEROINE_01", 1.62, 0.018, -0.4, "LINEAR", 0, 0)
      SetRotation("HEROINE_01", 0, -58, 0, "LINEAR", 0, 0)
      BlendEye("HERO_01", 6, 0, "SCURVE", 0, 0)
      BlendFace("HERO_01", 14, -30, 0, true, "SCURVE", 0, 0)
      PlayMotionBlend("HEROINE_01", "blend01", 3, false, 0)
      PlayMotion("HEROINE_01", "e012", 4, true, 0)
      SetFace("HEROINE_01", "E04_M01", 0, 1, FACE_BLENDTIME, 0)
      MessageTalk("m140_080_040")
      MessageClose()
      WaitFrame(10)
      EndMotion("HEROINE_01", 0)
      PlayMotion("AEGIOMON_01", "e031", 4, true, 0)
      BlendFace("HEROINE_01", 26, -36, 0, true, "SCURVE", 40, 0)
      MessageTalk("m140_080_050")
      MessageClose()
      WaitFrame(10)
      PlayMotionBlend("HEROINE_01", "blend01", 0, false, 0)
      BLEND_WAIT("HEROINE_01", 0)
      BlendFace("AEGIOMON_01", 0, -80, 0, true, "SCURVE", 40, 0)
      WaitFrame(40)
      correct = true
    elseif result == RESULT_TALK01 then
      PlayMotion("HERO_01", "e020", 4, false, 0)
      SetFace("HERO_01", "F11", 0, 0, FACE_BLENDTIME, 0)
      SetFace("HERO_01", "F11", 0, 1, FACE_BLENDTIME, 70)
      WaitFrame(75)
      CUT("4.0_B1")
      SetEnv_All("c4.0_B1", 0)
      SetCamera(0.726, 1.559, 0.51, 0, 30, "LINEAR", 0, false, 0)
      SetCameraTarget(1.261, 1.452, -0.381, "LINEAR", 0, false, 0)
      PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
      SetFace("HEROINE_01", "F02", 0, 1, 0, 0)
      PlayMotionBlend("HEROINE_01", "blend01", 0, false, 0)
      MessageTalk("m140_080_080")
      MessageClose()
      WaitFrame(10)
    elseif result == RESULT_TALK02 then
      PlayMotion("HERO_01", "e004", 4, true, 0)
      SetFace("HERO_01", "F02", 0, 0, FACE_BLENDTIME, 0)
      SetFace("HERO_01", "F02", 0, 1, FACE_BLENDTIME, 60)
      WaitFrame(65)
      CUT("4.0_C1")
      SetEnv_All("c4.0_C1", 0)
      SetCamera(0.726, 1.559, 0.51, 0, 30, "LINEAR", 0, false, 0)
      SetCameraTarget(1.261, 1.452, -0.381, "LINEAR", 0, false, 0)
      PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
      SetFace("HEROINE_01", "F04", 0, 1, 0, 0)
      PlayMotionBlend("HEROINE_01", "blend02", 0, false, 0)
      MessageTalk("m140_080_090")
      MessageClose()
      WaitFrame(10)
    end
  end
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetCamera(-6.27, 0.983, 3.835, 0, 20, "LINEAR", 0, false, 0)
  SetCameraTarget(-3.754, 0.91, 1.515, "LINEAR", 0, false, 0)
  SetPosition("HERO_01", 0.31, 0.018, 0.28, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 110, 0, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 290, 0, "LINEAR", 60, 0)
  SetPosition("HEROINE_01", 1.28, 0.018, -0.65, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -58, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", -3.594, 0.018, 1.483, "LINEAR", 40, 0)
  SetRotation("AEGIOMON_01", 0, -60, 0, "LINEAR", 12, 0)
  PlayMotion("HERO_01", "ft02_02", 4, false, 0)
  PlayMotion("AEGIOMON_01", "fr01_01", 12, true, 0)
  PlayMotion("AEGIOMON_01", "e004", 6, true, 40)
  SetFace("AEGIOMON_01", "F16", 0, 1, 0, 0)
  BlendEye("HERO_01", 10, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 14, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 10, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", 25, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 10, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 12, -12, 0, true, "SCURVE", 40, 0)
  WaitFrame(40)
  SetFace("AEGIOMON_01", "E02_M08", 0, 1, 0, 0)
  MessageTalk("m140_080_060")
  MessageClose()
  WaitFrame(10)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  SetCamera(0.726, 1.559, 0.51, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(1.261, 1.452, -0.381, "LINEAR", 0, false, 0)
  SetPosition("HEROINE_01", 1.28, 0.018, -0.4, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -58, 0, "LINEAR", 0, 0)
  SetFace("HEROINE_01", "F02", 1, 1, 0, 0)
  BlendEye("HEROINE_01", 0, 7, "SCURVE", 6, 4)
  BlendFace("HEROINE_01", -6.5, 7, 0, true, "SCURVE", 30, 0)
  WaitFrame(10)
  PlayMotion("HEROINE_01", "e511", 4, true, 0)
  PlayMotionBlend("HEROINE_01", "blend01", 0, false, 30)
  SetFace("HEROINE_01", "F02", 1, 1, 6, 0)
  MessageTalk("m140_080_070")
  MessageClose()
  WaitFrame(10)
  SetFace("HEROINE_01", "F02", 1, 1, FACE_BLENDTIME, 0)
  WaitFrame(20)
  BLEND_WAIT("HEROINE_01", 0)
  Fade_OutNoLoadingWithWait(FADE_BLACK, 45)
  Event_StopBGM(0.8)
  WaitFrame(75)
  if Debug.IsEventView() then
    Event_StopBGM(0, 0)
  end
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m140_080()
end
