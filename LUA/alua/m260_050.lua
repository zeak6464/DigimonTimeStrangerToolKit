require("include")

function m260_050()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m260")
  SetEventCutNo(6)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2028_daft_260")
    SetMapStatus("Disable")
    LoadMap("d0306")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  LoadModel("chr162_01", "char_RANAMON")
  LoadSceneViewerResource("c1.0", "d0306f_sa")
  LoadSceneViewerResource("c2.0", "d0306f_sa")
  LoadSceneViewerResource("c3.0_A1", "d0306f_sa")
  LoadSceneViewerResource("c3.0_B1", "d0306f_sa")
  LoadSceneViewerResource("c3.0_C1", "d0306f_sa")
  LoadSceneViewerResource("c4.0", "d0306f_sa")
  LoadEnvironmentFile("c1.0", "es_m260_050_c1.0")
  LoadEnvironmentFile("c2.0", "es_m260_050_c2.0")
  LoadEnvironmentFile("c3.0_A1", "es_m260_050_c3.0_A1")
  LoadEnvironmentFile("c3.0_B1", "es_m260_050_c3.0_B1")
  LoadEnvironmentFile("c3.0_C1", "es_m260_050_c3.0_C1")
  LoadEnvironmentFile("c4.0", "es_m260_050_c4.0")
  WaitVistaLoad()
  Event_StopBGM(BGM_FADE_TIME, 0)
  SetPosition("HERO_01", 2.504, 3.759, 3.388, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 83, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 2.569, 3.759, 4.898, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 117, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", 2.159, 3.759, 4.132, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 90, 0, "LINEAR", 0, 0)
  SetPosition("chr162_01", 3.766, 3.759, 4.1, "LINEAR", 0, 0)
  SetRotation("chr162_01", 0, -93, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr162_01", "bn01", 0, true, 0)
  SetFace("chr162_01", "F01_M01", 0, 2, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 3, -31, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 16, 9, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -28, 0, 0, false, "SCURVE", 0, 0)
  BlendFaceDigi("chr162_01", -5, 0, 0, "SCURVE", 0, 0)
  SetCamera(-0.574, 5.256, 3.412, 0, 27, "LINEAR", 0, false, 0)
  SetCameraTarget(2.912, 4.94, 4.113, "LINEAR", 0, false, 0)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  FadeAllInWithWait(FADE_BLACK, FADE_TIME)
  WaitFrame(10)
  BlendFaceDigi("chr162_01", -16, -18, 0, "SCURVE", 30, 20)
  MessageTalk("m260_050_010")
  MessageClose()
  WaitFrame(10)
  SetRotation("HERO_01", 0, 26.5, 0, "LINEAR", 45, 10)
  SetRotation("HEROINE_01", 0, 166.5, 0, "LINEAR", 45, 5)
  SetRotation("AEGIOMON_01", 0, 143.5, 0, "LINEAR", 45, 0)
  PlayMotion("HERO_01", "ft01_01", 5, false, 10)
  PlayMotion("HERO_01", "fn01_01", 5, true, 55)
  PlayMotion("HEROINE_01", "ft01_02", 5, false, 5)
  PlayMotion("HEROINE_01", "fn01_01", 5, true, 50)
  PlayMotion("AEGIOMON_01", "ft01_02", 5, false, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 5, true, 45)
  BlendFace("HERO_01", 0, -53, 0, true, "SCURVE", 45, 10)
  BlendFace("HEROINE_01", -16, 19, 0, true, "SCURVE", 45, 5)
  BlendFace("AEGIOMON_01", -78, 18, -27, false, "SCURVE", 45, 0)
  WaitFrame(60)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetPosition("HERO_01", 2.504, 3.759, 3.388, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -20.5, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 2.569, 3.759, 4.898, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 166.5, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", 2.159, 3.759, 4.132, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 143.5, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 10, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 3, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", -10, 29, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -78, 18, -27, false, "SCURVE", 0, 0)
  SetCamera(1.631, 5.102, 4.426, 0, 27, "LINEAR", 0, false, 0)
  SetCameraTarget(2.194, 5.195, 3.728, "LINEAR", 0, false, 0)
  correct = false
  while not Vista.IsSkipping() and not correct do
    CUT("2.0")
    SetEnv_All("c2.0", 0)
    SetPosition("HERO_01", 2.504, 3.759, 3.388, "LINEAR", 0, 0)
    SetRotation("HERO_01", 0, -20.5, 0, "LINEAR", 0, 0)
    SetPosition("HEROINE_01", 2.569, 3.759, 4.898, "LINEAR", 0, 0)
    SetRotation("HEROINE_01", 0, 166.5, 0, "LINEAR", 0, 0)
    SetPosition("AEGIOMON_01", 2.159, 3.759, 4.132, "LINEAR", 0, 0)
    SetRotation("AEGIOMON_01", 0, 143.5, 0, "LINEAR", 0, 0)
    PlayMotion("HERO_01", "fn01_01", 0, true, 0)
    SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
    PlayMotion("HEROINE_01", "e012", 0, true, 0)
    SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 0)
    PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
    SetFace("AEGIOMON_01", "F01", 0, 1, FACE_BLENDTIME, 0)
    BlendEye("HERO_01", 10, 0, "SCURVE", 0, 0)
    BlendFace("HERO_01", 3, 0, 0, true, "SCURVE", 0, 0)
    BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
    BlendFace("HEROINE_01", -10, 29, 0, true, "SCURVE", 0, 0)
    BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
    BlendFace("AEGIOMON_01", -78, 18, -27, false, "SCURVE", 0, 0)
    SetCamera(1.631, 5.102, 4.426, 0, 27, "LINEAR", 0, false, 0)
    SetCameraTarget(2.194, 5.195, 3.728, "LINEAR", 0, false, 0)
    MessageTalkSel(3, "m260_050_020")
    result = Talk.GetResultSelectedNum()
    if result == RESULT_TALK00 then
      PlayMotionBlend("HERO_01", "blend01", 0, false, 0)
      SetFace("HERO_01", "F01", 0, 0, FACE_BLENDTIME, 10)
      SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 60)
      WaitFrame(90)
      correct = true
    elseif result == RESULT_TALK01 then
      PlayMotionForce("HERO_01", "e002", 5, true, 0)
      SetFace("HERO_01", "F15", 0, 0, FACE_BLENDTIME, 0)
      SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 45)
      WaitFrame(60)
      CUT("3.0_B1")
      SetEnv_All("c3.0_B1", 0)
      SetPosition("HERO_01", 2.504, 3.759, 3.388, "LINEAR", 0, 0)
      SetRotation("HERO_01", 0, -20.5, 0, "LINEAR", 0, 0)
      SetPosition("HEROINE_01", 2.569, 3.759, 4.898, "LINEAR", 0, 0)
      SetRotation("HEROINE_01", 0, 166.5, 0, "LINEAR", 0, 0)
      SetPosition("AEGIOMON_01", 2.099, 3.759, 4.282, "LINEAR", 0, 0)
      SetRotation("AEGIOMON_01", 0, 143.5, 0, "LINEAR", 0, 0)
      SetPosition("chr162_01", 3.766, 3.759, 4.1, "LINEAR", 0, 0)
      SetRotation("chr162_01", 0, -93, 0, "LINEAR", 0, 0)
      SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
      PlayMotion("HEROINE_01", "e012", 5, true, 40)
      SetFace("HEROINE_01", "E16_M04", 0, 1, FACE_BLENDTIME, 0)
      PlayMotion("AEGIOMON_01", "e002_01", 0, true, 0)
      SetFace("AEGIOMON_01", "F06", 0, 1, FACE_BLENDTIME, 0)
      BlendFace("HERO_01", 20, -13, 0, true, "SCURVE", 30, 10)
      BlendEye("HEROINE_01", 5, 7, "SCURVE", 0, 0)
      BlendFace("HEROINE_01", -14, 21, 27, true, "SCURVE", 0, 0)
      BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
      BlendFace("AEGIOMON_01", -78, 18, -27, false, "SCURVE", 0, 0)
      SetCamera(2.003, 5.571, 2.538, 0, 33, "LINEAR", 0, false, 0)
      SetCameraTarget(2.184, 5.387, 3.134, "LINEAR", 0, false, 0)
      MessageTalk("m260_050_070")
      MessageClose()
      WaitFrame(10)
    elseif result == RESULT_TALK02 then
      PlayMotionForce("HERO_01", "e004_01", 10, true, 0)
      SetFace("HERO_01", "E08_M02", 0, 0, FACE_BLENDTIME, 10)
      SetFace("HERO_01", "E08_M02", 0, 1, FACE_BLENDTIME, 60)
      WaitFrame(90)
      CUT("3.0_C1")
      SetEnv_All("c3.0_C1", 0)
      SetPosition("HERO_01", 2.504, 3.759, 3.388, "LINEAR", 0, 0)
      SetRotation("HERO_01", 0, -20.5, 0, "LINEAR", 0, 0)
      SetPosition("HEROINE_01", 2.569, 3.759, 4.898, "LINEAR", 0, 0)
      SetRotation("HEROINE_01", 0, 166.5, 0, "LINEAR", 0, 0)
      SetPosition("AEGIOMON_01", 2.099, 3.759, 4.282, "LINEAR", 0, 0)
      SetRotation("AEGIOMON_01", 0, 143.5, 0, "LINEAR", 0, 0)
      SetPosition("chr162_01", 3.766, 3.759, 4.1, "LINEAR", 0, 0)
      SetRotation("chr162_01", 0, -93, 0, "LINEAR", 0, 0)
      PlayMotion("HEROINE_01", "e031", 0, true, 0)
      SetFace("HEROINE_01", "F11", 0, 1, FACE_BLENDTIME, 0)
      PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
      SetFace("AEGIOMON_01", "F06", 0, 1, FACE_BLENDTIME, 0)
      BlendFace("HERO_01", 3, 0, 0, true, "SCURVE", 20, 10)
      BlendEye("HEROINE_01", 24, 13, "SCURVE", 10, 10)
      BlendFace("HEROINE_01", 2, 32, 0, true, "SCURVE", 30, 0)
      BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
      BlendFace("AEGIOMON_01", -78, 18, -27, false, "SCURVE", 0, 0)
      SetCamera(2.003, 5.571, 2.538, 0, 33, "LINEAR", 0, false, 0)
      SetCameraTarget(2.184, 5.387, 3.134, "LINEAR", 0, false, 0)
      MessageTalk("m260_050_080")
      EndMotion("HERO_01", 0)
      SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
      MessageTalk("m260_050_090")
      EndMotion("HEROINE_01", 0)
      BlendEye("HEROINE_01", 10, 0, "SCURVE", 10, 10)
      BlendFace("HEROINE_01", 0, 29, 0, true, "SCURVE", 30, 0)
      MessageTalk("m260_050_100")
      MessageClose()
      WaitFrame(10)
    end
  end
  CUT("3.0_A1")
  SetEnv_All("c3.0_A1", 0)
  SetCamera(2.003, 5.571, 2.538, 0, 33, "LINEAR", 0, false, 0)
  SetCameraTarget(2.184, 5.387, 3.134, "LINEAR", 0, false, 0)
  SetPosition("HERO_01", 2.504, 3.759, 3.388, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -20.5, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 2.569, 3.759, 4.898, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 166.5, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", 2.099, 3.759, 4.282, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 143.5, 0, "LINEAR", 0, 0)
  SetPosition("chr162_01", 3.766, 3.759, 4.1, "LINEAR", 0, 0)
  SetRotation("chr162_01", 0, -93, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("AEGIOMON_01", "e002", 0, true, 0)
  SetFace("AEGIOMON_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr162_01", "bn01", 0, true, 0)
  ChangeDigimonFace("chr162_01", EYE_EXPRESSION_NORMAL, 0)
  BlendFace("HERO_01", 38, -9, 0, true, "SCURVE", 30, 10)
  BlendEye("HEROINE_01", 16, 0, "SCURVE", 10, 20)
  BlendFace("HEROINE_01", 12, 50, 0, true, "SCURVE", 30, 10)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -78, 18, -27, false, "SCURVE", 0, 0)
  BlendFaceDigi("chr162_01", -16, -18, 0, "SCURVE", 0, 0)
  Event_PlayBGM(303, 1, 0)
  WaitFrame(10)
  MessageTalk("m260_050_030")
  SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  BlendFace("HERO_01", -9, 8, 0, true, "SCURVE", 30, 10)
  BlendEye("HEROINE_01", 16, 0, "SCURVE", 10, 10)
  BlendFace("HEROINE_01", -23, 28, 0, true, "SCURVE", 30, 0)
  MessageTalk("m260_050_050")
  PlayMotion("HEROINE_01", "e002", 5, true, 0)
  SetStartFrame("HEROINE_01", "e002", 0, 0)
  MessageTalk("m260_050_060")
  MessageClose()
  WaitFrame(10)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetPosition("HERO_01", 2.504, 3.759, 3.388, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 26.5, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 2.569, 3.759, 4.898, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 166.5, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", 2.159, 3.759, 4.132, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 143.5, 0, "LINEAR", 0, 0)
  SetPosition("chr162_01", 3.766, 3.759, 4.1, "LINEAR", 0, 0)
  SetRotation("chr162_01", 0, -93, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, -53, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", -16, 19, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -78, 18, -27, false, "SCURVE", 0, 0)
  BlendFaceDigi("chr162_01", -16, -18, 0, "SCURVE", 0, 0)
  SetCamera(-0.574, 5.256, 3.412, 0, 27, "LINEAR", 0, false, 0)
  SetCameraTarget(2.912, 4.94, 4.113, "LINEAR", 0, false, 0)
  WaitFrame(10)
  SetRotation("HERO_01", 0, 83, 0, "LINEAR", 45, 5)
  SetRotation("HEROINE_01", 0, 117, 0, "LINEAR", 45, 10)
  SetRotation("AEGIOMON_01", 0, 90, 0, "LINEAR", 45, 0)
  PlayMotion("HERO_01", "ft01_02", 5, false, 5)
  PlayMotion("HERO_01", "fn01_01", 5, true, 50)
  PlayMotion("HEROINE_01", "ft01_01", 5, false, 10)
  PlayMotion("HEROINE_01", "fn01_01", 5, true, 55)
  PlayMotion("AEGIOMON_01", "ft01_01", 5, false, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 5, true, 45)
  PlayMotion("chr162_01", "fq01", 5, false, 0)
  PlayMotion("chr162_01", "bn01", 5, true, 60)
  SetFace("chr162_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 15, 0)
  BlendFace("HERO_01", 3, -31, 0, true, "SCURVE", 45, 5)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 20, 0)
  BlendFace("HEROINE_01", 16, 9, 0, true, "SCURVE", 45, 10)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 10, 0)
  BlendFace("AEGIOMON_01", -28, 0, 0, false, "SCURVE", 45, 0)
  MessageTalk("m260_050_110")
  BlendFaceDigi("chr162_01", -7, 5, 0, "SCURVE", 30, 0)
  SetFace("chr162_01", "F02", 0, 1, FACE_BLENDTIME, 30)
  MessageTalk("m260_050_120")
  MessageClose()
  Event_StopBGM(1.5, 0)
  WaitFrame(10)
  Fade_OutNoLoadingWithWait(0, 30)
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m260_050()
end
