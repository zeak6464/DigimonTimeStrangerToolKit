require("include")

function m020_110()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m020")
  LOAD_VOICE()
  SetEventCutNo(2)
  if Debug.IsEventView() then
    SetTimeZone("Evening")
    SetTimeAxis("X2028_daft_20")
    LoadMap("d1403")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadEffectScript("eff_01", "ef_e_com_090")
  LoadEffectScript("eff_02", "ef_e_com_091")
  LoadSceneViewerResource("c1.0", "d1403f_ce")
  LoadSceneViewerResource("c2.0", "d1403f_ce")
  LoadEnvironmentFile("c1.0", "es_m020_110_c1.0")
  LoadEnvironmentFile("c2.0", "es_m020_110_c2.0")
  WaitVistaLoad()
  SetPosition("HERO_01", -48.403, 0, 2.038, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -90, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -48.5, 0, 0, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -80, 0, "LINEAR", 0, 0)
  SetPosition("eff_01", -68.467, -20.382, 83.394, "LINEAR", 0, 0)
  SetPosition("eff_02", -77.408, -22.362, 100.656, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F03", 0, 1, 0, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, 0, 0)
  Vista.PlayEffect("eff_01", false, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 60, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 0, 0)
  SetCamera(-64.616, 2.727, 2.362, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-70.13, -10.49, 45, "LINEAR", 0, false, 0)
  SetEnv_All("c1.0", 0)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  Event_StopBGM(0.5, 0)
  Fade_In(0, FADE_TIME)
  SetCamera(-64.639, 2.673, 2.536, 0, 40, "LINEAR", 120, true, 0)
  SetCameraTarget(-70.13, -10.49, 45, "LINEAR", 120, true, 0)
  SetPosition("eff_01", -118.732, -54.632, 110, "LINEAR", 0, 0)
  SetPosition("eff_02", -73.3, -18.5, 70, "LINEAR", 0, 0)
  WaitFrame(40)
  PlaySE(403040, 100)
  Vista.PlayEffect("eff_02", false, 0)
  WaitFrame(60)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(-51.589, 1.539, 1.391, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-52.796, 1.537, 1.93, "LINEAR", 0, false, 0)
  SetCamera(-51.589, 1.539, 1.391, 0, 30, "SCURVE", 60, true, 10)
  SetCameraTarget(-52.786, 1.537, 1.43, "SCURVE", 60, true, 10)
  SetPosition("HERO_01", -52.57, 0, 1.6, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -90, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -88.5, 0, 0, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 90, 0, "LINEAR", 0, 0)
  PlayMotion("HEROINE_01", "e205", 0, false, 0)
  EndMotion("HEROINE_01", 75)
  BlendEye("HERO_01", 0, 0, "SCURVE", 4, 20)
  BlendFace("HERO_01", -5, -30, 0, true, "SCURVE", 36, 36)
  WaitFrame(10)
  MessageTalk("m020_110_010")
  MessageClose()
  WaitFrame(20)
  MovePosition("HERO_01", -54.945, 0, 1.578, false, 1, 0)
  MoveRotation("HERO_01", 0, -90, 0, "LINEAR", 1, true, 0)
  Fade_OutNoLoadingWithWait(FADE_BLACK, 10)
  Vista.SetKeepBGM()
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m020_110()
end
