S110_112 = {
  ID = 112,
  STEP_001 = 1,
  STEP_255 = 255
}
local text_file = "s110_112"
local base = text_file .. "_"

function S110_112:Event_010()
  if Qst.Sub:Check(self.ID, self.STEP_001, self.STEP_255) and Flg.Check("FLAG_SUB_110_111_001") then
    local tlk = Tlk:new(text_file, 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    tlk:Message(base .. "010")
    tlk:EndTalk()
  end
end

function S110_112:Event_020()
  if Qst.Sub:Check(self.ID, self.STEP_001, self.STEP_255) and Flg.Check("FLAG_SUB_110_111_001") then
    local npc01_index = GetIndex(NPC, "s110_112_001")
    local j_fq01 = Motion.Object:new(NPC, "s110_112_001", "fq01")
    local j_fq02 = Motion.Object:new(NPC, "s110_112_001", "fq02")
    local j_fe01 = Motion.Object:new(NPC, "s110_112_001", "fe01")
    local j_fe02 = Motion.Object:new(NPC, "s110_112_001", "fe02")
    local j_fe03 = Motion.Object:new(NPC, "s110_112_001", "fe03")
    local j_fe04 = Motion.Object:new(NPC, "s110_112_001", "fe04")
    local j_bn01 = Motion.Object:new(NPC, "s110_112_001", "bn01")
    local e002 = Motion.Object:new(PLAYER, "", "e002")
    local e004 = Motion.Object:new(PLAYER, "", "e004")
    local e008 = Motion.Object:new(PLAYER, "", "e008")
    local e012 = Motion.Object:new(PLAYER, "", "e012")
    local fn01_01 = Motion.Object:new(PLAYER, "", "fn01_01")
    HideMinimap(true)
    HideGuide(true)
    local tlk = Tlk:new(text_file, 1, true)
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    Obj:new(PLAYER, ""):SetPos(-40.613, 0, -29.182, true)
    Obj:new(PLAYER, ""):SetRotationYToObject(NPC, "s110_112_001", 0)
    tlk:StartTalkAndCancelDigimonRide()
    Cam.Inst:Set(-44.348, 4.178, -36.736, -39.775, 1.184, -28.362, default, 0)
    WaitFrame(5)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(15)
    Field.ObjectLookAtTheObject(PLAYER, 1, NPC, npc01_index, 15, 10)
    tlk:Message(base .. "020")
    tlk:MessageClose()
    Talk.CloseLetterBox()
    Qst.Sub:Start(self.ID, 1, false)
    Talk.OpenLetterBox()
    local result = tlk:Select(3, base .. "030")
    if result == RESULT_TALK00 then
      j_fq02:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "040")
    elseif result == RESULT_TALK01 then
      j_fq02:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "050")
    elseif result == RESULT_TALK02 then
      j_fq02:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "060")
    end
    tlk:MessageClose()
    WaitFrame(15)
    Cam.Inst:Set(-47.306, 1.2, -32.482, -39.682, 3.678, -26.503, default, 0)
    j_fq01:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "070")
    tlk:MessageClose()
    Cam.Inst:Set(-44.348, 4.178, -36.736, -39.775, 1.184, -28.362, default, 0)
    j_fq02:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "080")
    result = tlk:Select(3, base .. "090")
    if result == RESULT_TALK00 then
      j_fe04:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "100")
    elseif result == RESULT_TALK01 then
      j_fe04:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "110")
    elseif result == RESULT_TALK02 then
      j_fe04:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "120")
    end
    tlk:MessageClose()
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(45)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    j_fq01:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "130")
    j_fe04:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "140")
    j_fq02:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "150")
    result = tlk:Select(3, base .. "160")
    if result == RESULT_TALK00 then
      j_fq01:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "170")
      tlk:MessageClose()
      Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
      WaitFrame(60)
      Cam.Inst:Set(-43.952, 3.948, -33.855, -39.162, 1.277, -42.217, default, 0)
      Obj:new(PLAYER, ""):SetPos(-39.917, 0, -41.418, true)
      Obj:new(PLAYER, ""):SetRotationYToObject(NPC, "s110_112_001", 0)
      Obj:new(NPC, "s110_112_001"):SetPos(-40.991, 0, -39.128, true)
      Obj:new(NPC, "s110_112_001"):SetRotationYToObject(PLAYER, "", 0)
      j_bn01:Play(10, true)
      FadeAllInWithWait(FADE_BLACK, FADE_TIME)
      Field.ObjectLookAtTheObject(PLAYER, 1, NPC, npc01_index, 15, 10)
      j_fq02:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "180")
    elseif result == RESULT_TALK01 then
      j_fq01:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "190")
      tlk:MessageClose()
      Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
      WaitFrame(60)
      Cam.Inst:Set(-43.952, 3.948, -33.855, -39.162, 1.277, -42.217, default, 0)
      Obj:new(PLAYER, ""):SetPos(-39.917, 0, -41.418, true)
      Obj:new(PLAYER, ""):SetRotationYToObject(NPC, "s110_112_001", 0)
      Obj:new(NPC, "s110_112_001"):SetPos(-40.991, 0, -39.128, true)
      Obj:new(NPC, "s110_112_001"):SetRotationYToObject(PLAYER, "", 0)
      j_bn01:Play(10, true)
      FadeAllInWithWait(FADE_BLACK, FADE_TIME)
      Field.ObjectLookAtTheObject(PLAYER, 1, NPC, npc01_index, 15, 10)
      j_fq02:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "200")
    elseif result == RESULT_TALK02 then
      j_fe02:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "210")
      tlk:MessageClose()
      Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
      WaitFrame(60)
      Cam.Inst:Set(-43.952, 3.948, -33.855, -39.162, 1.277, -42.217, default, 0)
      Obj:new(PLAYER, ""):SetPos(-39.917, 0, -41.418, true)
      Obj:new(PLAYER, ""):SetRotationYToObject(NPC, "s110_112_001", 0)
      Obj:new(NPC, "s110_112_001"):SetPos(-40.991, 0, -39.128, true)
      Obj:new(NPC, "s110_112_001"):SetRotationYToObject(PLAYER, "", 0)
      j_bn01:Play(10, true)
      FadeAllInWithWait(FADE_BLACK, FADE_TIME)
      Field.ObjectLookAtTheObject(PLAYER, 1, NPC, npc01_index, 15, 10)
      j_fe04:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "220")
    end
    j_fe01:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "230")
    j_fq01:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "240")
    tlk:Message(base .. "250")
    j_fe02:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "260")
    j_fe04:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "270")
    require("S110_111")
    Qst.Sub:Set(S110_111.ID, S110_111.STEP_010)
    Flg.Set("FLAG_IS_CLEAR_S110_112")
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    Cam.Inst:Clear(0)
    FieldObjectSync(NPC, false)
    tlk:EndTalk()
    local rotY = Field.ObjectGetRotationY(PLAYER, 1)
    SetFollowerCameraOperateRotation(0, rotY, 0)
    WaitFrame(25)
    Cam.Inst:Clear(0)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    HideMinimap(false)
    HideGuide(false)
    Qst.Sub:End(self.ID, self.STEP_255)
  end
end
