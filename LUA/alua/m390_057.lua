require("include")

function m390_057()
  Fade_OutNoLoadingWithWait(FADE_BLACK, 0)
  EVENT_BEGIN()
  Talk.Load("m390")
  SetEventCutNo(4)
  if Debug.IsEventView() then
    SetTimeZone("Night")
    SetTimeAxis("Z2028_daft_390")
    LoadMap("d1002")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("chr805_01", "char_BLACKSHADOW")
  LoadSceneViewerResource("c1.0", "m390_057_c2.0")
  LoadSceneViewerResource("c2.0", "m390_057_c2.0")
  LoadSceneViewerResource("c3.0", "m390_057_c3.0")
  LoadSceneViewerResource("c4.0", "m390_057_c2.0")
  LoadEnvironmentFile("c1.0", "es_m390_057_c1.0")
  LoadEnvironmentFile("c2.0", "es_m390_057_c2.0")
  LoadEnvironmentFile("c3.0", "es_m390_057_c3.0")
  LoadEnvironmentFile("c4.0", "es_m390_057_c4.0")
  WaitVistaLoad()
  Event_StopBGM(BGM_FADE_TIME, 0)
  local slot_10 = Event_PlaySE(220009, 100, true, 0, 0)
  local slot_11 = Event_PlaySE(211010, 100, true, 0, 0)
  Event_PlayBGM(116, 0, BGM_FADE_TIME)
  SetPosition("HERO_01", 29.069, -1.408, 1.13, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -90, 0, "LINEAR", 0, 0)
  SetPosition("chr805_01", -0.125, -0.689, -3.356, "LINEAR", 0, 0)
  SetRotation("chr805_01", 0, 0, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr805_01", "fw01_01", 0, true, 0)
  ChangeDigimonFace("chr805_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr805_01", 1, 0, 0)
  MovePosition("HERO_01", 27.29, -1.357, 1.13, true, 0.9, 0)
  MoveRotation("HERO_01", 0, -90, 0, "LINEAR", 0.9, true, 0)
  MovePosition("chr805_01", -0.125, 2.784, 5.843, false, 1, 0)
  MoveRotation("chr805_01", 0, 0, 0, "LINEAR", 1, true, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendFaceDigi("chr805_01", 0, 0, 0, "SCURVE", 0, 0)
  SetCamera(30.1, 0.117, 0.883, 0, 23, "LINEAR", 0, false, 0, false)
  SetCameraTarget(27.468, -1.667, 1.325, "LINEAR", 0, false, 0, false)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  local slot_11 = Event_PlaySE(211010, 100, true, 0, 0)
  WaitFrame(90)
  SetCamera(28.487, 0.165, 0.901, 0, 23, "SCURVE", 100, false, 0, false)
  SetCameraTarget(26.917, 0.2, 1.135, "SCURVE", 100, false, 0, false)
  SetCamera(28.483, 0.11, 0.879, 0, 23, "SCURVE", 150, false, 100, false)
  SetCameraTarget(26.917, 0.24, 1.135, "SCURVE", 150, false, 100, false)
  Fade_In(FADE_BLACK, 45)
  WaitFrame(15)
  WaitFrame(75)
  WaitFrame(70)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetPosition("HERO_01", 20.604, -1.781, 1.13, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -74, 0, "LINEAR", 0, 0)
  SetPosition("chr805_01", 2.619, 3.346, 10.976, "LINEAR", 0, 0)
  SetRotation("chr805_01", 0, 23.5, 0, "LINEAR", 0, 0)
  MovePosition("chr805_01", 7.062, 8.604, 17.193, false, 1.5, 0)
  MoveRotation("chr805_01", 0, 23.5, 0, "LINEAR", 1.5, true, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -84, 0, 0, true, "SCURVE", 0, 0)
  BlendFaceDigi("chr805_01", 0, 0, 0, "SCURVE", 0, 0)
  SetFace("HERO_01", "E15_M16", 1, 1, FACE_BLENDTIME, 0)
  SetCamera(-7.247, 40.598, -22.373, 0, 33, "LINEAR", 0, false, 0, false)
  SetCameraTarget(17.48, -1.004, 7.808, "LINEAR", 0, false, 0, false)
  SetCamera(-11.46, 42.945, -18.438, 0, 33, "LINEAR", 240, false, 0, false)
  SetCameraTarget(17.654, -0.786, 7.977, "LINEAR", 240, false, 0, false)
  WaitFrame(5)
  WaitFrame(30)
  WaitFrame(65)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetPosition("HERO_01", 17.012, -2.276, 1.13, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -74, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -69, 0, 0, true, "SCURVE", 0, 0)
  SetCamera(15.867, -0.74, 0.907, 0, 18, "LINEAR", 0, false, 0)
  SetCameraTarget(18.053, -0.713, 1.236, "LINEAR", 0, false, 0)
  SetFace("HERO_01", "E15_M16", 2, 1, FACE_BLENDTIME, 20)
  SetFace("HERO_01", "E15_M16", 1, 1, FACE_BLENDTIME, 22)
  WaitFrame(35)
  SetPosition("chr805_01", 7.062, 8.604, 17.193, "LINEAR", 0, 0)
  SetRotation("chr805_01", 0, 23.5, 0, "LINEAR", 0, 0)
  MovePosition("chr805_01", 26.62, 13.188, 20.25, false, 1.5, 0)
  MoveRotation("chr805_01", 0, 23.5, 0, "LINEAR", 1.5, true, 0)
  WaitFrame(10)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetPosition("HERO_01", 26.181, -1.327, 1.13, "LINEAR", 0, 0)
  SetCamera(30.226, -1.291, -5.187, 0, 33, "LINEAR", 0, false, 0, false)
  SetCameraTarget(25.261, 0.486, 0.685, "LINEAR", 0, false, 0, false)
  SetCamera(29.488, -0.208, -6.094, 0, 33, "LINEAR", 240, false, 0, false)
  SetCameraTarget(25.279, 2.333, 0.081, "LINEAR", 240, false, 0, false)
  WaitFrame(25)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 15, 0)
  SetRotation("HERO_01", 0, -107.5, 0, "LINEAR", 15, 0)
  MovePosition("HERO_01", 12.181, -2.827, -5.37, true, 6, 0)
  MoveRotation("HERO_01", 0, -107.5, 0, "LINEAR", 6, true, 0)
  WaitFrame(25)
  WaitFrame(25)
  Fade_OutNoLoadingWithWait(FADE_BLACK, 45)
  if Debug.IsEventView() then
    Event_StopBGM(0, 0)
    Event_StopAllSE(0, 0)
  end
  Vista.SetKeepBGM()
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m390_057()
end
