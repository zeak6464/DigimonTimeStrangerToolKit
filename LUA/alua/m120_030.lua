require("include")

function m120_030()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  EventRankSet("A")
  Talk.Load("m120")
  Vista.LoadVoices()
  Vista.LoadCRILipSyncs()
  SetEventCutNo(9)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2020_dbef_120")
    LoadMap("d0201")
    LoadModel("ZUDOMON_01", "char_ZUDOMON")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_INORI")
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  LoadObject("d0201manhole00", "d0201manhole00")
  LoadObject("ATCdigivice00_01", "ATCdigivice00")
  Vista.LoadAnimation("HERO_01", "m120_030_c07")
  Vista.LoadAnimation("HERO_01", "m120_030_c08")
  Vista.LoadAnimation("HERO_01", "m120_030_c09")
  Vista.LoadAnimation("HEROINE_01", "m120_030_c07")
  Vista.LoadAnimation("HEROINE_01", "m120_030_c08")
  Vista.LoadAnimation("HEROINE_01", "m120_030_c09")
  Vista.LoadAnimation("AEGIOMON_01", "m120_030_c01")
  Vista.LoadAnimation("AEGIOMON_01", "m120_030_c07")
  Vista.LoadAnimation("AEGIOMON_01", "m120_030_c09")
  Vista.LoadAnimation("d0201manhole00", "m120_030_c01")
  Vista.LoadAnimation("d0201manhole00", "m120_030_c07")
  Vista.LoadAnimation("d0201manhole00", "m120_030_c09")
  Vista.LoadAnimation("ATCdigivice00_01", "fan03")
  Vista.LoadAnimationFaceBlend("HERO_01", "m120_030_c07")
  Vista.LoadAnimationFaceBlend("HERO_01", "m120_030_c08")
  Vista.LoadAnimationFaceBlend("HERO_01", "m120_030_c09")
  Vista.LoadAnimationFaceBlend("HEROINE_01", "m120_030_c07")
  Vista.LoadAnimationFaceBlend("HEROINE_01", "m120_030_c08")
  Vista.LoadAnimationFaceBlend("HEROINE_01", "m120_030_c09")
  Vista.LoadAnimationFaceBlend("AEGIOMON_01", "m120_030_c01")
  Vista.LoadAnimationFaceBlend("AEGIOMON_01", "m120_030_c07")
  Vista.LoadAnimationFaceBlend("AEGIOMON_01", "m120_030_c09")
  Vista.LoadCRILipSyncsAnimationByEmotion("HEROINE_01", "m16")
  Vista.LoadCRILipSyncsAnimationByEmotion("AEGIOMON_01", "m08")
  LoadCamera("Camera01", "Cam_m120_030_c01")
  LoadCamera("Camera02", "Cam_m120_030_c02")
  LoadCamera("Camera03", "Cam_m120_030_c03")
  LoadCamera("Camera04", "Cam_m120_030_c04")
  LoadCamera("Camera05", "Cam_m120_030_c05")
  LoadCamera("Camera06", "Cam_m120_030_c06")
  LoadCamera("Camera07", "Cam_m120_030_c07")
  LoadCamera("Camera08", "Cam_m120_030_c08")
  LoadCamera("Camera09", "Cam_m120_030_c09")
  LoadEffectScript("eff_01", "ef_e_m120_030_01")
  LoadEffectScript("eff_02", "ef_e_m120_030_02")
  LoadEffectScript("eff_03", "ef_e_m120_030_03")
  LoadEffectScript("eff_04", "ef_e_m120_030_04")
  LoadEffectScript("eff_05", "ef_e_m120_030_05")
  LoadEffectScript("eff_06", "ef_e_m120_030_06")
  LoadEffectScript("eff_07", "ef_e_m120_030_07")
  LoadEffectScript("eff_08", "ef_e_m120_030_08")
  LoadEffectScript("eff_09", "ef_e_m120_030_09")
  LoadSceneViewerResource("c1.0", "d0201f_sa")
  LoadSceneViewerResource("c2.0", "d0201f_sa")
  LoadSceneViewerResource("c3.0", "d0201f_sa")
  LoadSceneViewerResource("c4.0", "d0201f_sa")
  LoadSceneViewerResource("c5.0", "d0201f_sa")
  LoadSceneViewerResource("c6.0", "d0201f_sa")
  LoadSceneViewerResource("c7.0", "d0201f_sa")
  LoadSceneViewerResource("c8.0", "d0201f_sa")
  LoadSceneViewerResource("c9.0", "d0201f_sa")
  LoadEnvironmentFile("c1.0", "es_m120_030_c01")
  LoadEnvironmentFile("c2.0", "es_m120_030_c02")
  LoadEnvironmentFile("c3.0", "es_m120_030_c03")
  LoadEnvironmentFile("c4.0", "es_m120_030_c04")
  LoadEnvironmentFile("c5.0", "es_m120_030_c05")
  LoadEnvironmentFile("c6.0", "es_m120_030_c06")
  LoadEnvironmentFile("c7.0", "es_m120_030_c07")
  LoadEnvironmentFile("c8.0", "es_m120_030_c08")
  LoadEnvironmentFile("c9.0", "es_m120_030_c09")
  Vista.DigimonModelScaleDisable()
  Vista.LoadCRILipSyncsAnimationByEmotion("HEROINE_01", "m01")
  Vista.LoadCRILipSyncsAnimationByEmotion("AEGIOMON_01", "m01")
  Vista.SetStreamBasePosition(-20.665, 13.492, 45.64)
  Vista.SetStreamBasePosition(2.011, 6.935, -26.913)
  WaitVistaLoad()
  if Debug.IsEventView() then
    SetPosition("ZUDOMON_01", 9.734, 2.16, 30.069, "LINEAR", 0, 0)
    SetRotation("ZUDOMON_01", 0, -57, 0, "LINEAR", 0, 0)
    SetScale("ZUDOMON_01", 1.8, 1.8, 1.8)
    PlayMotion("ZUDOMON_01", "f000", 0, true, 0)
  end
  PlayMotion("ATCdigivice00_01", "fan03", 0, true, 0)
  AttachObject("HERO_01", "ATCdigivice00_01", "10")
  Event_StopBGM(BGM_FADE_TIME)
  local slot_01 = Event_PlaySE(410013, 100, false, 0, 0)
  ClearMobTransparentRange()
  Field_InvisiblePlayer(INVISIBLE_KEY_EVENT, 0, false)
  Field_InvisibleFollowerAllGuest(INVISIBLE_KEY_EVENT, 0, false)
  Field_InvisibleFollowerAllPartyMember(INVISIBLE_KEY_EVENT, 0, false)
  Field_InvisibleAllSymbolEnemy(INVISIBLE_KEY_EVENT, 0, false)
  Field_InvisibleGimmick("obj_0020", 10, 0, false)
  Field_InvisibleGimmick(FOR_ALL, INVISIBLE_KEY_EVENT, 0, false)
  EVENT_START()
  Vista.SetSkip(false, true)
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  PlayCamera("Camera01")
  CtrVibration(0.3, 0, 40, 10)
  CtrVibration(0, 0, 0, 50)
  Fade_In(0, 30)
  Vista.PlayEffect("eff_01", false, 0)
  PlayMotion("AEGIOMON_01", "m120_030_c01", 0, false, 0)
  PlayMotion("d0201manhole00", "m120_030_c01", 0, false, 0)
  Vista.PlayModelAnimationFaceBlend("AEGIOMON_01", "m120_030_c01", 0, false, 0)
  Vista.SetEnableLipSyncsAnimation("AEGIOMON_01", false)
  WaitFrame(25)
  Event_PlayVoice("m120_030_001", 0)
  WaitFrame(87)
  Event_PlayVoice("m120_030_005", -1, true)
  CAM_WAIT(0)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  Vista.PlayEffect("eff_02", false, 0)
  PlayCamera("Camera02")
  Event_PlayBGM(101, 0, 0)
  CAM_WAIT(0)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  Vista.PlayEffect("eff_03", false, 0)
  PlayCamera("Camera03")
  CAM_WAIT(0)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  Vista.PlayEffect("eff_04", false, 0)
  PlayCamera("Camera04")
  WaitFrame(10)
  Vista.SetMessageTalkAuto("m120_030_010", -1, true, 0)
  CAM_WAIT(0)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  Vista.PlayEffect("eff_05", false, 0)
  PlayCamera("Camera05")
  WaitFrame(10)
  Vista.SetMessageTalkAuto("m120_030_020", -1, true, 0)
  CAM_WAIT(0)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  Vista.PlayEffect("eff_06", false, 0)
  PlayCamera("Camera06")
  WaitFrame(20)
  Vista.SetMessageTalkAuto("m120_030_030", -1, true, 0)
  CAM_WAIT(0)
  CUT("7.0")
  SetEnv_All("c7.0", 0)
  Vista.PlayEffect("eff_07", false, 0)
  PlayCamera("Camera07")
  PlayMotion("AEGIOMON_01", "m120_030_c07", 0, false, 0)
  PlayMotion("HERO_01", "m120_030_c07", 0, false, 0)
  PlayMotion("HEROINE_01", "m120_030_c07", 0, false, 0)
  PlayMotion("d0201manhole00", "m120_030_c07", 0, false, 0)
  PlayMotion("ATCdigivice00_01", "fan03", 0, true, 0)
  Vista.PlayModelAnimationFaceBlend("AEGIOMON_01", "m120_030_c07", 0, false, 0)
  Vista.PlayModelAnimationFaceBlend("HERO_01", "m120_030_c07", 0, false, 0)
  Vista.PlayModelAnimationFaceBlend("HEROINE_01", "m120_030_c07", 0, false, 0)
  Vista.SetLipSyncsAnimationByEmotion("HEROINE_01", "m16")
  WaitFrame(20)
  Vista.SetMessageTalkAuto("m120_030_040", -1, true, 0)
  CAM_WAIT(0)
  CUT("8.0")
  SetEnv_All("c8.0", 0)
  Vista.PlayEffect("eff_08", false, 0)
  PlayCamera("Camera08")
  PlayMotion("HERO_01", "m120_030_c08", 0, false, 0)
  PlayMotion("HEROINE_01", "m120_030_c08", 0, false, 0)
  Vista.PlayModelAnimationFaceBlend("HERO_01", "m120_030_c08", 0, false, 0)
  Vista.PlayModelAnimationFaceBlend("HEROINE_01", "m120_030_c08", 0, false, 0)
  WaitFrame(15)
  MessageTalkAuto("m120_030_050", -1, true)
  MESSAGE_WAIT2()
  CAM_WAIT(0)
  CUT("9.0")
  SetEnv_All("c9.0", 0)
  Vista.PlayEffect("eff_09", false, 0)
  PlayCamera("Camera09")
  ModelVisible("HERO_01", true, 0, 0)
  ModelVisible("ATCdigivice00_01", false, 0, 0)
  PlayMotion("AEGIOMON_01", "m120_030_c09", 0, false, 0)
  PlayMotion("HERO_01", "m120_030_c09", 0, false, 0)
  PlayMotion("HEROINE_01", "m120_030_c09", 0, false, 0)
  PlayMotion("d0201manhole00", "m120_030_c09", 0, false, 0)
  Vista.PlayModelAnimationFaceBlend("AEGIOMON_01", "m120_030_c09", 0, false, 0)
  Vista.PlayModelAnimationFaceBlend("HERO_01", "m120_030_c09", 0, false, 0)
  Vista.PlayModelAnimationFaceBlend("HEROINE_01", "m120_030_c09", 0, false, 0)
  Vista.SetEnableLipSyncsAnimation("AEGIOMON_01", true)
  Vista.SetLipSyncsAnimationByEmotion("AEGIOMON_01", "m08")
  WaitFrame(29)
  MessageTalkAuto("m120_030_060", -1, true)
  MESSAGE_WAIT2()
  WaitFrame(210)
  Story.OpenTitleLogo(14)
  WaitFrame(180)
  Event_SetBGMVolume(5, 5, 1)
  WaitFrame(140)
  Fade_OutNoLoadingWithWait(FADE_BLACK, 80)
  WaitFrame(60)
  Vista.ResetModelAnimationFaceBlend("AEGIOMON_01", "ev016_09", 0)
  Vista.ResetModelAnimationFaceBlend("HERO_01", "ev016_09", 0)
  Vista.ResetModelAnimationFaceBlend("HEROINE_01", "ev016_09", 0)
  Field_CancelInvisibleGimmick("obj_0020", 10, 0, true, false)
  Flg.Clear("FLAG_IS_NOT_MAP_NAME_DISP")
  if Debug.IsEventView() then
    Event_StopBGM(1, 0)
    Event_StopAllSE(0, 0)
  end
  Vista.SetKeepBGM()
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m120_030()
end
