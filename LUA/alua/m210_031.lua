require("include")

function m210_031()
  Fade_Out(1, 0)
  EVENT_BEGIN()
  Talk.Load("m210")
  SetEventCutNo(2)
  if Debug.IsEventView() then
    SetTimeZone("Evening")
    SetTimeAxis("A2020_dbef_210")
    LoadMap("t0381b")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("chr184aa010101_01", "char_AEGIOCHUSMON")
  LoadModel("chr915_01", "char_SKULLBALUCHIMON_TITAMON_BIG")
  LoadSceneViewerResource("c1.0", "t0381b_pe")
  LoadSceneViewerResource("c2.0", "t0381b_pe")
  LoadEnvironmentFile("c1.0", "es_m210_031_c1.0")
  LoadEnvironmentFile("c2.0", "es_m210_031_c2.0")
  WaitVistaLoad()
  SetPosition("HERO_01", -1.193, 0, 10.69, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 180, 0, "LINEAR", 0, 0)
  SetScale("HERO_01", 1, 1, 1)
  SetPosition("chr184aa010101_01", 0.066, 0, 8.799, "LINEAR", 0, 0)
  SetRotation("chr184aa010101_01", 0, 180, 0, "LINEAR", 0, 0)
  SetScale("chr184aa010101_01", 1, 1, 1)
  SetPosition("HEROINE_01", 1.572, 0, 10.564, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 180, 0, "LINEAR", 0, 0)
  SetScale("HEROINE_01", 1, 1, 1)
  SetPosition("chr915_01", 0, 0, -8.704, "LINEAR", 0, 0)
  SetRotation("chr915_01", 0, 0, 0, "LINEAR", 0, 0)
  SetScale("chr915_01", 4.95, 4.95, 4.95)
  PlayMotion("HERO_01", "bn01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr184aa010101_01", "bn01", 0, true, 0)
  SetFace("chr184aa010101_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "bn01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr915_01", "ba02", 5, false, 0)
  PlayMotion("chr915_01", "bn01", 3, true, 70)
  SetFace("chr915_01", "F03", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("chr184aa010101_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("chr184aa010101_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendFaceDigi("chr915_01", 0, 0, 0, "SCURVE", 0, 0)
  SetCamera(1.1, 11.349, -0.541, -10, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.124, 10.326, -7.449, "LINEAR", 0, false, 0)
  SetCamera(2.569, 12.888, 9.852, -10, 30, "LINEAR", 20, true, 0)
  SetCameraTarget(0.124, 10.326, -7.449, "LINEAR", 20, true, 0)
  ModelVisible("HERO_01", false, 0, 0)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  local slot_id = Event_PlaySE(403047, 100, false, 0, 0)
  Fade_In(FADE_WHITE, FADE_TIME)
  WaitFrame(FADE_TIME)
  WaitFrame(20)
  Event_Quake_Start(10, 0, 20, 0)
  WaitFrame(30)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(1.015, 0.654, 8.013, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.159, 1.139, 8.581, "LINEAR", 0, false, 0)
  MessageTalk("m210_031_010")
  MessageClose()
  SetFace("chr184aa010101_01", "E03_M01", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("chr184aa010101_01", -37, 0, "SCURVE", 30, 0)
  BlendFace("chr184aa010101_01", 31, 0, 0, false, "SCURVE", 30, 0)
  WaitFrame(10)
  MessageTalk("m210_031_020")
  MessageClose()
  WaitFrame(10)
  Fade_OutNoLoadingWithWait(FADE_WHITE, 10)
  if Debug.IsEventView() then
    Event_StopBGM(0, 0)
  end
  Vista.SetKeepBGM()
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m210_031()
end
