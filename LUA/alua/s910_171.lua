S910_171 = {
  ID = 171,
  STEP_001 = 1,
  STEP_005 = 5,
  STEP_010 = 10,
  STEP_015 = 15,
  STEP_020 = 20,
  STEP_255 = 255,
  Flag001 = "FLAG_SUB_910_171_001",
  Flag002 = "FLAG_SUB_910_171_002",
  Flag003 = "FLAG_SUB_910_171_003",
  Flag004 = "FLAG_SUB_910_171_004",
  Flag005 = "FLAG_SUB_910_171_005",
  Flag006 = "FLAG_SUB_910_171_006"
}
local text_file = "s910_171"
local base = text_file .. "_"
local tlk = Tlk:new(text_file, 1, true)

function S910_171:Event_010()
  if Qst.Sub:Check(self.ID, self.STEP_001, self.STEP_005) then
    Flg.Set(self.Flag001)
    local h_e002 = Motion.Object:new(NPC, "hiroko_sub", "e002")
    local h_e004 = Motion.Object:new(NPC, "hiroko_sub", "e004")
    local h_e008 = Motion.Object:new(NPC, "hiroko_sub", "e008")
    local h_e012 = Motion.Object:new(NPC, "hiroko_sub", "e012")
    local h_fn01_01 = Motion.Object:new(NPC, "hiroko_sub", "fn01_01")
    local p_e002 = Motion.Object:new(PLAYER, "", "e002")
    local p_fn01_01 = Motion.Object:new(PLAYER, "", "fn01_01")
    local hiroko_index = GetIndex(NPC, "hiroko_sub")
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    Obj:new(PLAYER, ""):SetPos(-1.152, 0, 0.9773)
    Obj:new(PLAYER, ""):SetRotationY(15, 0)
    Cam.Inst:Set(-0.19, -0.6, -7.49, -0.95, 1.66, 2.224, default, 0)
    WaitFrame(10)
    HideMinimap(true)
    HideGuide(true)
    tlk:StartTalkAndCancelDigimonRide()
    FadeInWithWaitNotFlgCheck(FADE_BLACK, FADE_TIME)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    h_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "010")
    h_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "020")
    tlk:Message(base .. "030")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    local result = tlk:Select(3, base .. "040")
    WaitFrame(15)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    if result == RESULT_TALK00 then
      h_e002:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "050")
    elseif result == RESULT_TALK01 then
      h_e002:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "060")
    else
      h_e002:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "070")
    end
    h_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "080")
    tlk:Message(base .. "090")
    h_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "100")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    tlk:EndTalk(true)
    Qst.Sub:Start(self.ID, 1, false)
    END_TALK_ACTION_AND_ZOOM("hiroko_sub", true, true)
    HideMinimap(false)
    HideGuide(false)
    Field_CancelInvisibleFollowerAllGuest(0, 15, false, false)
    Field_CancelInvisibleFollowerAllPartyMember(0, 15, false, false)
    Cam.Inst:Clear(30)
    Qst.Sub:Set(self.ID, self.STEP_005)
  end
end

function S910_171:Event_015()
  if Qst.Sub:Check(self.ID, self.STEP_005, self.STEP_255) then
    local h_e002 = Motion.Object:new(NPC, "hiroko_sub", "e002")
    local h_e004 = Motion.Object:new(NPC, "hiroko_sub", "e004")
    local h_e008 = Motion.Object:new(NPC, "hiroko_sub", "e008")
    local h_e012 = Motion.Object:new(NPC, "hiroko_sub", "e012")
    local h_fn01_01 = Motion.Object:new(NPC, "hiroko_sub", "fn01_01")
    local hiroko_index = GetIndex(NPC, "hiroko_sub")
    tlk:StartTalkActionAndZoom("hiroko_sub")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    h_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "120")
    h_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "110")
    h_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "130")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    h_fn01_01:PlayWithStartMoveMotion(10, 10)
    tlk:EndTalkActionAndZoom()
  end
end

function S910_171:Event_020()
  if Qst.Sub:Check(self.ID, self.STEP_005, self.STEP_010) then
    local h_e002 = Motion.Object:new(NPC, "s910_171_001", "e002")
    local h_e004 = Motion.Object:new(NPC, "s910_171_001", "e004")
    local h_e005 = Motion.Object:new(NPC, "s910_171_001", "e005")
    local h_e007 = Motion.Object:new(NPC, "s910_171_001", "e007")
    local h_e008 = Motion.Object:new(NPC, "s910_171_001", "e008")
    local h_e012 = Motion.Object:new(NPC, "s910_171_001", "e012")
    local h_fn01_01 = Motion.Object:new(NPC, "s910_171_001", "fn01_01")
    local k_e002 = Motion.Object:new(NPC, "s910_171_002", "e002")
    local k_e004 = Motion.Object:new(NPC, "s910_171_002", "e004")
    local k_e008 = Motion.Object:new(NPC, "s910_171_002", "e008")
    local k_e012 = Motion.Object:new(NPC, "s910_171_002", "e012")
    local k_fn01_01 = Motion.Object:new(NPC, "s910_171_002", "fn01_01")
    local p_e002 = Motion.Object:new(PLAYER, "", "e002")
    local p_e004 = Motion.Object:new(PLAYER, "", "e002")
    local p_fn01_01 = Motion.Object:new(PLAYER, "", "fn01_01")
    local hiroko_index = GetIndex(NPC, "s910_171_001")
    local kin_index = GetIndex(NPC, "s910_171_002")
    Field.ObjectLoadExpression(NPC, hiroko_index, "F07")
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    HideMinimap(true)
    HideGuide(true)
    tlk:StartTalkAndCancelDigimonRide()
    Cam.Inst:Set(3.4, -0.4, 4.16, 2.68, 1.61, 13.93, default, 0)
    Obj:new(PLAYER, ""):SetPos(2.41, 0, 12.8, true)
    Obj:new(PLAYER, ""):SetRotationY(30, 0)
    Obj:new(NPC, "s910_171_002"):SetRotationY(210, 0)
    WaitFrame(15)
    FadeInWithWaitNotFlgCheck(FADE_BLACK, FADE_TIME)
    k_e002:PlayWithStartMoveMotion(10, 10)
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    tlk:Message(base .. "160")
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    local result = tlk:Select(2, base .. "161")
    WaitFrame(15)
    if result == RESULT_TALK00 then
      Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
      Flg.Set("FLAG_SUB_910_171_007")
      FieldObjectSync(NPC, false)
      WaitFrame(15)
      Obj:new(NPC, "s910_171_001"):SetRotationY(170, 0)
      Obj:new(PLAYER, ""):SetRotationY(0, 0)
      Cam.Inst:Set(3.515, 0, 4.417, 2.253, 1.5989, 14.208, default, 0)
      WaitFrame(15)
      FadeInWithWaitNotFlgCheck(FADE_BLACK, FADE_TIME)
      Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
      h_e002:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "140")
    elseif result == RESULT_TALK01 then
      tlk:EndTalk()
      Cam.Inst:Clear(30)
      goto lbl_1200
    end
    h_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "150")
    Field.ObjectLookAtTheObject(NPC, hiroko_index, NPC, kin_index, 30)
    h_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "170")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    k_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "180")
    k_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "190")
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectResetAim(NPC, hiroko_index, 30)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    h_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "200")
    h_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "210")
    h_e005:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "220")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    local result = tlk:Select(3, base .. "230")
    WaitFrame(15)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    if result == RESULT_TALK00 then
      h_e012:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "240")
    elseif result == RESULT_TALK01 then
      h_e012:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "250")
    else
      Field.ObjectChangeExpression(NPC, hiroko_index, "F07", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
      h_e007:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "260")
      Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    end
    h_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "270")
    h_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "280")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    k_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "290")
    k_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "300")
    k_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "310")
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    result = tlk:Select(3, base .. "320")
    WaitFrame(15)
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    if result == RESULT_TALK00 then
      k_e002:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "330")
    elseif result == RESULT_TALK01 then
      k_e002:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "340")
    else
      k_e008:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "350")
    end
    k_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "360")
    k_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "370")
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    h_e008:PlayWithStartMoveMotion(10, 10)
    Field.ObjectLookAtTheObject(NPC, hiroko_index, NPC, kin_index, 30)
    tlk:Message(base .. "380")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    k_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "390")
    k_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "400")
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    h_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "410")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    k_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "420")
    k_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "430")
    k_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "440")
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    h_e008:PlayWithStartMoveMotion(10, 10)
    Field.ObjectResetAim(NPC, hiroko_index, 30)
    tlk:Message(base .. "450")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    k_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "460")
    k_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "470")
    k_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "480")
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    h_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "490")
    h_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "500")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    result = tlk:Select(3, base .. "510")
    WaitFrame(15)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    if result == RESULT_TALK00 then
      h_e008:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "520")
    elseif result == RESULT_TALK01 then
      h_e008:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "530")
    else
      h_e008:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "540")
    end
    h_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "550")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    k_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "560")
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    h_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "570")
    h_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "580")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Flg.Set(self.Flag002)
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    Qst.Sub:Set(self.ID, self.STEP_010)
    tlk:EndTalk()
    FieldObjectSync(NPC, false)
    WaitFrame(30)
    MapChange("t", 104, "start_00", false, FADE_BLACK, FADE_TIME)
  end
  ::lbl_1200::
end

function S910_171:Event_030()
  if Qst.Sub:Check(self.ID, self.STEP_010, self.STEP_015) then
    local h_e002 = Motion.Object:new(NPC, "s910_171_002", "e002")
    local h_e004 = Motion.Object:new(NPC, "s910_171_002", "e004")
    local h_e008 = Motion.Object:new(NPC, "s910_171_002", "e008")
    local h_e012 = Motion.Object:new(NPC, "s910_171_002", "e012")
    local h_e020 = Motion.Object:new(NPC, "s910_171_002", "e020")
    local h_e500 = Motion.Object:new(NPC, "s910_171_002", "e500")
    local h_fn01_01 = Motion.Object:new(NPC, "s910_171_002", "fn01_01")
    local k_e002 = Motion.Object:new(NPC, "s910_171_003", "e002")
    local k_e004 = Motion.Object:new(NPC, "s910_171_003", "e004")
    local k_e008 = Motion.Object:new(NPC, "s910_171_003", "e008")
    local k_e012 = Motion.Object:new(NPC, "s910_171_003", "e012")
    local k_fn01_01 = Motion.Object:new(NPC, "s910_171_003", "fn01_01")
    local a_e002 = Motion.Object:new(NPC, "s910_171_001", "e002")
    local a_e004 = Motion.Object:new(NPC, "s910_171_001", "e004")
    local a_e008 = Motion.Object:new(NPC, "s910_171_001", "e008")
    local a_e012 = Motion.Object:new(NPC, "s910_171_001", "e012")
    local a_fn01_01 = Motion.Object:new(NPC, "s910_171_001", "fn01_01")
    local p_e002 = Motion.Object:new(PLAYER, "", "e002")
    local p_e004 = Motion.Object:new(PLAYER, "", "e002")
    local p_fn01_01 = Motion.Object:new(PLAYER, "", "fn01_01")
    local pc = Obj:new(PLAYER, "")
    local hiroko_index = GetIndex(NPC, "s910_171_002")
    local kin_index = GetIndex(NPC, "s910_171_003")
    local asuna_index = GetIndex(NPC, "s910_171_001")
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    HideMinimap(true)
    Field.SetMobTransparentFrontOfCamera(0, 10, 10, 10)
    HideGuide(true)
    Flg.Set(self.Flag003)
    tlk:StartTalkAndCancelDigimonRide()
    Cam.Inst:Set(23.248, 0.2, -4.94, 16.175, 1.537, 2, default, 0)
    Obj:new(PLAYER, ""):SetPos(16.76, 0, 0.8, true)
    WaitFrame(5)
    Obj:new(PLAYER, ""):SetRotationY(60, 0)
    Obj:new(NPC, "s910_171_001"):SetRotationY(200, 0)
    Field.ObjectLookAtTheObject(NPC, asuna_index, NPC, hiroko_index, 30)
    WaitFrame(15)
    FadeInWithWaitNotFlgCheck(FADE_BLACK, FADE_TIME)
    Field.ObjectChangeExpression(NPC, asuna_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    a_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "590")
    Field.ObjectChangeExpression(NPC, asuna_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    h_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "600")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, asuna_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    a_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "610")
    a_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "620")
    Field.ObjectChangeExpression(NPC, asuna_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    h_e020:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "630")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, asuna_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    a_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "640")
    a_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "650")
    Field.ObjectChangeExpression(NPC, asuna_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    h_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "660")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    k_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "670")
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectLookAtTheObject(NPC, asuna_index, NPC, kin_index, 30)
    a_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "680")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    h_e500:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "690")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    tlk:EndTalk()
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    Field.ClearMobTransparentArea(1)
    Cam.Inst:Clear(0)
    Qst.Sub:Set(self.ID, self.STEP_015)
    FieldObjectSync(NPC, true)
    Field.ClearMobTransparentFrontOfCamera(0)
    MapChange("t", 109, "start_01", false, FADE_BLACK, FADE_TIME)
  end
end

function S910_171:Event_040()
  if Qst.Sub:Check(self.ID, self.STEP_015, self.STEP_020) and not Flg.Check(self.Flag004) then
    local h_e002 = Motion.Object:new(NPC, "s910_171_002", "e002")
    local h_e004 = Motion.Object:new(NPC, "s910_171_002", "e004")
    local h_e005 = Motion.Object:new(NPC, "s910_171_002", "e005")
    local h_e006 = Motion.Object:new(NPC, "s910_171_002", "e006")
    local h_e008 = Motion.Object:new(NPC, "s910_171_002", "e008")
    local h_e012 = Motion.Object:new(NPC, "s910_171_002", "e012")
    local h_e020 = Motion.Object:new(NPC, "s910_171_002", "e020")
    local h_e500 = Motion.Object:new(NPC, "s910_171_002", "e500")
    local h_fn01_01 = Motion.Object:new(NPC, "s910_171_002", "fn01_01")
    local k_e002 = Motion.Object:new(NPC, "s910_171_003", "e002")
    local k_e004 = Motion.Object:new(NPC, "s910_171_003", "e004")
    local k_e008 = Motion.Object:new(NPC, "s910_171_003", "e008")
    local k_e012 = Motion.Object:new(NPC, "s910_171_003", "e012")
    local k_fn01_01 = Motion.Object:new(NPC, "s910_171_003", "fn01_01")
    local s_e002 = Motion.Object:new(NPC, "s910_171_001", "e002")
    local s_e004 = Motion.Object:new(NPC, "s910_171_001", "e004")
    local s_e008 = Motion.Object:new(NPC, "s910_171_001", "e008")
    local s_e012 = Motion.Object:new(NPC, "s910_171_001", "e012")
    local s_fn01_01 = Motion.Object:new(NPC, "s910_171_001", "fn01_01")
    local p_e002 = Motion.Object:new(PLAYER, "", "e002")
    local p_e004 = Motion.Object:new(PLAYER, "", "e002")
    local p_fn01_01 = Motion.Object:new(PLAYER, "", "fn01_01")
    local pc = Obj:new(PLAYER, "")
    local hiroko_index = GetIndex(NPC, "s910_171_002")
    local kin_index = GetIndex(NPC, "s910_171_003")
    local simons_index = GetIndex(NPC, "s910_171_001")
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    HideMinimap(true)
    HideGuide(true)
    Cam.Inst:Set(21.36, 0.079, -18.68, 18.534, 1.8835, -9.261, default, 0)
    tlk:StartTalkAndCancelDigimonRide()
    Obj:new(PLAYER, ""):SetPos(19.91, 0, -11.72, true)
    Obj:new(PLAYER, ""):SetRotationY(10, 0)
    WaitFrame(15)
    FadeInWithWaitNotFlgCheck(FADE_BLACK, FADE_TIME)
    ObjectTurnToObject(NPC, "s910_171_001", PLAYER, "")
    WaitFrame(15)
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    s_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "700")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    h_e005:PlayWithStartMoveMotion(10, 10)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    tlk:Message(base .. "710")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    s_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "720")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    h_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "730")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    s_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "740")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    h_e002:PlayWithStartMoveMotion(10, 10)
    Field.ObjectLookAtTheObject(NPC, hiroko_index, PLAYER, 1, 30)
    tlk:Message(base .. "750")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, FACE_BLENDTIME, AUTO_CANCEL_NONE, MOUTH_BLENDTIME)
    tlk:EndTalk()
    EncountFromField_PlaySound(29001710, 172, false)
  end
end

function S910_171:Event_050()
  if Qst.Sub:Check(self.ID, self.STEP_015, self.STEP_020) and Flg.Check(self.Flag004) then
    local h_e002 = Motion.Object:new(NPC, "s910_171_006", "e002")
    local h_e004 = Motion.Object:new(NPC, "s910_171_006", "e004")
    local h_e005 = Motion.Object:new(NPC, "s910_171_006", "e005")
    local h_e006 = Motion.Object:new(NPC, "s910_171_006", "e006")
    local h_e008 = Motion.Object:new(NPC, "s910_171_006", "e008")
    local h_e012 = Motion.Object:new(NPC, "s910_171_006", "e012")
    local h_e020 = Motion.Object:new(NPC, "s910_171_006", "e020")
    local h_e500 = Motion.Object:new(NPC, "s910_171_006", "e500")
    local h_fn01_01 = Motion.Object:new(NPC, "s910_171_006", "fn01_01")
    local k_e002 = Motion.Object:new(NPC, "s910_171_003", "e002")
    local k_e004 = Motion.Object:new(NPC, "s910_171_003", "e004")
    local k_e008 = Motion.Object:new(NPC, "s910_171_003", "e008")
    local k_e012 = Motion.Object:new(NPC, "s910_171_003", "e012")
    local k_e014 = Motion.Object:new(NPC, "s910_171_003", "e014")
    local k_e018 = Motion.Object:new(NPC, "s910_171_003", "e018")
    local k_fn01_01 = Motion.Object:new(NPC, "s910_171_003", "fn01_01")
    local s_e002 = Motion.Object:new(NPC, "s910_171_001", "e002")
    local s_e004 = Motion.Object:new(NPC, "s910_171_001", "e004")
    local s_e005 = Motion.Object:new(NPC, "s910_171_001", "e005")
    local s_e008 = Motion.Object:new(NPC, "s910_171_001", "e008")
    local s_e012 = Motion.Object:new(NPC, "s910_171_001", "e012")
    local s_e020 = Motion.Object:new(NPC, "s910_171_001", "e020")
    local s_e021 = Motion.Object:new(NPC, "s910_171_001", "e021")
    local s_e032 = Motion.Object:new(NPC, "s910_171_001", "e032")
    local s_e033 = Motion.Object:new(NPC, "s910_171_001", "e033")
    local s_e510 = Motion.Object:new(NPC, "s910_171_001", "e510")
    local s_fn01_01 = Motion.Object:new(NPC, "s910_171_001", "fn01_01")
    local p_e002 = Motion.Object:new(PLAYER, "", "e002")
    local p_e004 = Motion.Object:new(PLAYER, "", "e002")
    local p_fn01_01 = Motion.Object:new(PLAYER, "", "fn01_01")
    local hiroko_index = GetIndex(NPC, "s910_171_006")
    local kin_index = GetIndex(NPC, "s910_171_003")
    local simons_index = GetIndex(NPC, "s910_171_001")
    SetFollowerCameraOperateRotation(0, 10)
    Obj:new(PLAYER, ""):SetPos(21.52, 0, -17.68)
    Obj:new(PLAYER, ""):SetRotationY(10, 0)
    Field.ObjectResetAim(NPC, hiroko_index, 0)
    FieldObjectSync(FOR_ALL, true)
    WaitFrame(30)
    Field.ObjectResetAim(NPC, hiroko_index, 0)
    Cam.Inst:Set(21.64, -0.025, -25.73, 21.79, 1.584, -15.86, default, 0)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    tlk:StartTalkAndCancelDigimonRide()
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    s_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "760")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    h_e020:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "770")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    s_e032:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "780")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    k_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "790")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectLookAtTheObject(NPC, simons_index, NPC, kin_index, 30)
    s_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "800")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    h_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "810")
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    Field.ObjectResetAim(NPC, simons_index, 0)
    WaitFrame(30)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    s_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "820")
    s_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "830")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    h_e005:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "840")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    s_e021:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "850")
    tlk:Message(base .. "860")
    s_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "870")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    k_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "880")
    k_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "890")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    s_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "900")
    s_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "910")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    h_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "920")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    s_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "930")
    s_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "940")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    h_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "950")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    s_e032:Play(10, true)
    tlk:Message(base .. "960")
    tlk:Message(base .. "970")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(30)
    s_e008:Play(10, true)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    tlk:Message(base .. "980")
    s_e033:Play(10, true)
    tlk:Message(base .. "990")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    local result = tlk:Select(3, base .. "1000")
    WaitFrame(15)
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    s_e012:PlayWithStartMoveMotion(10, 10)
    if result == RESULT_TALK00 then
      tlk:Message(base .. "1010")
    elseif result == RESULT_TALK01 then
      tlk:Message(base .. "1020")
    else
      tlk:Message(base .. "1030")
    end
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    k_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1040")
    k_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1050")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    s_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1060")
    s_e002:PlayWithStartMoveMotion(10, 10)
    Field_StopBGM()
    tlk:Message(base .. "1070")
    WaitFrame(90)
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field_PlayBGM(305)
    h_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1080")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    s_e510:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1090")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    h_e020:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1100")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    s_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1110")
    Field.ObjectLookAtTheObject(NPC, simons_index, NPC, kin_index, 30)
    s_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1120")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    k_e008:Play(10, true)
    tlk:Message(base .. "1130")
    k_e014:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1140")
    Field.ObjectLookAtTheObject(NPC, hiroko_index, NPC, kin_index, 30)
    h_e005:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1150")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    s_e021:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1160")
    tlk:Message(base .. "1170")
    s_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1180")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    k_e008:Play(10, true)
    tlk:Message(base .. "1190")
    k_e018:Play(10, true)
    tlk:Message(base .. "1200")
    tlk:MessageClose()
    Flg.Set(self.Flag005)
    BackFadeOutWithWait(FADE_BLACK, FADE_TIME)
    k_fn01_01:PlayWithStartMoveMotion(10, 10)
    FieldObjectSync(NPC, true)
    Field.ObjectResetAim(NPC, simons_index, 0)
    Field.ObjectResetAim(NPC, hiroko_index, 0)
    Obj:new(PLAYER, ""):SetPos(22.356, 0, -17.534)
    Obj:new(PLAYER, ""):SetRotationY(330, 0)
    Cam.Inst:Set(17.29, 0.075, -23.991, 23.4135, 1.654, -16.243, default, 0)
    WaitFrame(30)
    tlk:Message(base .. "1210")
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    h_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1220")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    s_e005:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1230")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectLookAtTheObject(NPC, hiroko_index, NPC, simons_index, 30)
    h_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1240")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectLookAtTheObject(NPC, simons_index, NPC, hiroko_index, 30)
    s_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1250")
    s_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1260")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectLookAtTheObject(NPC, hiroko_index, PLAYER, 1, 30)
    h_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1270")
    tlk:Message(base .. "1280")
    h_e005:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1290")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectResetAim(NPC, simons_index, 0)
    s_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1300")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    h_e002:PlayWithStartMoveMotion(10, 15)
    tlk:Message(base .. "1310")
    h_e008:Play(10, true)
    tlk:Message(base .. "1320")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    tlk:EndTalk()
    Cam.Inst:Clear(30)
    WaitFrame(30)
    Qst.Sub:Set(self.ID, self.STEP_020)
  end
end

function S910_171:Event_060()
  if Qst.Sub:Check(self.ID, self.STEP_020, self.STEP_255) then
    local s_e002 = Motion.Object:new(NPC, "s910_171_001", "e002")
    local s_e004 = Motion.Object:new(NPC, "s910_171_001", "e004")
    local s_e005 = Motion.Object:new(NPC, "s910_171_001", "e005")
    local s_e008 = Motion.Object:new(NPC, "s910_171_001", "e008")
    local s_e012 = Motion.Object:new(NPC, "s910_171_001", "e012")
    local s_e020 = Motion.Object:new(NPC, "s910_171_001", "e020")
    local s_e021 = Motion.Object:new(NPC, "s910_171_001", "e021")
    local s_e032 = Motion.Object:new(NPC, "s910_171_001", "e032")
    local s_e033 = Motion.Object:new(NPC, "s910_171_001", "e033")
    local s_e510 = Motion.Object:new(NPC, "s910_171_001", "e510")
    local s_fn01_01 = Motion.Object:new(NPC, "s910_171_001", "fn01_01")
    local simons_index = GetIndex(NPC, "s910_171_001")
    tlk:StartTalkAndCancelDigimonRide()
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    tlk:Message(base .. "1330")
    tlk:Message(base .. "1340")
    Field.ObjectChangeExpression(NPC, simons_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    tlk:EndTalk()
  end
end

function S910_171:Event_070()
  if Qst.Sub:Check(self.ID, self.STEP_020, self.STEP_255) then
    local h_e002 = Motion.Object:new(NPC, "s910_171_006", "e002")
    local h_e004 = Motion.Object:new(NPC, "s910_171_006", "e004")
    local h_e005 = Motion.Object:new(NPC, "s910_171_006", "e005")
    local h_e006 = Motion.Object:new(NPC, "s910_171_006", "e006")
    local h_e008 = Motion.Object:new(NPC, "s910_171_006", "e008")
    local h_e012 = Motion.Object:new(NPC, "s910_171_006", "e012")
    local h_e020 = Motion.Object:new(NPC, "s910_171_006", "e020")
    local h_e500 = Motion.Object:new(NPC, "s910_171_006", "e500")
    local h_fn01_01 = Motion.Object:new(NPC, "s910_171_006", "fn01_01")
    local hiroko_index = GetIndex(NPC, "s910_171_006")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    tlk:StartTalkAndCancelDigimonRide()
    tlk:Message(base .. "1350")
    tlk:Message(base .. "1360")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    tlk:EndTalk()
  end
end

function S910_171:Event_080()
  if Qst.Sub:Check(self.ID, self.STEP_020, self.STEP_255) then
    local k_e002 = Motion.Object:new(NPC, "s910_171_001", "e002")
    local k_e004 = Motion.Object:new(NPC, "s910_171_001", "e004")
    local k_e006 = Motion.Object:new(NPC, "s910_171_001", "e006")
    local k_e008 = Motion.Object:new(NPC, "s910_171_001", "e008")
    local k_e012 = Motion.Object:new(NPC, "s910_171_001", "e012")
    local k_fn01_01 = Motion.Object:new(NPC, "s910_171_001", "fn01_01")
    local p_e002 = Motion.Object:new(PLAYER, "", "e002")
    local p_e004 = Motion.Object:new(PLAYER, "", "e002")
    local p_fn01_01 = Motion.Object:new(PLAYER, "", "fn01_01")
    local kin_index = GetIndex(NPC, "s910_171_001")
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    HideMinimap(true)
    HideGuide(true)
    tlk:StartTalkAndCancelDigimonRide()
    Cam.Inst:Set(-78.02, 0.2375, 30.413, -68.71, 1.734, 27.09, default, 0)
    Obj:new(PLAYER, ""):SetPos(-69.91, 0, 27.92, true)
    Obj:new(PLAYER, ""):SetRotationY(270, 0)
    WaitFrame(15)
    FadeInWithWaitNotFlgCheck(FADE_BLACK, FADE_TIME)
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    k_e006:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1370")
    k_e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1380")
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    local result = tlk:Select(3, base .. "1390")
    WaitFrame(15)
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    if result == RESULT_TALK00 then
      k_e002:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "1400")
    elseif result == RESULT_TALK01 then
      k_e002:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "1410")
    else
      k_e008:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "1420")
    end
    k_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1430")
    tlk:Message(base .. "1440")
    k_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1450")
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    result = tlk:Select(3, base .. "1460")
    WaitFrame(15)
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    if result == RESULT_TALK00 then
      k_e012:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "1470")
    elseif result == RESULT_TALK01 then
      k_e012:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "1480")
    else
      k_e012:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "1490")
    end
    k_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1500")
    k_e004:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1510")
    k_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "1520")
    Field.ObjectChangeExpression(NPC, kin_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Flg.Set(self.Flag006)
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    FieldObjectSync(NPC, true)
    HideMinimap(false)
    HideGuide(false)
    Cam.Inst:Clear(0)
    END_TALK_ACTION_AND_ZOOM("s910_171_001", true, true)
    tlk:EndTalk()
    WaitFrame(30)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    Qst.Sub:End(self.ID, self.STEP_255)
  end
end

function S910_171:Event_100()
  local tlk = Tlk:new("t04", 1, true)
  tlk:StartTalkAndCancelDigimonRide()
  tlk:Message("f_t0401_0050_0010")
  MovePlayerToRelativePosFrame(2, 0, 30)
  tlk:EndTalk()
end

function S910_171:Event_101()
  local tlk = Tlk:new("t04", 1, true)
  tlk:StartTalkAndCancelDigimonRide()
  tlk:Message("f_t0401_0050_0010")
  MovePlayerToRelativePosFrame(0, 2, 30)
  tlk:EndTalk()
end

function S910_171:Event_102()
  local tlk = Tlk:new("t04", 1, true)
  tlk:StartTalkAndCancelDigimonRide()
  tlk:Message("f_t0401_0050_0010")
  MovePlayerToRelativePosFrame(-2, 0, 30)
  tlk:EndTalk()
end

function S910_171:Event_103()
  local tlk = Tlk:new("t04", 1, true)
  tlk:StartTalkAndCancelDigimonRide()
  tlk:Message("f_t0401_0050_0010")
  MovePlayerToRelativePosFrame(-1, -2, 30)
  tlk:EndTalk()
end

function S910_171:Event_110()
  local tlk = Tlk:new("t04", 1, true)
  tlk:StartTalkAndCancelDigimonRide()
  tlk:Message("f_t0401_0050_0010")
  MovePlayerToRelativePosFrame(2, 0, 30)
  tlk:EndTalk()
end

function S910_171:Event_111()
  local tlk = Tlk:new("t04", 1, true)
  tlk:StartTalkAndCancelDigimonRide()
  tlk:Message("f_t0401_0050_0010")
  MovePlayerToRelativePosFrame(0, -2, 30)
  tlk:EndTalk()
end

function S910_171:Event_112()
  local tlk = Tlk:new("t04", 1, true)
  tlk:StartTalkAndCancelDigimonRide()
  tlk:Message("f_t0401_0050_0010")
  tlk:EndTalk()
end
