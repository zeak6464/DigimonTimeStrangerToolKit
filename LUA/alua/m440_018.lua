require("include")

function m440_018()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m440")
  SetEventCutNo("2")
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetMapStatus("Enable")
    SetTimeAxis("P2028_daft_440")
    LoadMap("d0204")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("chr375_01", "char_NANIMON")
  LoadModel("chr928_01", "char_MERCURYMON_BIG")
  LoadEffect("eff_01", "ef_b_chr080_bs02_p01")
  Vista.BindSpeaker("chr928_01", "char_MERCURYMON")
  LoadSceneViewerResource("c1.0", "d0204f_ta")
  LoadSceneViewerResource("c2.0", "d0204f_ta")
  LoadEnvironmentFile("c1.0", "es_m440_018_c1.0")
  LoadEnvironmentFile("c2.0", "es_m440_018_c2.0")
  WaitVistaLoad()
  SetPosition("HERO_01", 4.114, 0, -32.559, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 294.5, 0, "LINEAR", 0, 0)
  SetPosition("chr375_01", -2.38, 0, -40.99, "LINEAR", 0, 0)
  SetRotation("chr375_01", 0, 69, 0, "LINEAR", 0, 0)
  SetPosition("chr928_01", 0.193, 0.04, -31.311, "LINEAR", 0, 0)
  SetRotation("chr928_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("eff_01", -0.81, -0.5, -38.332, "LINEAR", 0, 0)
  SetRotation("eff_01", 0, 180, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr375_01", "bn01", 0, true, 0)
  PlayMotion("chr928_01", "ba02", 0, false, 0)
  PlayMotion("chr928_01", "bn01", 0, true, 50)
  SetFace("chr928_01", "F01_M01", 0, 1, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -43, 0, 0, false, "SCURVE", 0, 0)
  BlendFaceDigi("chr375_01", 0, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr928_01", 0, 0, 0, "SCURVE", 0, 0)
  SetCamera(3.256, 1.836, -33.041, 0, 40, "LINEAR", 0, false, 0, false)
  SetCameraTarget(-1.626, 8.598, -30.624, "LINEAR", 0, false, 0, false)
  SetCamera(4.924, 0.799, -33.868, 0, 40, "LINEAR", 6, false, 20, false)
  SetCameraTarget(-1.626, 4.868, -30.624, "LINEAR", 6, false, 20, false)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  Event_PlaySE(404083, 100, false, 0, 0)
  Event_PlaySE(310010, 100, false, 0, 0.7)
  Fade_In(0, 20)
  WaitFrame(40)
  SetFace("chr928_01", "F01_M01", 0, 1, 0, 0)
  Event_PlayVoice("vo_mpc080_Order_002", 0)
  MessageTalk("m440_018_010")
  MessageClose()
  WaitFrame(10)
  PlayMotion("chr928_01", "e209", 3, false, 0)
  Event_PlaySE(403002, 100, false, 0, 0)
  PlayEffect("eff_01", false, 10)
  Event_Quake_Start(8, 2, 5, 30)
  BlendEye("HERO_01", 0, 0, "SCURVE", 20, 26)
  BlendFace("HERO_01", -50, -97, 0, true, "SCURVE", 20, 26)
  Event_PlaySE(403008, 100, false, 0, 1)
  WaitFrame(60)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetPosition("chr928_01", -1.417, 0, -34.749, "LINEAR", 0, 0)
  SetRotation("chr928_01", 0, 180, 0, "LINEAR", 0, 0)
  PlayMotion("chr928_01", "bs02", 0, false, 0)
  SetStartFrame("chr928_01", "bs02", 50, 0)
  SetCamera(1.031, 3.179, -43.254, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-1.697, 6.682, -37.532, "LINEAR", 0, false, 0)
  SetCamera(2.185, 1.111, -45.608, 0, 40, "DECEL", 7, false, 7)
  SetCameraTarget(-2.607, 4.532, -37.532, "DECEL", 7, false, 7)
  Event_Quake_Start(8, 2, 40, 40)
  Event_PlaySE(310006, 100, false, 0, 0.3)
  local slot_01 = Event_PlaySE(404019, 100, false, 0, 1)
  WaitFrame(100)
  SetCamera(-0.053, 2.709, -41.836, 0, 40, "ACCEL", 15, false, 0, false)
  SetCameraTarget(-2.607, 4.532, -37.532, "ACCEL", 15, false, 0, false)
  Event_StopSE(slot_01, 0.4, 0)
  Fade_OutNoLoadingWithWait(FADE_WHITE, FADE_TIME)
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m440_018()
end
