require("include")

function m430_011()
  Fade_Out(1, 0)
  EVENT_BEGIN()
  Talk.Load("m430")
  SetEventCutNo(3)
  if Debug.IsEventView() then
    SetTimeZone("Night")
    SetTimeAxis("P2028_daft_430")
    LoadMap("t0107")
  end
  LoadModel("HIROKO_01", "char_HIROKO_8YEARSLATER")
  LoadObject("mob300010101_01", "mob300")
  LoadObject("mob301010101_01", "mob301")
  LoadObject("mob302010101_01", "mob302")
  LoadObject("mob303010101_01", "mob303")
  LoadObject("mob303010101_02", "mob303")
  LoadObject("mob302010101_02", "mob302")
  LoadObject("mob300010101_02", "mob300")
  LoadSceneViewerResource("c1.0", "t0107f_cn")
  LoadSceneViewerResource("c2.0", "t0107f_cn")
  LoadSceneViewerResource("c3.0", "t0107f_cn")
  LoadEnvironmentFile("c1.0", "es_m430_011_c1.0")
  LoadEnvironmentFile("c2.0", "es_m430_011_c2.0")
  LoadEnvironmentFile("c3.0", "es_m430_011_c3.0")
  WaitVistaLoad()
  SetPosition("HIROKO_01", -25.075, 0.27, 20.484, "LINEAR", 0, 0)
  SetRotation("HIROKO_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("mob300010101_01", -23.274, 0.08, 21.637, "LINEAR", 0, 0)
  SetRotation("mob300010101_01", 0, 179, 0, "LINEAR", 0, 0)
  SetPosition("mob301010101_01", -25.433, 0.089, 17.97, "LINEAR", 0, 0)
  SetRotation("mob301010101_01", 0, 173.5, 0, "LINEAR", 0, 0)
  SetPosition("mob302010101_01", -22.333, 0.193, 19.299, "LINEAR", 0, 0)
  SetRotation("mob302010101_01", -5.5, 193.5, 0, "LINEAR", 0, 0)
  SetPosition("mob303010101_01", -27.304, 0.07, 19.351, "LINEAR", 0, 0)
  SetRotation("mob303010101_01", 0, 165, 0, "LINEAR", 0, 0)
  SetPosition("mob303010101_02", -27.113, 0.069, 21.802, "LINEAR", 0, 0)
  SetRotation("mob303010101_02", 0, -186.5, 0, "LINEAR", 0, 0)
  SetPosition("mob302010101_02", -19.943, 0.069, 21.622, "LINEAR", 0, 0)
  SetRotation("mob302010101_02", 0, 214, 0, "LINEAR", 0, 0)
  SetPosition("mob300010101_02", -30.453, 0.289, 22.432, "LINEAR", 0, 0)
  SetRotation("mob300010101_02", 0, 179.5, 0, "LINEAR", 0, 0)
  PlayMotion("HIROKO_01", "e560", 0, true, 0)
  SetFace("HIROKO_01", "E07_M12", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HIROKO_01", -10, 0, "SCURVE", 0, 0)
  BlendFace("HIROKO_01", -20, 0, 0, false, "SCURVE", 0, 0)
  SetCamera(-24.817, 5.159, 17.422, 0, 33, "LINEAR", 0, false, 0)
  SetCameraTarget(-24.84, 0.676, 20.991, "LINEAR", 0, false, 0)
  SetCamera(-25.016, 5.163, 17.425, 0, 33, "LINEAR", 150, true, 0, false)
  SetCameraTarget(-25.039, 0.679, 20.994, "LINEAR", 150, true, 0, false)
  SetEnv_All("c1.0", 0)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  Fade_In(1, FADE_TIME)
  WaitFrame(80)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetPosition("mob300010101_01", -23.251, 0.27, 21.284, "LINEAR", 0, 0)
  SetRotation("mob300010101_01", 0, 180, 0, "LINEAR", 0, 0)
  SetCamera(-25.035, 2.48, 19.646, 0, 20, "LINEAR", 0, false, 0, false)
  SetCameraTarget(-25.043, 1.076, 21.295, "LINEAR", 0, false, 0, false)
  SetCamera(-25.067, 2.48, 19.646, 0, 20, "LINEAR", 150, true, 0, false)
  SetCameraTarget(-25.075, 1.076, 21.294, "LINEAR", 150, true, 0, false)
  WaitFrame(60)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  ModelVisible("mob300010101_01", false, 0, 0)
  ModelVisible("mob301010101_01", false, 0, 0)
  ModelVisible("mob302010101_01", false, 0, 0)
  ModelVisible("mob303010101_01", false, 0, 0)
  SetCamera(-25.502, 1, 21.277, 0, 40, "LINEAR", 0, false, 0, false)
  SetCameraTarget(-23.098, 10.064, 11.139, "LINEAR", 0, false, 0, false)
  SetCamera(-25.502, 1, 21.277, 0, 40, "LINEAR", 100, true, 0, false)
  SetCameraTarget(-23.098, 10.614, 11.139, "LINEAR", 100, true, 0, false)
  WaitFrame(75)
  Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
  WaitFrame(30)
  Vista.SetKeepBGM()
  Vista.SetKeepBGMWithMapChange()
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m430_011()
end
