require("include")

function m310_030()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m310")
  SetEventCutNo(11)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2028_dbef_310")
    LoadMap("t0173")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  LoadModel("chr403_01", "char_GRAPLEOMON")
  LoadSceneViewerResource("c1.0", "t0173b_ca")
  LoadSceneViewerResource("c2.0", "t0173b_ca")
  LoadSceneViewerResource("c3.0", "t0173b_ca")
  LoadSceneViewerResource("c4.0", "t0173b_ca")
  LoadSceneViewerResource("c5.0", "t0173b_ca")
  LoadSceneViewerResource("c6.0", "t0173b_ca")
  LoadSceneViewerResource("c7.0", "t0173b_ca")
  LoadSceneViewerResource("c8.0", "t0173b_ca")
  LoadSceneViewerResource("c9.0", "t0173b_ca")
  LoadSceneViewerResource("c10.0", "t0173b_ca")
  LoadSceneViewerResource("c11.0", "t0173b_ca")
  LoadEnvironmentFile("c1.0", "es_m310_030_c1.0")
  LoadEnvironmentFile("c2.0", "es_m310_030_c2.0")
  LoadEnvironmentFile("c3.0", "es_m310_030_c3.0")
  LoadEnvironmentFile("c4.0", "es_m310_030_c4.0")
  LoadEnvironmentFile("c5.0", "es_m310_030_c5.0")
  LoadEnvironmentFile("c6.0", "es_m310_030_c6.0")
  LoadEnvironmentFile("c7.0", "es_m310_030_c7.0")
  LoadEnvironmentFile("c8.0", "es_m310_030_c8.0")
  LoadEnvironmentFile("c9.0", "es_m310_030_c9.0")
  LoadEnvironmentFile("c10.0", "es_m310_030_c10.0")
  LoadEnvironmentFile("c11.0", "es_m310_030_c11.0")
  WaitVistaLoad()
  SetPosition("HERO_01", 0, 0, 0.3, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 0.9, 0, 0.6, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 195, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", -0.95, 0, 0.283, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 155, 0, "LINEAR", 0, 0)
  SetPosition("chr403_01", 0, 0, -3, "LINEAR", 0, 0)
  SetRotation("chr403_01", 0, 0, 0, "LINEAR", 0, 0)
  SetScale("chr403_01", 1.688, 1.688, 1.688)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, 0, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, 0, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_01", "F01", 0, 1, 0, 0)
  PlayMotion("chr403_01", "e500", 0, true, 0)
  SetFace("chr403_01", "F01_M01", 2, 2, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -45, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", -45, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -45, 0, 0, true, "SCURVE", 0, 0)
  SetEyeUVOffsetDigi("chr403_01", 0, 0.01, "SCURVE", 0, 0)
  BlendFaceDigi("chr403_01", 0, 0, 0, "SCURVE", 0, 0)
  SetEnv_All("c1.0", 0)
  SetCamera(-1.706, 2.137, -0.293, 0, 40, "LINEAR", 0, false, 0, false)
  SetCameraTarget(0.068, 1.289, -2.647, "LINEAR", 0, false, 0, false)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  SetCamera(-1.356, 1.097, -0.033, 0, 40, "LINEAR", 90, true, 0, false)
  SetCameraTarget(0.068, 1.289, -2.647, "LINEAR", 90, true, 0, false)
  Fade_In(FADE_WHITE, FADE_TIME)
  WaitFrame(40)
  MessageTalk("m310_030_010")
  MessageClose()
  WaitFrame(10)
  CAM_POS_WAIT(0)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(-5.12, 9.121, 2.017, 0, 40, "LINEAR", 0, false, 0, false)
  SetCameraTarget(-0.2, 1.145, -0.66, "LINEAR", 0, false, 0, false)
  SetCamera(-5.12, 9.121, 1.537, 0, 40, "SCURVE", 150, false, 0, false)
  SetCameraTarget(-0.2, 1.145, -1.14, "SCURVE", 150, false, 0, false)
  SetRotation("chr403_01", 0, -10, 0, "LINEAR", 0, 0)
  PlayMotion("AEGIOMON_01", "e002", 0, true, 0)
  MessageTalk("m310_030_020")
  MessageClose()
  WaitFrame(10)
  MessageTalkSel(1, "m310_030_021")
  result = Talk.GetResultSelectedNum()
  if result == RESULT_TALK00 then
    PlayMotion("HERO_01", "e002", 6, true, 0)
    WaitFrame(80)
    MessageTalk("m310_030_030")
    MessageClose()
    WaitFrame(10)
  end
  BlendFaceDigi("chr403_01", -30, -10, 0, "SCURVE", 20, 0)
  MessageTalk("m310_030_040")
  MessageClose()
  BlendFaceDigi("chr403_01", 0, 0, 0, "SCURVE", 40, 0)
  WaitFrame(15)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(-1.338, 1.486, -0.932, 0, 35, "LINEAR", 0, false, 0, false)
  SetCameraTarget(0, 1.78, -2.625, "LINEAR", 0, false, 0, false)
  SetCamera(-1.338, 1.836, -0.932, 0, 35, "SCURVE", 30, true, 0, false)
  SetCameraTarget(0, 2.13, -2.625, "SCURVE", 30, true, 0, false)
  SetRotation("chr403_01", 0, 0, 0, "LINEAR", 0, 0)
  PlayMotion("chr403_01", "bn02", 30, true, 0)
  SetFace("chr403_01", "F01_M01", 0, 2, 0, 15)
  SetEyeUVOffsetDigi("chr403_01", 0, 0.01, "SCURVE", 0, 15)
  BlendFaceDigi("chr403_01", -10, 0, 0, "SCURVE", 0, 0)
  WaitFrame(30)
  MessageTalk("m310_030_050")
  MessageClose()
  WaitFrame(10)
  BlendFaceDigi("chr403_01", -35, 0, 0, "SCURVE", 26, 0)
  MessageTalk("m310_030_060")
  MessageClose()
  WaitFrame(10)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetCamera(-2.525, 0.583, 1.098, 0, 45, "LINEAR", 0, false, 0, false)
  SetCameraTarget(0, 1.31, -1.065, "LINEAR", 0, false, 0, false)
  SetCamera(-2.525, 0.583, 1.238, 0, 45, "SCURVE", 75, false, 0, false)
  SetCameraTarget(0, 1.31, -0.925, "SCURVE", 75, false, 0, false)
  SetPosition("HEROINE_01", 0.9, 0, 0.57, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 180, 0, "LINEAR", 0, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", -32, 0, 0, true, "SCURVE", 0, 0)
  SetEyeUVOffsetDigi("chr403_01", 0, 0.01, "SCURVE", 0, 0)
  BlendFaceDigi("chr403_01", -36, 0, 0, "SCURVE", 0, 0)
  MessageTalk("m310_030_070")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m310_030_080")
  MessageClose()
  WaitFrame(10)
  PlayMotionBlend("AEGIOMON_01", "blend03", 0, false, 0)
  MessageTalk("m310_030_090")
  MessageClose()
  WaitFrame(10)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetCamera(-2.347, 2.16, -1.799, 0, 35, "LINEAR", 0, false, 0)
  SetCameraTarget(0, 2.29, -2.805, "LINEAR", 0, false, 0)
  PlayMotion("chr403_01", "bn01", 22, true, 0)
  SetEyeUVOffsetDigi("chr403_01", 0, 0.01, "SCURVE", 0, 0)
  BlendFaceDigi("chr403_01", 11, 0, 0, "SCURVE", 30, 0)
  WaitFrame(32)
  PlayMotion("chr403_01", "e005", 6, true, 0)
  SetDigimonBlink("chr403_01", 2, 4, 30)
  MessageTalk("m310_030_100")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m310_030_110")
  MessageClose()
  WaitFrame(10)
  SetFace("chr403_01", "F01_M01", 0, 2, 0, 0)
  EndMotion("chr403_01", 0)
  MessageTalk("m310_030_120")
  MessageClose()
  WaitFrame(10)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  SetCamera(-4.881, 2, 1.099, 0, 50, "LINEAR", 0, false, 0, false)
  SetCameraTarget(0, 1.22, -1, "LINEAR", 0, false, 0, false)
  SetCamera(-4.972, 0.462, -0.916, 0, 50, "SCURVE", 500, true, 0, false)
  SetCameraTarget(0, 1.43, -1, "SCURVE", 500, true, 0, false)
  SetPosition("HERO_01", 0, 0, 0.3, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 0.9, 0, 0.92, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 190, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", -0.95, 0, 0.75, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 160, 0, "LINEAR", 0, 0)
  SetEyeUVOffsetDigi("chr403_01", 0, 0.015, "SCURVE", 0, 0)
  MessageTalk("m310_030_130")
  MessageClose()
  WaitFrame(10)
  PlayMotion("chr403_01", "e007", 4, true, 0)
  MessageTalk("m310_030_140")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m310_030_150")
  MessageClose()
  WaitFrame(10)
  EndMotion("chr403_01", 0)
  MessageTalk("m310_030_160")
  MessageClose()
  WaitFrame(10)
  CUT("7.0")
  SetEnv_All("c7.0", 0)
  SetCamera(-2.002, 3.587, -3.649, -5, 45, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.29, 1.61, -1.555, "LINEAR", 0, false, 0)
  SetPosition("AEGIOMON_01", -0.8, 0, 0.283, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 165, 0, "LINEAR", 0, 0)
  WaitFrame(15)
  PlayMotion("AEGIOMON_01", "e021", 4, true, 0)
  MessageTalk("m310_030_170")
  MessageClose()
  EndMotion("AEGIOMON_01", 0)
  WaitFrame(20)
  Event_StopBGM(2, 0)
  Fade_OutNoLoadingWithWait(FADE_BLACK, 30)
  WaitFrame(45)
  CUT("8.0")
  SetEnv_All("c8.0", 0)
  SetCamera(-1.958, 1.746, -0.782, 0, 35, "LINEAR", 0, false, 0, false)
  SetCameraTarget(0, 0.92, -2.72, "LINEAR", 0, false, 0, false)
  SetCamera(-1.958, 1.9, -0.782, 0, 35, "SCURVE", 120, false, 0, false)
  SetCameraTarget(0, 2.06, -2.72, "SCURVE", 120, false, 0, false)
  PlayMotion("chr403_01", "bn02", 0, true, 0)
  SetFace("chr403_01", "F03_M01", 2, 2, 0, 0)
  BlendFaceDigi("chr403_01", 0, 0, 0, "SCURVE", 0, 0)
  FadeInWithWait(FADE_BLACK, 30)
  WaitFrame(45)
  MessageTalk("m310_030_180")
  Event_PlayBGM(702, 0, 0)
  MessageTalk("m310_030_190")
  MessageTalk("m310_030_200")
  MessageClose()
  WaitFrame(30)
  MessageTalk("m310_030_210")
  MessageClose()
  WaitFrame(10)
  CUT("9.0")
  SetEnv_All("c9.0", 0)
  SetCamera(0.416, 1.078, 2.355, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(0.066, 1.45, -1.43, "LINEAR", 0, false, 0)
  SetPosition("HERO_01", -0.51, 0, 0.53, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 0.9, 0, 0.57, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 200, 0, "LINEAR", 0, 0)
  ModelVisible("AEGIOMON_01", false, 0, 0)
  PlayMotion("HEROINE_01", "e002", 0, true, 0)
  MessageTalk("m310_030_220")
  MessageClose()
  PlayMotion("HEROINE_01", "e002", 0, true, 0)
  SetFace("chr403_01", "F01_M01", 0, 2, FACE_BLENDTIME, 0)
  BlendFaceDigi("chr403_01", -28, 20, 0, "SCURVE", 30, 0)
  MessageTalk("m310_030_230")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m310_030_240")
  MessageClose()
  WaitFrame(10)
  CUT("10.0")
  SetEnv_All("c10.0", 0)
  SetCamera(-0.821, 0.957, -0.465, 0, 35, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.748, 1.015, 0.236, "LINEAR", 0, false, 0)
  SetPosition("HERO_01", 0, 0, 0.3, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 150, 0, "LINEAR", 0, 0)
  PlayMotion("AEGIOMON_01", "e002", 0, true, 0)
  SetFace("AEGIOMON_01", "E04_M01", 0, 1, 0, 0)
  BlendFace("AEGIOMON_01", -25, 0, 0, true, "SCURVE", 0, 0)
  ModelVisible("AEGIOMON_01", true, 0, 0)
  MessageTalk("m310_030_250")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m310_030_260")
  MessageClose()
  WaitFrame(10)
  CUT("11.0")
  SetEnv_All("c11.0", 0)
  SetCamera(-1.256, 1.124, -1.078, 0, 45, "LINEAR", 0, false, 0, false)
  SetCameraTarget(0, 2.07, -2.5, "LINEAR", 0, false, 0, false)
  PlayMotion("chr403_01", "bn02", 0, true, 0)
  SetEyeUVOffsetDigi("chr403_01", 0, 0.01, "SCURVE", 0, 0)
  BlendFaceDigi("chr403_01", -25, 0, 0, "SCURVE", 0, 0)
  WaitFrame(30)
  MessageTalk("m310_030_270")
  MessageClose()
  WaitFrame(20)
  Event_StopBGM(2, 0)
  Fade_OutNoLoadingWithWait(FADE_BLACK, 30)
  WaitFrame(30)
  Vista.SetKeepBGM()
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m310_030()
end
