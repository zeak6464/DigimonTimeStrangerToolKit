require("include")

function m010_070()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m010")
  LOAD_VOICE()
  SetEventCutNo(4)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("X2028_daft_10")
    Flag.Set(GET_FLAG("FLAG_MAIN_01_050"))
    LoadMap("t0107")
  end
  LoadModel("HERO_01", "Player")
  LoadSceneViewerResource("c01", "t0107f_cm")
  LoadSceneViewerResource("c02", "t0107f_cm")
  LoadSceneViewerResource("c03", "t0107f_cm")
  LoadSceneViewerResource("c04", "t0107f_cm")
  LoadEnvironmentFile("c01", "es_m010_070_c01")
  LoadEnvironmentFile("c02", "es_m010_070_c02")
  LoadEnvironmentFile("c03", "es_m010_070_c03")
  LoadEnvironmentFile("c04", "es_m010_070_c04")
  WaitVistaLoad()
  SetPosition("HERO_01", 8.93, 0, -3.181, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 61, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  SetBlink("HERO_01", 0, 1, 0)
  SetMouth("HERO_01", 1, 0, 0)
  SetBlink("HERO_01", 2, 1, 29)
  SetBlink("HERO_01", 0, 1, 33)
  SetCamera(9.81, 1.4, -2.412, 0, 29, "LINEAR", 0, false, 0)
  SetCameraTarget(8.912, 1.468, -3.161, "LINEAR", 0, false, 0)
  SetEnv_All("c01", 0)
  FIELD_SET()
  EVENT_START()
  SetMobTransparentRange(0.001, 0.001, 0.001)
  CUT(1)
  Fade_In(0, FADE_TIME)
  WaitFrame(FADE_TIME)
  local slot_id = Event_PlaySE(500006, 100, true, 0, 0)
  WaitFrame(30)
  BlendEye("HERO_01", 27, -43, "SCURVE", 10, 30)
  BlendFace("HERO_01", 0, 20, 0, true, "SCURVE", 15, 15)
  PlayMotion("HERO_01", "e503", 3, true, 0)
  WaitFrame(40)
  Event_StopSE(slot_id, 0.2, 0)
  local slot_id = Event_PlaySE(402002, 100, false, 0, 0)
  MessageTalk("m010_070_010")
  MessageTalk("m010_070_020")
  MessageClose()
  WaitFrame(10)
  CUT(2)
  SetEnv_All("c02", 0)
  SetCamera(-17.815, 2.987, 14.629, 0, 27, "LINEAR", 0, false, 0)
  SetCameraTarget(-14.693, 0.83, 3.428, "LINEAR", 0, false, 0)
  SetCamera(-19.175, 2.987, 14.629, 0, 27, "LINEAR", 500, true, 0)
  SetCameraTarget(-16.053, 0.83, 3.428, "LINEAR", 500, true, 0)
  WaitFrame(10)
  MessageTalk("m010_070_030")
  MessageTalk("m010_070_040")
  MessageClose()
  WaitFrame(10)
  CUT(3)
  SetEnv_All("c03", 0)
  SetCamera(-25.366, 7.295, 3.683, 0, 60, "LINEAR", 0, false, 0)
  SetCameraTarget(-13.125, 22.237, -14.587, "LINEAR", 0, false, 0)
  SetCamera(-25.366, 7.295, 3.683, 0, 60, "LINEAR", 300, true, 0)
  SetCameraTarget(-10.645, 20.717, -14.017, "LINEAR", 300, true, 0)
  SetPosition("HERO_01", 20.424, 0, -5.613, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 96.5, 0, "LINEAR", 0, 0)
  WaitFrame(10)
  MessageTalk("m010_070_050")
  MessageClose()
  WaitFrame(10)
  CUT(4)
  SetEnv_All("c04", 0)
  SetPosition("HERO_01", 7.983, 0, -2.53, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 114, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 0, 10, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, -9, 0, true, "SCURVE", 0, 0)
  SetCamera(7.302, 1.452, -1.703, 0, 30, "LINEAR", 0, false, 0, false)
  SetCameraTarget(9.434, 1.499, -3.467, "LINEAR", 0, false, 0, false)
  SetCamera(6.696, 1.383, -1.255, 0, 30, "SCURVE", 120, true, 0, false)
  SetCameraTarget(9.439, 1.444, -3.463, "SCURVE", 120, true, 0, false)
  WaitFrame(10)
  MessageTalk("m010_070_060")
  MessageClose()
  EndMotion("HERO_01", 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 20, 0)
  WaitFrame(80)
  if Debug.IsEventView() then
    Event_StopBGM(0, 0)
    Event_StopAllSE(0, 0)
    EVENT_END()
  else
    Event_StopBGM(5, 0)
    EVENT_END_SEAMLESS(60)
  end
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m010_070()
end
