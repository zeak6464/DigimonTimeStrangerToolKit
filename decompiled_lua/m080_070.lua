require("include")

function m080_070()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m080")
  SetEventCutNo(2)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2020_dbef_80")
    LoadMap("h0201")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("AEGIOMON_B_01", "char_AEGIOMON_PLAIN_CLOTHES")
  LoadModel("chr411_01", "char_VADEMON")
  LoadModel("chr411_02", "char_VADEMON")
  LoadModel("npc109aa010101_01", "char_ABDUCTED_BOY")
  LoadModel("npc110aa010101_01", "char_ABDUCTED_GIRL")
  Vista.LoadAnimationFace("npc109aa010101_01", "e01", "m01")
  Vista.LoadAnimationFace("npc109aa010101_01", "e02", "m02")
  Vista.LoadAnimationFace("npc109aa010101_01", "e03", "m03")
  Vista.LoadAnimationFace("npc109aa010101_01", "e04", "m04")
  Vista.LoadAnimationFace("npc109aa010101_01", "e05", "m05")
  Vista.LoadAnimationFace("npc109aa010101_01", "e06", "m06")
  Vista.LoadAnimationFace("npc109aa010101_01", "e07", "m07")
  Vista.LoadAnimationFace("npc110aa010101_01", "e01", "m01")
  Vista.LoadAnimationFace("npc110aa010101_01", "e02", "m02")
  Vista.LoadAnimationFace("npc110aa010101_01", "e03", "m03")
  Vista.LoadAnimationFace("npc110aa010101_01", "e04", "m04")
  Vista.LoadAnimationFace("npc110aa010101_01", "e05", "m05")
  Vista.LoadAnimationFace("npc110aa010101_01", "e06", "m06")
  Vista.LoadAnimationFace("npc110aa010101_01", "e07", "m07")
  LoadSceneViewerResource("c1.0", "h0201f_za")
  LoadSceneViewerResource("c2.0", "h0201f_za")
  LoadSceneViewerResource("c3.0", "h0201f_za")
  LoadEnvironmentFile("c1.0", "es_m080_070_c1.0")
  LoadEnvironmentFile("c2.0", "es_m080_070_c2.0")
  LoadEnvironmentFile("c3.0", "es_m080_070_c3.0")
  WaitVistaLoad()
  SetPosition("HERO_01", -11.194, 0, 0.342, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 190, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -10.093, 0, 1.634, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 196.5, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_B_01", -12.044, 0, 1.634, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_B_01", 0, 178.5, 0, "LINEAR", 0, 0)
  SetPosition("chr411_01", -14.335, -6, -18.216, "LINEAR", 0, 0)
  SetRotation("chr411_01", 0, 240, 0, "LINEAR", 0, 0)
  SetPosition("chr411_02", -15.391, -6, -17.632, "LINEAR", 0, 0)
  SetRotation("chr411_02", 0, -157.5, 0, "LINEAR", 0, 0)
  SetPosition("npc109aa010101_01", -16.354, -6, -19.798, "LINEAR", 0, 0)
  SetRotation("npc109aa010101_01", 0, 456.129, 0, "LINEAR", 0, 0)
  SetPosition("npc110aa010101_01", -17.265, -6, -20.412, "LINEAR", 0, 0)
  SetRotation("npc110aa010101_01", 0, 415.757, 0, "LINEAR", 0, 0)
  BlendEye("npc109aa010101_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("npc109aa010101_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("npc110aa010101_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("npc110aa010101_01", -5, 15, 0, false, "SCURVE", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetStartFrame("HERO_01", "fn01_01", 0, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetBlink("HEROINE_01", 0, 1, 0)
  SetMouth("HEROINE_01", 1, 0, 0)
  PlayMotion("AEGIOMON_B_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr411_01", "bn01", 0, true, 0)
  SetFace("chr411_01", "F01_M01", 0, 2, 0, 0)
  PlayMotion("chr411_02", "fe01", 0, true, 0)
  SetFace("chr411_02", "F01_M01", 0, 2, 0, 0)
  PlayMotion("npc109aa010101_01", "e631", 0, true, 0)
  SetFace("npc109aa010101_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("npc110aa010101_01", "e011", 0, true, 0)
  SetFace("npc110aa010101_01", "F01", 0, 1, 0, 0)
  SetCamera(-18.664, -5.425, -20.363, -7, 45, "LINEAR", 0, false, 0)
  SetCameraTarget(-15.855, -5.2, -19.496, "LINEAR", 0, false, 0)
  SetCamera(-19.185, -5.467, -20.524, -7, 45, "LINEAR", 300, true, 0)
  SetCameraTarget(-15.855, -5.2, -19.496, "LINEAR", 300, true, 0)
  SetEnv_All("c1.0", 0)
  FIELD_SET()
  EVENT_START()
  NpcInvisible(FOR_ALL)
  CUT("1.0")
  Fade_In(0, FADE_TIME)
  WaitFrame(FADE_TIME)
  WaitFrame(10)
  Event_PlayVoice("vo_mpc411_Fun_001", 0)
  MessageTalk("m080_070_010")
  MessageTalk("m080_070_020")
  MessageClose()
  WaitFrame(10)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(-16.304, -5.415, -18.583, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-15.596, -5.248, -18.465, "LINEAR", 0, false, 0)
  PlayMotion("chr411_01", "fq01", 0, false, 0)
  PlayMotion("chr411_01", "bn01", 0, true, 60)
  SetFace("chr411_01", "F02_M01", 0, 2, 0, 0)
  PlayMotion("chr411_02", "f000", 0, true, 0)
  SetFace("chr411_02", "F01_M01", 0, 2, 0, 0)
  Event_PlayVoice("vo_mpc411_Joy_001", 0)
  MessageTalk("m080_070_030")
  MessageClose()
  WaitFrame(10)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(-16.738, -1.729, -10.395, 0, 50, "LINEAR", 0, false, 0)
  SetCameraTarget(-15.728, -5.216, -17.622, "LINEAR", 0, false, 0)
  PlayMotion("chr411_02", "bn01", 0, true, 0)
  PlayMotion("npc110aa010101_01", "fn06_01", 0, false, 0)
  SetFace("npc110aa010101_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m080_070_040")
  MessageClose()
  WaitFrame(30)
  if Debug.IsEventView() then
    EVENT_END()
  else
    EVENT_END_SEAMLESS(60)
  end
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m080_070()
end
