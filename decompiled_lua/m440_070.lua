require("include")

function m440_070()
  Fade_Out(1, 0)
  EVENT_BEGIN()
  Talk.Load("m440")
  SetEventCutNo(8)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("P2028_daft_440")
    LoadMap("t3003")
  end
  LoadModel("HOMEROS_01", "char_HOMEROS")
  LoadModel("YGGDRASILL_01", "char_YGGDRASILL")
  LoadModel("TOUHOU_01", "char_TOUHO")
  LoadSceneViewerResource("c1.0", "m440_070_c1.0")
  LoadSceneViewerResource("c2.0", "t3003f_pa")
  LoadSceneViewerResource("c3.0", "m440_070_c6.0")
  LoadSceneViewerResource("c4.0", "t3003f_pa")
  LoadSceneViewerResource("c5.0", "t3003f_pa")
  LoadSceneViewerResource("c6.0", "m440_070_c6.0")
  LoadSceneViewerResource("c7.0", "t3003f_pa")
  LoadSceneViewerResource("c8.0", "t3003f_pa")
  LoadEnvironmentFile("c1.0", "es_m440_070_c1.0")
  LoadEnvironmentFile("c2.0", "es_m440_070_c2.0")
  LoadEnvironmentFile("c3.0", "es_m440_070_c3.0")
  LoadEnvironmentFile("c4.0", "es_m440_070_c4.0")
  LoadEnvironmentFile("c5.0", "es_m440_070_c5.0")
  LoadEnvironmentFile("c6.0", "es_m440_070_c6.0")
  LoadEnvironmentFile("c7.0", "es_m440_070_c7.0")
  LoadEnvironmentFile("c8.0", "es_m440_070_c8.0")
  WaitVistaLoad()
  NpcInvisible(FOR_ALL)
  SetPosition("HOMEROS_01", 7.087, 0, -8.894, "LINEAR", 0, 0)
  SetRotation("HOMEROS_01", 0, 48.5, 0, "LINEAR", 0, 0)
  SetPosition("YGGDRASILL_01", 8, 0, -9.9, "LINEAR", 0, 0)
  SetRotation("YGGDRASILL_01", 0, 0, 0, "LINEAR", 0, 0)
  SetPosition("TOUHOU_01", 8.71, 0, -8.892, "LINEAR", 0, 0)
  SetRotation("TOUHOU_01", 0, -66, 0, "LINEAR", 0, 0)
  PlayMotion("HOMEROS_01", "fs01_01", 0, true, 0)
  SetFace("HOMEROS_01", "E02_M01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("YGGDRASILL_01", "fs01_01", 0, true, 0)
  SetFace("YGGDRASILL_01", "E02_M01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("TOUHOU_01", "fs01_01", 0, true, 0)
  SetStartFrame("TOUHOU_01", "fs01_01", 0, 0)
  SetFace("TOUHOU_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HOMEROS_01", -45, 0, "SCURVE", 0, 0)
  BlendFace("HOMEROS_01", -4, 2, -46, false, "SCURVE", 0, 0)
  BlendEye("YGGDRASILL_01", -11, 0, "SCURVE", 0, 0)
  BlendFace("YGGDRASILL_01", -26, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("TOUHOU_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("TOUHOU_01", 0, 0, 0, false, "SCURVE", 0, 0)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  SetCamera(2.5, 1.6, -11.4, 0, 55, "LINEAR", 0, false, 0)
  SetCameraTarget(5, 1.4, -11.4, "LINEAR", 0, false, 0)
  SetCamera(2.5, 1.6, -11.08, 0, 55, "LINEAR", 120, false, 0)
  SetCameraTarget(5, 1.4, -11.08, "LINEAR", 120, false, 0)
  Fade_In(1, 80)
  WaitFrame(120)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  BlendEye("YGGDRASILL_01", -11, 0, "SCURVE", 0, 0)
  BlendFace("YGGDRASILL_01", -26, 0, 0, true, "SCURVE", 0, 0)
  SetCamera(7.993, 0.93, -8.657, 0, 27, "LINEAR", 0, false, 0)
  SetCameraTarget(8.003, 0.856, -10.023, "LINEAR", 0, false, 0)
  WaitFrame(20)
  MessageTalk("m440_070_010")
  MessageClose()
  WaitFrame(10)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  BlendEye("HOMEROS_01", -45, 0, "SCURVE", 0, 0)
  BlendFace("HOMEROS_01", -4, 2, -46, false, "SCURVE", 0, 0)
  SetCamera(6.966, 0.448, -7.929, 0, 23, "LINEAR", 0, false, 0)
  SetCameraTarget(6.954, 0.892, -8.964, "LINEAR", 0, false, 0)
  WaitFrame(10)
  MessageTalk("m440_070_020")
  BlendEye("HOMEROS_01", 10, 0, "SCURVE", 15, 10)
  BlendFace("HOMEROS_01", 31, 2, -42, false, "SCURVE", 50, 0)
  MessageClose()
  WaitFrame(30)
  MessageTalk("m440_070_030")
  MessageClose()
  WaitFrame(10)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  BlendEye("YGGDRASILL_01", -11, 0, "SCURVE", 0, 0)
  BlendFace("YGGDRASILL_01", -26, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("YGGDRASILL_01", -11, 0, "SCURVE", 0, 0)
  BlendFace("YGGDRASILL_01", -26, 0, 0, true, "SCURVE", 0, 0)
  SetCamera(7.987, 1.015, -9.325, 0, 20, "LINEAR", 0, false, 0)
  SetCameraTarget(7.989, 0.968, -10.068, "LINEAR", 0, false, 0)
  WaitFrame(10)
  MessageTalk("m440_070_040")
  MessageClose()
  WaitFrame(10)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetPosition("YGGDRASILL_01", 8, 0, -9.9, "LINEAR", 0, 0)
  SetRotation("YGGDRASILL_01", 0, 0, 0, "LINEAR", 0, 0)
  BlendEye("HOMEROS_01", -28, -25, "SCURVE", 0, 0)
  BlendFace("HOMEROS_01", 13, -27, -44, false, "SCURVE", 0, 0)
  BlendEye("YGGDRASILL_01", -26, 0, "SCURVE", 0, 0)
  BlendFace("YGGDRASILL_01", -2, 0, -12, true, "SCURVE", 0, 0)
  BlendEye("TOUHOU_01", 27, 0, "SCURVE", 0, 0)
  BlendFace("TOUHOU_01", -23, -67, -6, false, "SCURVE", 0, 0)
  SetCamera(6.719, 0.966, -9.618, 0, 23, "LINEAR", 0, false, 0)
  SetCameraTarget(8.278, 0.822, -9.242, "LINEAR", 0, false, 0)
  BlendEye("TOUHOU_01", 27, 14, "SCURVE", 0, 0)
  BlendFace("TOUHOU_01", -11, -36, 0, false, "SCURVE", 40, 10)
  BlendFace("YGGDRASILL_01", -2, 25, -12, false, "SCURVE", 50, 10)
  BlendFace("HOMEROS_01", 13, 9, -44, false, "SCURVE", 70, 25)
  MessageTalk("m440_070_050")
  MessageClose()
  WaitFrame(10)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  BlendEye("HOMEROS_01", -32, 21, "SCURVE", 0, 0)
  BlendFace("HOMEROS_01", -24, -12, 0, false, "SCURVE", 0, 0)
  SetCamera(7.212, 1.001, -8.341, 0, 20, "LINEAR", 0, false, 0)
  SetCameraTarget(6.809, 0.997, -9.111, "LINEAR", 0, false, 0)
  WaitFrame(20)
  MessageTalk("m440_070_060")
  BlendEye("HOMEROS_01", 33, 0, "SCURVE", 25, 30)
  BlendFace("HOMEROS_01", 38, -27, -44, false, "SCURVE", 80, 0)
  MessageClose()
  WaitFrame(10)
  MessageTalk("m440_070_070")
  MessageClose()
  WaitFrame(10)
  CUT("7.0")
  SetEnv_All("c7.0", 0)
  SetPosition("YGGDRASILL_01", 7.989, 0, -9.9, "LINEAR", 0, 0)
  SetRotation("YGGDRASILL_01", 0, 0, 0, "LINEAR", 0, 0)
  BlendEye("YGGDRASILL_01", -1, -37, "SCURVE", 0, 0)
  BlendFace("YGGDRASILL_01", 14, -39, 0, true, "SCURVE", 0, 0)
  SetCamera(7.987, 1.015, -9.325, 0, 20, "LINEAR", 0, false, 0)
  SetCameraTarget(7.989, 0.968, -10.068, "LINEAR", 0, false, 0)
  BlendEye("YGGDRASILL_01", -11, 0, "SCURVE", 10, 10)
  BlendFace("YGGDRASILL_01", -26, 0, 0, true, "SCURVE", 40, 0)
  WaitFrame(30)
  MessageTalk("m440_070_080")
  MessageClose()
  WaitFrame(10)
  CUT("8.0")
  SetEnv_All("c8.0", 0)
  SetCamera(7.996, 1.1, -2.801, 0, 65, "LINEAR", 0, false, 0)
  SetCameraTarget(7.909, 0.52, -8.922, "LINEAR", 0, false, 0)
  SetCamera(8.005, 1.164, -2.125, 0, 65, "LINEAR", 140, true, 0)
  SetCameraTarget(7.909, 0.52, -8.922, "LINEAR", 140, true, 0)
  WaitFrame(20)
  Fade_OutNoLoadingWithWait(1, 120)
  Vista.SetKeepBGM()
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m440_070()
end
