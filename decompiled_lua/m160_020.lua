require("include")

function m160_020()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m160")
  SetEventCutNo(9)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2020_dbef_160")
    LoadMap("d0606")
  end
  LoadModel("chr918_01", "char_LOCOMON_EVENT")
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  LoadModel("DIGI_MINERVAMON_01", "char_MINERVAMON")
  LoadModel("chr002_01", "char_LUNAMON")
  LoadModel("chr136_01", "char_CORONAMON")
  LoadEffectScript("ef_f_chu_015_sm_01", "ef_f_chu_015_sm")
  LoadSceneViewerResource("c1.0", "m160_020_c1.0")
  LoadSceneViewerResource("c2.0", "d0606f_sa")
  LoadSceneViewerResource("c3.0", "d0606f_sa")
  LoadSceneViewerResource("c4.0", "d0606f_sa")
  LoadSceneViewerResource("c5.0", "d0606f_sa")
  LoadSceneViewerResource("c6.0", "d0606f_sa")
  LoadSceneViewerResource("c7.0", "d0606f_sa")
  LoadSceneViewerResource("c8.0", "d0606f_sa")
  LoadSceneViewerResource("c9.0", "d0606f_sa")
  LoadEnvironmentFile("c1.0", "es_m160_020_c1.0")
  LoadEnvironmentFile("c2.0", "es_m160_020_c2.0")
  LoadEnvironmentFile("c3.0", "es_m160_020_c3.0")
  LoadEnvironmentFile("c4.0", "es_m160_020_c4.0")
  LoadEnvironmentFile("c5.0", "es_m160_020_c5.0")
  LoadEnvironmentFile("c6.0", "es_m160_020_c6.0")
  LoadEnvironmentFile("c7.0", "es_m160_020_c7.0")
  LoadEnvironmentFile("c8.0", "es_m160_020_c8.0")
  LoadEnvironmentFile("c9.0", "es_m160_020_c9.0")
  WaitVistaLoad()
  SetPosition("chr918_01", 0.107, 6.053, 240, "LINEAR", 0, 0)
  SetRotation("chr918_01", 0, 180, 0, "LINEAR", 0, 0)
  SetScale("chr918_01", 0.75, 0.75, 0.75)
  SetPosition("HERO_01", 11, 6.57, 154.726, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 190, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 10.409, 6.57, 154.736, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", 11.45, 6.64, 154.596, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 195, 0, "LINEAR", 0, 0)
  SetPosition("DIGI_MINERVAMON_01", 11.8, 6.57, 155.67, "LINEAR", 0, 0)
  SetRotation("DIGI_MINERVAMON_01", 0, 200, 0, "LINEAR", 0, 0)
  SetPosition("chr002_01", 10.249, 6.57, 146.606, "LINEAR", 0, 0)
  SetRotation("chr002_01", 0, 10, 0, "LINEAR", 0, 0)
  SetScale("chr002_01", 0.44, 0.44, 0.44)
  SetPosition("chr136_01", 8.858, 6.57, 146.919, "LINEAR", 0, 0)
  SetRotation("chr136_01", 0, 15, 0, "LINEAR", 0, 0)
  SetScale("chr136_01", 1, 1, 1)
  PlayMotion("chr918_01", "br01", 0, true, 0)
  ChangeDigimonFace("chr918_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr918_01", 1, 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("DIGI_MINERVAMON_01", "e031", 0, true, 0)
  SetStartFrame("DIGI_MINERVAMON_01", "e031", 46, 0)
  SetFace("DIGI_MINERVAMON_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr002_01", "bn01", 0, false, 0)
  ChangeDigimonFace("chr002_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr002_01", 1, 0, 0)
  PlayMotion("chr136_01", "bn01", 0, false, 0)
  SetFace("chr136_01", "F01_M01", 0, 2, FACE_BLENDTIME, 0)
  SetPosition("chr918_01", 0.108, 6.053, 130, "DECEL", 240, 0)
  BlendFaceDigi("chr918_01", 0, 0, 0, "SCURVE", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -20, -7, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", -20, -20, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -48, 0, 0, true, "SCURVE", 0, 0)
  BlendFaceDigi("DIGI_MINERVAMON_01", -20, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr002_01", 0, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr136_01", 0, 0, 0, "SCURVE", 0, 0)
  Vista.AttachEffectToModel("ef_f_chu_015_sm_01", "chr918_01", "J_spine")
  PlayEffect("ef_f_chu_015_sm_01", false, 0)
  SetEnv_All("c1.0", 0)
  SetCamera(8.061, 10.807, 236.094, 0, 70, "LINEAR", 0, true, 0)
  SetCameraTarget(0, 8, 200, "LINEAR", 0, true, 0)
  SetCamera(13.601, 17.129, 190.698, 0, 70, "DECEL", 150, false, 0)
  SetCameraTarget(0, 20.854, 129.21, "DECEL", 150, false, 0)
  local slot_01 = Event_PlaySE(403066, 100, true, 1, 0)
  FIELD_SET()
  NpcInvisible(FOR_ALL)
  EVENT_START()
  SetMobTransparentRange(20000, 20000, 20000)
  CUT("1.0")
  ModelVisible("HERO_01", false, 0, 0)
  ModelVisible("HEROINE_01", false, 0, 0)
  ModelVisible("AEGIOMON_01", false, 0, 0)
  ModelVisible("DIGI_MINERVAMON_01", false, 0, 0)
  SetCamera(13.601, 30.519, 190.698, 0, 70, "SCURVE", 180, false, 100)
  SetCameraTarget(0, 69.598, 136.85, "SCURVE", 180, false, 100)
  Fade_In(0, 30)
  Event_StopSE(slot_01, 4, 4)
  WaitFrame(220)
  Story.OpenCharacterEntry("char_GUARDIAN_PALACE")
  WaitFrame(140)
  PlayMotion("chr918_01", "bn01", 30, true, 0)
  Story.IsClosedCharacterEntry()
  WaitFrame(40)
  Fade_OutNoLoading(FADE_BLACK, 30)
  WaitFrame(45)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(11.537, 7.775, 153.702, 0, 50, "LINEAR", 0, false, 0)
  SetCameraTarget(11.132, 7.932, 154.659, "LINEAR", 0, false, 0)
  SetCamera(11.537, 7.695, 153.702, 0, 50, "LINEAR", 90, true, 0)
  SetCameraTarget(11.132, 7.852, 154.659, "LINEAR", 90, true, 0)
  ModelVisible("HERO_01", true, 0, 0)
  ModelVisible("HEROINE_01", true, 0, 0)
  ModelVisible("AEGIOMON_01", true, 0, 0)
  ModelVisible("DIGI_MINERVAMON_01", true, 0, 0)
  Fade_In(FADE_BLACK, 30)
  WaitFrame(50)
  EndMotion("DIGI_MINERVAMON_01", 0)
  SetFace("HERO_01", "F16", 0, 1, FACE_BLENDTIME, 10)
  SetFace("HEROINE_01", "F16", 0, 1, FACE_BLENDTIME, 20)
  SetFace("AEGIOMON_01", "F16", 0, 1, FACE_BLENDTIME, 14)
  BlendEye("HERO_01", 14, 0, "SCURVE", 4, 10)
  BlendFace("HERO_01", 50, -7, 0, true, "SCURVE", 30, 10)
  BlendEye("HEROINE_01", 15, 0, "SCURVE", 4, 22)
  BlendFace("HEROINE_01", 47.975, -10, 0, true, "SCURVE", 26, 22)
  BlendEye("AEGIOMON_01", 15, 0, "SCURVE", 4, 14)
  BlendFace("AEGIOMON_01", 24.125, 0, 0, true, "SCURVE", 32, 16)
  BlendFaceDigi("DIGI_MINERVAMON_01", 0, 0, 0, "SCURVE", 30, 16)
  local slot_02 = Event_PlaySE(403021, 80, false, 0, 0)
  WaitFrame(16)
  local slot_02 = Event_PlaySE(403021, 90, false, 0, 0)
  WaitFrame(16)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(9.615, 6.986, 146.32, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(11.059, 7.135, 154.668, "LINEAR", 0, false, 0)
  SetPosition("HERO_01", 10.94, 6.57, 154.726, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 190, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 10.409, 6.57, 154.736, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", 11.45, 6.57, 154.596, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 195, 0, "LINEAR", 0, 0)
  SetPosition("DIGI_MINERVAMON_01", 12.039, 6.57, 155.485, "LINEAR", 0, 0)
  SetRotation("DIGI_MINERVAMON_01", 0, 200, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 25, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 20, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 15, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", 20, 0, 0, true, "SCURVE", 0, 0)
  BlendFaceDigi("DIGI_MINERVAMON_01", 0, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr002_01", -20, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr136_01", -22, 0, 0, "SCURVE", 0, 0)
  MovePosition("chr002_01", 11.462, 6.57, 153.4, true, 2, 0)
  MoveRotation("chr002_01", 0, 0, 0, "LINEAR", 2, true, 0)
  MovePosition("chr136_01", 10.723, 6.57, 153.45, false, 4, 10)
  MoveRotation("chr136_01", 0, 23.5, 0, "LINEAR", 3, true, 0)
  local slot_02 = Event_PlaySE(403021, 100, false, 0, 0)
  WaitFrame(16)
  local slot_02 = Event_PlaySE(403021, 100, false, 0, 0)
  WaitFrame(16)
  local slot_02 = Event_PlaySE(403021, 90, false, 0, 0)
  WaitFrame(16)
  local slot_02 = Event_PlaySE(403021, 80, false, 0, 0)
  WaitFrame(12)
  Event_StopSE(slot_02, 0, 0)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetCamera(12.264, 7.961, 155.171, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(11.448, 7.434, 154.397, "LINEAR", 0, false, 0)
  SetPosition("AEGIOMON_01", 11.5, 6.57, 154.756, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 195, 0, "LINEAR", 0, 0)
  BlendEye("AEGIOMON_01", 15, 0, "SCURVE", 4, 0)
  BlendFace("AEGIOMON_01", 35, -17, 0, true, "SCURVE", 24, 0)
  BlendFaceDigi("chr002_01", -32, 0, 0, "SCURVE", 0, 0)
  local slot_04 = Event_PlaySE(403021, 100, false, 0, 0.2)
  WaitFrame(26)
  PlayMotion("chr136_01", "e004", 6, true, 0)
  SetFace("chr136_01", "F02_M01", 0, 2, FACE_BLENDTIME, 0)
  SetFace("chr136_01", "F01_M01", 0, 2, FACE_BLENDTIME, 30)
  BlendFaceDigi("chr136_01", -22, -5, 0, "SCURVE", 24, 50)
  MessageTalk("m160_030_010")
  MessageClose()
  WaitFrame(10)
  EndMotion("chr136_01", 0)
  BlendFaceDigi("chr136_01", -22, 5, 0, "SCURVE", 20, 0)
  PlayMotion("chr002_01", "e002", 4, false, 0)
  PlayMotion("chr002_01", "bn01", 4, true, 70)
  SetFace("chr136_01", "F01_M01", 0, 2, FACE_BLENDTIME, 0)
  BlendFaceDigi("chr002_01", -32, -20, 0, "SCURVE", 26, 10)
  MessageTalk("m160_030_020")
  MessageClose()
  WaitFrame(10)
  BlendFaceDigi("chr002_01", -26, -6, 0, "SCURVE", 36, 0)
  WaitFrame(16)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetCamera(11.571, 7.47, 154.463, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(11.431, 7.035, 153.344, "LINEAR", 0, false, 0)
  SetFace("chr002_01", "F02", 0, 1, FACE_BLENDTIME, 6)
  MessageTalk("m160_030_030")
  MessageClose()
  WaitFrame(10)
  SetFace("chr002_01", "F01", 0, 1, FACE_BLENDTIME, 10)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  SetCamera(11.501, 7.342, 153.715, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(11.485, 7.556, 154.756, "LINEAR", 0, false, 0)
  BlendFace("AEGIOMON_01", 30, -17, 0, true, "SCURVE", 0, 0)
  MessageTalk("m160_030_035")
  MessageClose()
  WaitFrame(10)
  BlendFace("AEGIOMON_01", 30, -17, 37, true, "SCURVE", 30, 0)
  SetFace("AEGIOMON_01", "F07", 0, 1, 4, 0)
  SetFace("AEGIOMON_01", "E07_M01", 0, 1, 4, 15)
  Vista.SetEnableLipSyncsAnimation("AEGIOMON_01", false)
  MessageTalk("m160_030_040")
  MessageClose()
  WaitFrame(10)
  SetCamera(11.501, 7.342, 153.715, 0, 30, "SCURVE_B", 40, false, 10)
  SetCameraTarget(11.585, 7.556, 154.756, "SCURVE_B", 40, false, 10)
  PlayMotion("DIGI_MINERVAMON_01", "e002", 4, true, 0)
  SetFace("AEGIOMON_01", "E02_M12", 0, 1, FACE_BLENDTIME, 10)
  BlendEye("AEGIOMON_01", -1, -58, "SCURVE", 6, 10)
  BlendFace("AEGIOMON_01", -15, -30, 15, true, "SCURVE", 34, 10)
  MessageTalk("m160_030_050")
  MessageClose()
  WaitFrame(10)
  CUT("7.0")
  SetEnv_All("c7.0", 0)
  SetCamera(12.659, 8.082, 155.962, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(11.945, 7.606, 154.945, "LINEAR", 0, false, 0)
  SetPosition("chr002_01", 11.822, 6.57, 153.4, "LINEAR", 0, 0)
  SetRotation("chr002_01", 0, 0, 0, "LINEAR", 0, 0)
  SetPosition("chr136_01", 11.083, 6.57, 153.45, "LINEAR", 0, 0)
  SetRotation("chr136_01", 0, 23.5, 0, "LINEAR", 0, 0)
  BlendFaceDigi("chr002_01", -26, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr136_01", -25, 0, 0, "SCURVE", 0, 0)
  ModelVisible("AEGIOMON_01", false, 0, 0)
  PlayMotion("chr002_01", "e006", 4, true, 0)
  MessageTalk("m160_030_060")
  MessageClose()
  WaitFrame(10)
  PlayMotion("chr136_01", "e008", 4, true, 0)
  MessageTalk("m160_030_070")
  MessageClose()
  WaitFrame(10)
  CUT("8.0")
  SetEnv_All("c8.0", 0)
  SetCamera(12.032, 7.64, 154.469, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(12.015, 7.793, 155.399, "LINEAR", 0, false, 0)
  local slot_02 = Event_PlaySE(400025, 100, false, 0, 0.65)
  PlayMotion("DIGI_MINERVAMON_01", "e032", 4, true, 0)
  BlendFaceDigi("DIGI_MINERVAMON_01", -10, 27, 0, "SCURVE", 0, 0)
  EndMotion("DIGI_MINERVAMON_01", 30)
  MessageTalk("m160_030_080")
  MessageClose()
  WaitFrame(10)
  MOTION_WAIT("DIGI_MINERVAMON_01", 0, 0)
  CUT("9.0")
  SetEnv_All("c9.0", 0)
  SetMobTransparentRange(20, 20, 20)
  SetCamera(11.609, 7.988, 155.508, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(11.414, 8.092, 154.679, "LINEAR", 0, false, 0)
  ModelVisible("AEGIOMON_01", true, 0, 0)
  ModelVisible("DIGI_MINERVAMON_01", false, 0, 0)
  ModelVisible("chr002_01", false, 0, 0)
  ModelVisible("chr136_01", false, 0, 0)
  ModelVisible("chr918_01", false, 0, 0)
  ModelVisible("ef_f_chu_015_sm_01", false, 0, 0)
  SetPosition("HERO_01", 11.41, 6.57, 154.726, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 100, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", 12.3, 6.57, 154.756, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 195, 0, "LINEAR", 0, 0)
  PlayMotionBlend("HERO_01", "blend01", 0, false, 0)
  SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 13, -26, "SCURVE", 0, 0)
  BlendFace("HERO_01", 32, -68, 0, true, "SCURVE", 0, 0)
  BLEND_WAIT("HERO_01", 0)
  SetRotation("HERO_01", 0, 190, 0, "LINEAR", 45, 0)
  PlayMotion("HERO_01", "ft01_02", 4, false, 0)
  PlayMotion("HERO_01", "fn01_01", 4, true, 45)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 30)
  BlendEye("HERO_01", 0, 0, "SCURVE", 6, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 30, 0)
  WaitFrame(50)
  if Debug.IsEventView() then
    EVENT_END()
  else
    EVENT_END_SEAMLESS(60)
  end
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m160_020()
end
