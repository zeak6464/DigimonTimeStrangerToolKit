require("include")

function m400_020()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m400")
  SetEventCutNo(8)
  if Debug.IsEventView() then
    SetTimeAxis("P2028_daft_400")
    LoadMap("d0109")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("chr824_01", "char_DIANAMON_ADD")
  LoadModel("chr931_01", "char_APOLLOMON_ADD")
  Vista.BindSpeaker("chr931_01", "char_APOLLOMON")
  LoadSceneViewerResource("c1.0", "d0109f_sa")
  LoadSceneViewerResource("c2.0", "d0109f_sa")
  LoadSceneViewerResource("c3.0", "d0109f_sa")
  LoadSceneViewerResource("c4.0", "d0109f_sa")
  LoadSceneViewerResource("c5.0", "d0109f_sa")
  LoadSceneViewerResource("c6.0", "d0109f_sa")
  LoadSceneViewerResource("c7.0", "d0109f_sa")
  LoadSceneViewerResource("c8.0", "d0109f_sa")
  LoadEnvironmentFile("c1.0", "es_m400_020_c1.0")
  LoadEnvironmentFile("c2.0", "es_m400_020_c2.0")
  LoadEnvironmentFile("c3.0", "es_m400_020_c3.0")
  LoadEnvironmentFile("c4.0", "es_m400_020_c4.0")
  LoadEnvironmentFile("c5.0", "es_m400_020_c5.0")
  LoadEnvironmentFile("c6.0", "es_m400_020_c6.0")
  LoadEnvironmentFile("c7.0", "es_m400_020_c7.0")
  LoadEnvironmentFile("c8.0", "es_m400_020_c8.0")
  WaitVistaLoad()
  SetPosition("HERO_01", 0.057, 20.78, -73.011, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 196.5, 0, "LINEAR", 0, 0)
  SetScale("HERO_01", 1, 1, 1)
  SetPosition("chr824_01", -0.408, 30.448, -86.489, "LINEAR", 0, 0)
  SetRotation("chr824_01", 0, 23, 0, "LINEAR", 0, 0)
  SetPosition("chr931_01", -1.863, 20.78, -73.279, "LINEAR", 0, 0)
  SetRotation("chr931_01", 0, 183.5, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr824_01", "e100", 0, true, 0)
  SetFace("chr824_01", "F03", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr931_01", "bn01", 0, true, 0)
  SetFace("chr931_01", "F03_M01", 0, 2, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -62, 0, 0, true, "SCURVE", 0, 0)
  SetEyeUVOffsetDigi("chr824_01", 0, 0.018, "SCURVE", 0, 0)
  BlendFaceDigi("chr824_01", 28, 0, 0, "SCURVE", 0, 0)
  BlendFaceDigi("chr931_01", -16, 0, 0, "SCURVE", 0, 0)
  SetCamera(-1.459, 22.471, -60.714, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.64, 24.912, -76.962, "LINEAR", 0, false, 0)
  SetCamera(-1.569, 26.869, -60.059, 0, 30, "LINEAR", 180, false, 0)
  SetCameraTarget(-0.749, 29.311, -76.306, "LINEAR", 180, false, 0)
  FIELD_SET()
  EVENT_START()
  NpcInvisible(FOR_ALL)
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  Fade_In(0, 60)
  WaitFrame(180)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(0.479, 32.082, -81.242, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.189, 32.188, -85.715, "LINEAR", 0, false, 0)
  SetCamera(0.48, 33.678, -81.204, 0, 30, "LINEAR", 90, true, 0)
  SetCameraTarget(-0.188, 33.784, -85.678, "LINEAR", 90, true, 0)
  WaitFrame(130)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(-0.363, 27.364, -78.846, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(-2.127, 25.831, -72.801, "LINEAR", 0, false, 0)
  MessageTalk("m400_020_060")
  MessageClose()
  WaitFrame(10)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetCamera(2.002, 34.556, -83.555, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(0.185, 33.9, -86.085, "LINEAR", 0, false, 0)
  PlayMotionBlend("chr824_01", "blend05", 3, false, 0)
  MessageTalk("m400_020_070")
  MessageClose()
  WaitFrame(10)
  WaitFrame(15)
  BlendFaceDigi("chr824_01", 45, 20, 0, "SCURVE", 60, 0)
  SetEyeUVOffsetDigi("chr824_01", 0, 0.018, "SCURVE", 0, 0)
  SetFace("chr824_01", "F03", 2, 1, FACE_BLENDTIME, 30)
  MessageTalk("m400_020_080")
  MessageClose()
  WaitFrame(10)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetCamera(0.785, 32.24, -83.076, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.073, 33.697, -86.105, "LINEAR", 0, false, 0)
  SetCamera(0.568, 32.608, -83.841, 0, 25, "LINEAR", 10, true, 0)
  SetCameraTarget(-0.073, 33.697, -86.105, "LINEAR", 10, true, 0)
  BlendFaceDigi("chr824_01", 28, 0, 0, "SCURVE", 12, 0)
  SetFace("chr824_01", "F03", 0, 0, FACE_BLENDTIME, 5)
  MessageTalk("m400_020_090")
  MessageClose()
  WaitFrame(10)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  SetCamera(-0.403, 28.173, -80.185, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(-2.079, 25.472, -72.998, "LINEAR", 0, false, 0)
  MessageTalk("m400_020_100")
  MessageClose()
  WaitFrame(10)
  PlayMotion("chr931_01", "e002", 5, false, 0)
  PlayMotion("chr931_01", "bn01", 3, true, 60)
  SetFace("chr931_01", "F03_M01", 0, 2, FACE_BLENDTIME, 0)
  MessageTalk("m400_020_110")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m400_020_120")
  MessageClose()
  WaitFrame(10)
  PlayMotion("chr931_01", "e007", 5, true, 0)
  SetFace("chr931_01", "F03_M01", 0, 2, FACE_BLENDTIME, 0)
  SetCamera(-0.72, 27.662, -78.825, 0, 25, "SCURVE", 10, false, 0)
  SetCameraTarget(-2.079, 25.472, -72.998, "SCURVE", 10, false, 0)
  MessageTalk("m400_020_130")
  MessageClose()
  WaitFrame(10)
  CUT("7.0")
  SetEnv_All("c7.0", 0)
  SetCamera(0.239, 27.862, -79.388, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(-2.166, 23.381, -73.012, "LINEAR", 0, false, 0)
  SetCamera(-0.066, 29.357, -78.452, 0, 25, "LINEAR", 30, true, 0)
  SetCameraTarget(-2.471, 24.877, -72.076, "LINEAR", 30, true, 0)
  BlendFaceDigi("chr931_01", -33, 0, 0, "SCURVE", 30, 0)
  PlayMotion("chr931_01", "e005", 5, true, 0)
  Event_StopBGM(2, 0)
  MessageTalk("m400_020_150")
  MessageClose()
  WaitFrame(10)
  CUT("8.0")
  SetEnv_All("c8.0", 0)
  BlendFaceDigi("chr931_01", -11, 0, 0, "SCURVE", 0, 0)
  SetCamera(3.327, 22.943, -75.856, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.121, 24.656, -72.616, "LINEAR", 0, false, 0)
  SetCamera(2.622, 22.956, -76.613, 0, 25, "LINEAR", 30, true, 0)
  SetCameraTarget(-0.826, 24.669, -73.372, "LINEAR", 30, true, 0)
  PlayMotion("chr931_01", "e210", 0, true, 0)
  SetFace("chr931_01", "F03_M01", 0, 2, FACE_BLENDTIME, 0)
  Event_PlayBGM(932, 0, 0)
  MessageTalk("m400_020_160")
  MessageClose()
  WaitFrame(10)
  Event_PlaySE(300018, 100, false, 0, 0)
  Fade_OutNoLoadingWithWait(FADE_WHITE, 10)
  WaitFrame(60)
  Vista.SetKeepBGM()
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m400_020()
end
