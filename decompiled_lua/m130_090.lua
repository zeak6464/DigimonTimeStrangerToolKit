require("include")

function m130_090()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m130")
  SetEventCutNo("3")
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2020_dbef_130")
    LoadMap("d0217")
  end
  LoadModel("chr136_01", "char_CORONAMON")
  LoadModel("chr747_01", "char_MINERVAMON")
  LoadModel("chr924_01", "char_BEARMON_OB")
  LoadModel("chr925_01", "char_BEARMON_YB")
  Vista.LoadAnimation("chr136_01", "bn01")
  Vista.LoadAnimation("chr136_01", "e004")
  Vista.LoadAnimation("chr747_01", "e007")
  Vista.LoadAnimation("chr747_01", "e013")
  Vista.LoadAnimation("chr747_01", "fn01_01")
  Vista.LoadAnimation("chr924_01", "ba02")
  Vista.LoadAnimation("chr924_01", "bn01")
  Vista.LoadAnimation("chr925_01", "ba02")
  Vista.LoadAnimation("chr925_01", "bn01")
  Vista.LoadAnimationBlend("chr747_01", "blend02")
  LoadSceneViewerResource("c1.0", "d0217f_sa")
  LoadSceneViewerResource("c2.0", "d0217f_sa")
  LoadSceneViewerResource("c3.0", "d0217f_sa")
  LoadEnvironmentFile("c1.0", "es_m130_090_c1.0")
  LoadEnvironmentFile("c2.0", "es_m130_090_c2.0")
  LoadEnvironmentFile("c3.0", "es_m130_090_c3.0")
  WaitVistaLoad()
  SetPosition("chr136_01", -1.288, -34.593, 3.553, "LINEAR", 0, 0)
  SetRotation("chr136_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("chr747_01", -0.229, -34.6, 4.513, "LINEAR", 0, 0)
  SetRotation("chr747_01", 0, 194.5, 0, "LINEAR", 0, 0)
  SetPosition("chr924_01", -3.047, -34.593, 5.162, "LINEAR", 0, 0)
  SetRotation("chr924_01", 0, 145.362, 0, "LINEAR", 0, 0)
  SetPosition("chr925_01", -2.438, -34.593, 6.046, "LINEAR", 0, 0)
  SetRotation("chr925_01", 0, 161.131, 0, "LINEAR", 0, 0)
  PlayMotion("chr136_01", "bn01", 0, true, 0)
  ChangeDigimonFace("chr136_01", EYE_EXPRESSION_SMILE, 0)
  SetMouth("chr136_01", 1, 0, 0)
  PlayMotion("chr747_01", "fn01_01", 0, true, 0)
  ChangeDigimonFace("chr747_01", EYE_EXPRESSION_SMILE, 0)
  SetMouth("chr747_01", 1, 0, 0)
  PlayMotion("chr924_01", "bn01", 0, false, 0)
  ChangeDigimonFace("chr924_01", EYE_EXPRESSION_SMILE, 0)
  SetMouth("chr924_01", 1, 0, 0)
  PlayMotion("chr925_01", "bn01", 0, false, 0)
  ChangeDigimonFace("chr925_01", EYE_EXPRESSION_SMILE, 0)
  SetMouth("chr925_01", 1, 0, 0)
  BlendFaceDigi("chr747_01", 1, -6, 0, "LINEAR", 0, 0)
  BlendFaceDigi("chr136_01", -7, 23, 0, "LINEAR", 0, 0)
  BlendFaceDigi("chr924_01", 0, 0, 0, "LINEAR", 0, 0)
  BlendFaceDigi("chr925_01", 0, 0, 0, "LINEAR", 0, 0)
  SetEnv_All("c1.0", 0)
  SetCamera(-0.722, -33.971, 2.76, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.287, -33.465, 4.457, "LINEAR", 0, false, 0)
  Event_StopBGM(3, 0)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  Fade_In(0, FADE_TIME)
  WaitFrame(FADE_TIME)
  PlayMotion("chr747_01", "e004", 6, true, 0)
  SetFace("chr747_01", "F01_M02", 0, 1, FACE_BLENDTIME, 0)
  SetCamera(-0.604, -33.793, 3.223, 0, 30, "SCURVE", 30, false, 0)
  SetCameraTarget(-0.287, -33.465, 4.457, "SCURVE", 30, false, 0)
  Vista.SetEnableLipSyncsAnimation("chr747_01", false)
  MessageTalk("m130_090_010")
  MessageClose()
  WaitFrame(10)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetPosition("chr136_01", -0.83, -34.593, 3.553, "LINEAR", 0, 0)
  SetRotation("chr136_01", 0, 156, 0, "LINEAR", 0, 0)
  SetPosition("chr747_01", 0.229, -34.6, 4.513, "LINEAR", 0, 0)
  SetRotation("chr747_01", 0, 194.5, 0, "LINEAR", 0, 0)
  SetCamera(-0.739, -34.069, 0.624, -5, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.91, -34.099, 5.574, "LINEAR", 0, false, 0)
  SetCamera(-0.761, -34.072, 1.258, -5, 40, "ACECEL", 3, false, 0)
  SetCameraTarget(-0.91, -34.099, 5.574, "ACECEL", 3, false, 0)
  Event_PlayBGM(708, 0, 0)
  PlayMotion("chr136_01", "e004", 0, true, 0)
  WaitFrame(6)
  PlayMotion("chr924_01", "ba02", 0, true, 0)
  WaitFrame(6)
  PlayMotion("chr925_01", "ba02", 0, true, 0)
  BlendFaceDigi("chr136_01", -7, 23, 0, "LINEAR", 12, 0)
  WaitFrame(10)
  BlendFaceDigi("chr747_01", 6, 27, 0, "SCURVE", 20, 0)
  EndMotion("chr747_01", 0)
  SetFace("chr747_01", "F01_M05", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m130_090_020")
  MessageClose()
  WaitFrame(10)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  ModelVisible("chr924_01", false, 0, 0)
  ModelVisible("chr925_01", false, 0, 0)
  SetRotation("chr747_01", 0, 217, 0, "LINEAR", 0, 0)
  SetCamera(-0.41, -33.528, 3.34, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(0.305, -33.35, 4.736, "LINEAR", 0, false, 0)
  PlayMotion("chr747_01", "e033", 0, true, 0)
  SetFace("chr747_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  BlendFaceDigi("chr747_01", -2, 10, 0, "SCURVE", 0, 0)
  SetFace("chr747_01", "F01_M02", 0, 1, FACE_BLENDTIME, 0)
  Vista.SetEnableLipSyncsAnimation("chr747_01", false)
  MessageTalk("m130_090_030")
  MessageClose()
  WaitFrame(10)
  Vista.SetEnableLipSyncsAnimation("chr747_01", true)
  Event_StopBGM(2, 0)
  FadeOutWithWaitNotFlgCheck(FADE_BLACK, 30)
  WaitFrame(60)
  Vista.SetKeepBGM()
  if Debug.IsEventView() then
    Event_StopBGM(0, 0)
  end
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m130_090()
end
