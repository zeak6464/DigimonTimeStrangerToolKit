require("include")

function m420_015()
  Fade_Out(1, 0)
  EVENT_BEGIN()
  Talk.Load("m420")
  SetEventCutNo(4)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("P2028_daft_420")
    LoadMap("h0101")
  end
  LoadModel("HERO_01", "Player")
  Vista.LoadAnimation("HERO_01", "fg14_n01")
  Vista.LoadAnimation("HERO_01", "fg14_w02")
  Vista.LoadAnimation("HERO_01", "e502")
  Vista.LoadAnimationFace("HERO_01", "e15", "m10")
  Vista.LoadAnimationFace("HERO_01", "e10", "m10")
  Vista.LoadAnimationFace("HERO_01", "e14", "m14")
  Vista.LoadAnimationFace("HERO_01", "e05", "m03")
  Vista.LoadAnimationFace("HERO_01", "e15", "m16")
  Vista.LoadAnimationFace("HERO_01", "e16", "m16")
  LoadSceneViewerResource("c1.0", "h0101f_za")
  LoadSceneViewerResource("c2.0", "h0101f_za")
  LoadSceneViewerResource("c3.0", "h0101f_za")
  LoadSceneViewerResource("c4.0", "h0101f_za")
  LoadEnvironmentFile("c1.0", "es_m420_015_c1.0")
  LoadEnvironmentFile("c2.0", "es_m420_015_c2.0")
  LoadEnvironmentFile("c3.0", "es_m420_015_c3.0")
  LoadEnvironmentFile("c4.0", "es_m420_015_c4.0")
  WaitVistaLoad()
  SetPosition("HERO_01", 153.622, -0.34, -0, "LINEAR", 0, 0)
  SetRotation("HERO_01", 15, -90, 0, "LINEAR", 0, 0)
  SetScale("HERO_01", 1, 1, 1)
  PlayMotion("HERO_01", "fg14_n01", 0, true, 0)
  SetFace("HERO_01", "F16", 0, 1, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendFace("HERO_01", 20, 85, 0, true, "SCURVE", 70, 10)
  SetEnv_All("c1.0", 0)
  SetCamera(153.101, 0.7, 0.51, 10, 50, "LINEAR", 0, false, 0, false)
  SetCameraTarget(147.513, 0.3, -0, "LINEAR", 0, false, 0, false)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  SetCamera(146.855, 0.68, 2.185, 10, 50, "SCURVE_B", 230, false, 90, false)
  SetCameraTarget(148.63, 0.8, 0, "SCURVE_B", 220, false, 40, false)
  SetCameraTarget(148.63, 0.62, 0, "LINEAR", 60, true, 260, false)
  SetPosition("HERO_01", 148.656, 0.25, 0, "DECEL", 200, 0)
  SetRotation("HERO_01", 0, -90, 0, "SCURVE", 60, 20)
  SetFace("HERO_01", "E15_M10", 0, 1, 10, 280)
  BlendFace("HERO_01", -35, -80, 0, true, "SCURVE", 60, 100)
  BlendEye("HERO_01", 15, 46, "SCURVE", 10, 190)
  BlendFace("HERO_01", -30, 65, -30, true, "SCURVE", 80, 190)
  BlendEye("HERO_01", 15, 0, "SCURVE", 16, 290)
  BlendFace("HERO_01", 30, 15, 30, true, "SCURVE", 60, 280)
  Fade_In(1, 80)
  Event_PlayBGM(941, 0, 9)
  WaitFrame(320)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(148.254, 1.199, 0.467, 10, 50, "LINEAR", 0, false, 0, false)
  SetCameraTarget(148.633, 1.27, 0, "LINEAR", 0, false, 0, false)
  SetCamera(147.644, 0.904, 0.756, 10, 50, "LINEAR", 500, true, 0, false)
  SetCameraTarget(148.633, 1.06, 0, "LINEAR", 500, true, 0, false)
  WaitFrame(20)
  SetCameraCircle(6, 0.05, "SCURVE_B", 500, 0)
  SetFace("HERO_01", "F16", 1, 1, FACE_BLENDTIME, 4)
  SetFace("HERO_01", "E15_M10", 0, 1, 8, 10)
  BlendEye("HERO_01", 0, 18, "SCURVE", 10, 8)
  BlendFace("HERO_01", 0, 68, 0, true, "SCURVE", 26, 8)
  Event_PlayVoice("m420_015_010", 0)
  WaitFrame(90)
  BlendEye("HERO_01", 0, 0, "SCURVE", 8, 0)
  BlendFace("HERO_01", 36, -65, 0, true, "SCURVE", 40, 0)
  Event_PlayVoice("m420_015_020", 0)
  WaitFrame(85)
  SetFace("HERO_01", "F10", 0, 1, 8, 0)
  BlendFace("HERO_01", -20, 56, 0, true, "SCURVE", 32, 0)
  Event_PlayVoice("m420_015_030", 0)
  WaitFrame(70)
  BlendEye("HERO_01", 20, 0, "SCURVE", 6, 116)
  BlendFace("HERO_01", 84, 50, 0, true, "SCURVE", 40, 116)
  Event_PlayVoice("m420_015_040", 0)
  local slot_01 = Event_PlaySE(404011, 70, true, 4.8, 5)
  WaitFrame(150)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(148.062, 1.138, 0.636, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(148.484, 1.3, 0, "LINEAR", 0, false, 0)
  Event_Quake_Start(9, 2, 260, 0)
  SetPosition("HERO_01", 148.656, -0.19, -0, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -75, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "e502", 0, true, 0)
  SetStartFrame("HERO_01", "e502", 8, 0)
  SetFace("HERO_01", "F14", 0, 1, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 30, 0)
  Event_PlayVoice("m420_015_050", 0)
  WaitFrame(40)
  Event_PlayVoice("m420_015_060", 0)
  Event_StopSE(slot_01, 3, 8)
  WaitFrame(260)
  Event_Quake_Stop(0)
  WaitFrame(60)
  SetCamera(148.062, 1.158, 0.636, 0, 30, "LINEAR", 30, true, 0, false)
  SetCameraTarget(148.484, 1.32, 0, "LINEAR", 30, true, 0, false)
  SetBlink("HERO_01", 2, 0, 0)
  SetBlink("HERO_01", 1, 0.15, 4)
  SetFace("HERO_01", "F10", 1, 1, 45, 0)
  BlendEye("HERO_01", 24, 0, "SCURVE", 0, 0)
  BlendEye("HERO_01", 0, 48, "SCURVE", 24, 32)
  WaitFrame(90)
  Event_PlayBGM(711, 0, 0)
  EndMotion("HERO_01", 0)
  BlendEye("HERO_01", 15, 0, "SCURVE", 40, 6)
  WaitFrame(44)
  SetFace("HERO_01", "F16", 0, 1, 8, 0)
  WaitFrame(12)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetCamera(147.979, 0.7, 0.951, 0, 50, "LINEAR", 0, false, 0, false)
  SetCameraTarget(148.524, 0.68, 0, "LINEAR", 0, false, 0, false)
  SetCamera(147.664, 0.5, 1.501, 25, 40, "SCURVE", 80, false, 0, false)
  SetCameraTarget(148.524, 0.68, 0, "SCURVE", 80, false, 0, false)
  SetPosition("HERO_01", 148.656, -0.19, -0, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -90, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fg14_w01", 0, false, 0)
  SetStartFrame("HERO_01", "fg14_w01", 60, 0)
  PlayMotion("HERO_01", "fg14_w02", 36, true, 0)
  SetFace("HERO_01", "E05_M03", 0, 1, 2, 0)
  SetFace("HERO_01", "F16", 0, 1, 8, 36)
  BlendEye("HERO_01", 20, 0, "SCURVE", 6, 0)
  BlendFace("HERO_01", 56, 57, 49, true, "SCURVE", 30, 0)
  SetCamera(140, 0.5, 0, 0, 120, "SCURVE", 280, false, 20, false)
  SetCameraTarget(137, 0.68, 0, "SCURVE", 220, false, 20, false)
  SetPosition("HERO_01", 124, 0, 0, "SCURVE", 280, 30)
  SetRotation("HERO_01", -50, -90, 0, "SCURVE", 160, 100)
  MessageTalkAuto("m420_015_070", 260, false)
  WaitFrame(245)
  Event_StopBGM(1.2, 1)
  Fade_OutNoLoading(FADE_WHITE, 10)
  WaitFrame(80)
  EVENT_END(1)
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m420_015()
end
