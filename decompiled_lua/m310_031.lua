require("include")

function m310_031()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m310")
  SetEventCutNo(6)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2028_daft_310")
    LoadMap("t0121")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  LoadModel("chr403_01", "char_GRAPLEOMON")
  LoadObject("ATCsmartphone01_01", "ATCsmartphone01")
  LoadSceneViewerResource("c1.0", "t0121f_ca")
  LoadSceneViewerResource("c2.0", "t0121f_ca")
  LoadSceneViewerResource("c3.0", "t0121f_ca")
  LoadSceneViewerResource("c4.0", "t0121f_ca")
  LoadSceneViewerResource("c5.0", "t0121f_ca")
  LoadSceneViewerResource("c6.0", "t0121f_ca")
  LoadEnvironmentFile("c1.0", "es_m310_031_c1.0")
  LoadEnvironmentFile("c2.0", "es_m310_031_c2.0")
  LoadEnvironmentFile("c3.0", "es_m310_031_c3.0")
  LoadEnvironmentFile("c4.0", "es_m310_031_c4.0")
  LoadEnvironmentFile("c5.0", "es_m310_031_c5.0")
  LoadEnvironmentFile("c6.0", "es_m310_031_c6.0")
  WaitVistaLoad()
  ModelVisible("ATCsmartphone01_01", false, 0, 0)
  AttachObject("HEROINE_01", "ATCsmartphone01_01", 1)
  Event_PlayBGM(924, 0, 0)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  SetPosition("HERO_01", 8.858, 0, -3.976, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 8, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 7.761, 0, -2.812, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 87.5, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", 8.391, 0, -1.483, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 177.5, 0, "LINEAR", 0, 0)
  SetPosition("chr403_01", 10.495, 0, -2.59, "LINEAR", 0, 0)
  SetRotation("chr403_01", 0, -90, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 27, -27, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 18, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 37, -75, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -52, 0, 0, true, "SCURVE", 0, 0)
  SetEyeUVOffsetDigi("chr403_01", 0, 0.025, "SCURVE", 1, 0)
  BlendFaceDigi("chr403_01", 10, 8, 0, "SCURVE", 1, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr403_01", "bn01", 0, true, 0)
  SetFace("chr403_01", "F01_M01", 0, 2, FACE_BLENDTIME, 0)
  SetCamera(7.534, 0.735, 0.087, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(8.822, 1.501, -2.509, "LINEAR", 0, false, 0)
  Fade_In(FADE_BLACK, FADE_TIME)
  PlayMotion("AEGIOMON_01", "e002", 10, true, 0)
  WaitFrame(30)
  MessageTalk("m310_031_010")
  MessageClose()
  WaitFrame(10)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetPosition("chr403_01", 10.495, 0, -2.59, "LINEAR", 0, 0)
  SetRotation("chr403_01", 0, -80.5, 0, "LINEAR", 0, 0)
  BlendFaceDigi("chr403_01", 0, 0, 0, "SCURVE", 0, 0)
  SetCamera(8.178, 2.85, -1.179, 0, 27, "LINEAR", 0, false, 0)
  SetCameraTarget(10.069, 2.322, -2.567, "LINEAR", 0, false, 0)
  SetEyeUVOffsetDigi("chr403_01", 0, 0.025, "SCURVE", 10, 10)
  BlendFaceDigi("chr403_01", 10, -11, 0, "SCURVE", 50, 0)
  SetDigimonBlink("chr403_01", 2, 0, 15)
  Vista.SetEnableLipSyncsAnimation("chr403_01", false)
  WaitFrame(40)
  MessageTalk("m310_031_020")
  MessageClose()
  Vista.SetEnableLipSyncsAnimation("chr403_01", true)
  local SE_01 = Event_PlaySE(402001, 100, true, 0, 0)
  WaitFrame(30)
  MessageTalk("m310_031_030")
  Event_StopSE(SE_01, 0, 0)
  local slot_02 = Event_PlaySE(402002, 100, false, 0, 0)
  MessageClose()
  WaitFrame(10)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  ModelVisible("ATCsmartphone01_01", true, 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 0, 0)
  PlayMotion("HEROINE_01", "e034", 0, true, 0)
  SetStartFrame("HEROINE_01", "e034", 100, 0)
  SetFace("HEROINE_01", "E01_M16", 0, 1, 0, 0)
  SetCamera(8.951, 1.763, -2.361, 0, 27, "LINEAR", 0, false, 0)
  SetCameraTarget(8.792, 1.716, -2.425, "LINEAR", 0, false, 0)
  WaitFrame(10)
  SetFace("HEROINE_01", "E01_M16", 0, 0, 0, 0)
  SetFace("HEROINE_01", "E01_M16", 0, 1, 6, 15)
  MessageTalk("m310_031_040")
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetCamera(7.685, 1.326, -2.334, 0, 23, "LINEAR", 0, false, 0)
  SetCameraTarget(7.829, 1.565, -3.02, "LINEAR", 0, false, 0)
  Event_Quake_Start(1, 0, 15, 0)
  BlendFace("HEROINE_01", 17, 0, 57, true, "SCURVE", 20, 10)
  SetFace("HEROINE_01", "E08_M14", 2, 1, FACE_BLENDTIME, 10)
  MessageTalk("m310_031_050")
  MessageTalk("m310_031_060")
  MessageClose()
  WaitFrame(10)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetCamera(8.951, 1.763, -2.361, 0, 27, "LINEAR", 0, false, 0)
  SetCameraTarget(8.792, 1.716, -2.425, "LINEAR", 0, false, 0)
  WaitFrame(20)
  SetFace("HEROINE_01", "E11_M02", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m310_031_070")
  MessageClose()
  MessageTalk("m310_031_080")
  BlendEye("HEROINE_01", 31, -27, "SCURVE", 10, 10)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 40, 0)
  SetFace("HEROINE_01", "F16", 0, 1, FACE_BLENDTIME, 10)
  MessageClose()
  WaitFrame(10)
  MessageTalk("m310_031_090")
  MessageClose()
  MessageTalk("m310_031_100")
  PlayMotionBlend("HEROINE_01", "blend01", 10, false, 0)
  SetFace("HEROINE_01", "E16_M04", 0, 1, FACE_BLENDTIME, 0)
  MessageClose()
  MessageTalk("m310_031_110")
  MessageClose()
  MessageTalk("m310_031_120")
  MessageClose()
  EndMotion("HEROINE_01", 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 10, 20)
  BlendFace("HEROINE_01", -7, 58, 0, true, "SCURVE", 50, 10)
  WaitFrame(50)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  ModelVisible("ATCsmartphone01_01", false, 0, 0)
  SetPosition("chr403_01", 10.495, 0, -2.59, "LINEAR", 0, 0)
  SetRotation("chr403_01", 0, -90, 0, "LINEAR", 0, 0)
  SetFace("chr403_01", "F01_M01", 0, 2, FACE_BLENDTIME, 0)
  BlendFace("HERO_01", 11, -49, 0, true, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -52, 53, 0, true, "SCURVE", 0, 0)
  SetEyeUVOffsetDigi("chr403_01", 0, 0.012, "SCURVE", 1, 0)
  BlendFaceDigi("chr403_01", 10, -8, 0, "SCURVE", 1, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetCamera(7.534, 0.735, 0.087, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(8.822, 1.501, -2.509, "LINEAR", 0, false, 0)
  WaitFrame(10)
  MessageTalk("m310_031_130")
  MessageClose()
  BlendFace("HERO_01", -56, 6, 0, true, "SCURVE", 50, 10)
  BlendFace("AEGIOMON_01", -90, -72, 14, true, "SCURVE", 50, 10)
  BlendFace("HEROINE_01", -47, -15, 0, true, "SCURVE", 50, 10)
  SetFace("HEROINE_01", "E01_M04", 0, 1, FACE_BLENDTIME, 20)
  MessageTalk("m310_031_140")
  MessageTalk("m310_031_150")
  MessageClose()
  PlayMotion("AEGIOMON_01", "e002", 10, true, 0)
  BlendFace("HERO_01", 20, -24, 0, true, "SCURVE", 50, 10)
  BlendEye("HEROINE_01", 18, 0, "SCURVE", 10, 20)
  BlendFace("HEROINE_01", 37, -75, 0, true, "SCURVE", 50, 10)
  SetEyeUVOffsetDigi("chr403_01", 0, 0.012, "SCURVE", 0, 0)
  SetEyeUVOffsetDigi("chr403_01", 0, 0.025, "SCURVE", 10, 20)
  BlendFaceDigi("chr403_01", 10, 8, 0, "SCURVE", 50, 10)
  MessageTalk("m310_031_160")
  MessageClose()
  SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  BlendFace("HERO_01", 11, -49, 0, true, "SCURVE", 50, 10)
  BlendFace("AEGIOMON_01", -52, 53, 0, true, "SCURVE", 50, 10)
  SetEyeUVOffsetDigi("chr403_01", 0, 0.025, "SCURVE", 0, 0)
  SetEyeUVOffsetDigi("chr403_01", 0, 0.012, "SCURVE", 10, 20)
  BlendFaceDigi("chr403_01", 10, -8, 0, "SCURVE", 50, 10)
  PlayMotionBlend("HEROINE_01", "blend01", 10, false, 0)
  MessageTalk("m310_031_170")
  MessageClose()
  Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
  if Debug.IsEventView() then
    Event_StopBGM(0, 0)
    Event_StopAllSE(0, 0)
  end
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m310_031()
end
