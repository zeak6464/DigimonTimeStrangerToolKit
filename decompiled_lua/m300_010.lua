require("include")

function m300_010()
  EVENT_BEGIN()
  Talk.Load("m300")
  SetEventCutNo(8)
  if Debug.IsEventView() then
    SetTimeAxis("P2028_daft_300")
    LoadMap("d0402")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  LoadModel("chr923_01", "char_MASTERBLIMPMON_RAMP")
  LoadSceneViewerResource("c1.0", "d0402f_ta")
  LoadSceneViewerResource("c2.0", "d0402f_ta")
  LoadSceneViewerResource("c3.0", "d0402f_ta")
  LoadSceneViewerResource("c4.0", "d0402f_ta")
  LoadSceneViewerResource("c5.0", "d0402f_ta")
  LoadSceneViewerResource("c6.0", "d0402f_ta")
  LoadSceneViewerResource("c7.0", "d0402f_ta")
  LoadSceneViewerResource("c8.0", "d0402f_ta")
  LoadEnvironmentFile("c1.0", "es_m300_010_c1.0")
  LoadEnvironmentFile("c2.0", "es_m300_010_c2.0")
  LoadEnvironmentFile("c3.0", "es_m300_010_c3.0")
  LoadEnvironmentFile("c4.0", "es_m300_010_c4.0")
  LoadEnvironmentFile("c5.0", "es_m300_010_c5.0")
  LoadEnvironmentFile("c6.0", "es_m300_010_c6.0")
  LoadEnvironmentFile("c7.0", "es_m300_010_c7.0")
  LoadEnvironmentFile("c8.0", "es_m300_010_c8.0")
  WaitVistaLoad()
  SetPosition("HERO_01", 29.647, 9.047, 114.879, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 225, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 29.105, 9.067, 115.672, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 226, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", 28.999, 9.051, 115, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 216.5, 0, "LINEAR", 0, 0)
  SetPosition("chr923_01", 43.681, 9.793, 119.396, "LINEAR", 0, 0)
  SetRotation("chr923_01", 0, 146.617, 0, "LINEAR", 0, 0)
  SetScale("chr923_01", 3.015, 3.015, 3.015)
  if Debug.IsEventView() then
    ModelVisible("chr923_01", false, 0, 0)
  end
  PlayMotion("HERO_01", "e201", 0, true, 0)
  SetFace("HERO_01", "F16", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr923_01", "fn01_02", 0, true, 0)
  ChangeDigimonFace("chr923_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr923_01", 1, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", 0, 0, 0, false, "SCURVE", 0, 0)
  SetCamera(23.257, 10.528, 109.663, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(29.843, 10.613, 114.588, "LINEAR", 0, false, 0)
  SetCamera(23.293, 10.528, 109.637, 0, 30, "LINEAR", 300, true, 0)
  SetCameraTarget(29.366, 10.613, 115.181, "LINEAR", 300, true, 0)
  Event_PlayBGM(921, 0, 0)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  SetFilter_timetransition()
  Fade_In(1, 30)
  EndFilter_timetransition()
  BlendEye("HEROINE_01", 0, 21, "SCURVE", 30, 0)
  BlendFace("HEROINE_01", 0, 18, 0, true, "SCURVE", 30, 0)
  WaitFrame(15)
  BlendEye("HEROINE_01", 0, 21, "SCURVE", 30, 0)
  BlendFace("HEROINE_01", 0, 35, 0, true, "SCURVE", 30, 0)
  WaitFrame(15)
  MovePosition("AEGIOMON_01", 28.106, 9.051, 113.794, false, 1, 0)
  WaitFrame(120)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(28.313, 9.805, 115.031, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(27.454, 10.586, 111.241, "LINEAR", 0, false, 0)
  SetCamera(27.991, 9.797, 115.099, 0, 40, "LINEAR", 300, true, 0)
  SetCameraTarget(27.48, 10.579, 111.247, "LINEAR", 300, true, 0)
  WaitFrame(30)
  MessageTalk("m300_010_010")
  MessageClose()
  WaitFrame(10)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetPosition("HEROINE_01", 28.853, 9.067, 115.744, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 226, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "E15_M16", 0, 1, FACE_BLENDTIME, 0)
  SetPosition("HERO_01", 29.853, 9.006, 115.028, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 225, 0, "LINEAR", 0, 0)
  SetCamera(27.387, 9.821, 112.903, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(28.052, 10.021, 113.725, "LINEAR", 0, false, 0)
  PlayMotion("AEGIOMON_01", "e004", 5, true, 0)
  SetFace("AEGIOMON_01", "F02", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HEROINE_01", 0, -8, "SCURVE", 30, 20)
  BlendFace("HEROINE_01", 47, -32, 0, true, "SCURVE", 30, 20)
  BlendEye("HERO_01", 0, 0, "SCURVE", 30, 15)
  BlendFace("HERO_01", 23, 20, 0, true, "SCURVE", 30, 15)
  SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 8)
  MessageTalk("m300_010_020")
  MessageClose()
  WaitFrame(10)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetCamera(28.064, 10.367, 114.811, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(28.982, 10.29, 115.874, "LINEAR", 0, false, 0)
  PlayMotion("HEROINE_01", "e004", 5, true, 0)
  SetFace("HEROINE_01", "E08_M02", 0, 1, FACE_BLENDTIME, 0)
  WaitFrame(10)
  SetCamera(28.072, 10.571, 114.82, 0, 25, "SCURVE", 30, false, 0)
  SetCameraTarget(28.989, 10.494, 115.882, "SCURVE", 30, false, 0)
  WaitFrame(20)
  MessageTalk("m300_010_030")
  MessageClose()
  WaitFrame(10)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_01", "E01_M02", 0, 1, FACE_BLENDTIME, 0)
  SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("AEGIOMON_01", -4, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -39, 0, 0, false, "SCURVE", 0, 0)
  SetPosition("AEGIOMON_01", 28.297, 9.035, 113.863, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 360, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 28.303, 9.069, 114.739, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 181.5, 0, "LINEAR", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 55, 0, 0, true, "SCURVE", 0, 0)
  SetCamera(30.839, 10.676, 116.136, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(29.793, 10.499, 115.285, "LINEAR", 0, false, 0)
  SetCamera(30.773, 10.676, 116.211, 0, 25, "LINEAR", 120, false, 0)
  SetCameraTarget(29.797, 10.499, 115.279, "LINEAR", 120, false, 0)
  WaitFrame(10)
  PlayMotion("AEGIOMON_01", "e015_01", 0, true, 0)
  SetFace("AEGIOMON_01", "F08", 0, 1, FACE_BLENDTIME, 0)
  WaitFrame(90)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  SetCamera(28.6, 10.491, 114.655, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(29.83, 10.502, 114.981, "LINEAR", 0, false, 0)
  SetCamera(28.838, 10.493, 114.718, 0, 25, "LINEAR", 120, true, 0)
  SetCameraTarget(29.83, 10.502, 114.981, "LINEAR", 120, true, 0)
  local slot_id = Event_PlaySE(500006, 100, true, 0, 0)
  WaitFrame(40)
  BlendEye("HERO_01", 22, -53, "SCURVE", 30, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 30, 0)
  PlayMotion("HERO_01", "e503", 3, true, 0)
  SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  WaitFrame(60)
  Event_StopSE(slot_id, 0.2, 0)
  local slot_id = Event_PlaySE(402002, 100, false, 0, 0)
  WaitFrame(20)
  MessageTalk("m300_010_040")
  MessageTalk("m300_010_050")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m300_010_060")
  MessageTalk("m300_010_070")
  MessageTalk("m300_010_080")
  MessageTalk("m300_010_090")
  MessageClose()
  WaitFrame(10)
  CUT("7.0")
  SetEnv_All("c7.0", 0)
  ModelVisible("HEROINE_01", false, 0, 0)
  SetPosition("AEGIOMON_01", 28.297, 9.035, 113.863, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 360, 0, "LINEAR", 0, 0)
  PlayMotion("AEGIOMON_01", "e013_01", 0, true, 0)
  SetFace("AEGIOMON_01", "E01_M02", 0, 1, FACE_BLENDTIME, 0)
  SetCamera(28.898, 10.451, 114.722, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(28.518, 10.104, 113.908, "LINEAR", 0, false, 0)
  SetCamera(28.736, 10.461, 114.794, 0, 25, "LINEAR", 180, true, 0)
  SetCameraTarget(28.356, 10.114, 113.979, "LINEAR", 180, true, 0)
  BlendEye("AEGIOMON_01", -4, 0, "SCURVE", 30, 0)
  BlendFace("AEGIOMON_01", -39, 0, 0, false, "SCURVE", 30, 0)
  MessageTalk("m300_010_100")
  MessageTalk("m300_010_110")
  MessageClose()
  WaitFrame(10)
  CUT("8.0")
  SetEnv_All("c8.0", 0)
  ModelVisible("HEROINE_01", true, 0, 0)
  SetFace("HERO_01", "E03_M15", 0, 1, FACE_BLENDTIME, 0)
  SetCamera(28.848, 10.501, 114.678, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(29.84, 10.51, 114.941, "LINEAR", 0, false, 0)
  MessageTalk("m300_010_120")
  MessageClose()
  WaitFrame(10)
  BlendEye("HERO_01", 0, 0, "SCURVE", 30, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 30, 0)
  EndMotion("HERO_01", 0)
  WaitFrame(60)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  SetPosition("HEROINE_01", 28.303, 9.069, 114.739, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 181.5, 0, "LINEAR", 0, 0)
  SetScale("HEROINE_01", 1, 1, 1)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  SetCamera(29.019, 10.577, 116.257, 0, 25, "SCURVE", 60, false, 0)
  SetCameraTarget(29.659, 10.487, 114.898, "SCURVE", 60, false, 0)
  WaitFrame(15)
  SetRotation("HERO_01", 0, 164, 0, "LINEAR", ROTATION90, 0)
  PlayMotion("HERO_01", "ft01_01", 5, false, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", 0, 0, 0, false, "SCURVE", 30, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 30, 0)
  WaitFrame(45)
  if Debug.IsEventView() then
    EVENT_END()
  else
    EVENT_END_SEAMLESS(60)
  end
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m300_010()
end
