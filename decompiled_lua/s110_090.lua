S110_090 = {
  ID = 90,
  STEP_001 = 1,
  STEP_003 = 3,
  STEP_005 = 5,
  STEP_010 = 10,
  STEP_255 = 255
}
local text_file = "s110_090"

function S110_090:Event_005()
  GoToOuter("change_0001", -1.5, 0)
  MapChange("h", 201, "start_00", true, 1, FADE_TIME)
end

function S110_090:Event_010()
  local agumon_index = GetIndex(NPC, "s110_090_agu_01")
  Field.ObjectLoadMotion(NPC, agumon_index, "bn01")
  Field.ObjectLoadMotion(NPC, agumon_index, "e002")
  Field.ObjectLoadMotion(NPC, agumon_index, "e004")
  Field.ObjectLoadMotion(NPC, agumon_index, "e005")
  Field.ObjectLoadMotion(NPC, agumon_index, "e006")
  Field.ObjectLoadMotion(NPC, agumon_index, "e008")
  Field.ObjectLoadMotion(NPC, agumon_index, "fq01")
  Field.ObjectLoadMotion(NPC, agumon_index, "fq02")
  Field.ObjectLoadMotion(PLAYER, 1, "e002")
  Field.ObjectLoadMotion(PLAYER, 1, "e004_01")
  Field.ObjectLoadMotion(PLAYER, 1, "e008")
  Field.ObjectLoadMotion(PLAYER, 1, "e012")
  Field.ObjectLoadMotion(PLAYER, 1, "e013")
  Field.ObjectLoadMotion(PLAYER, 1, "e015")
  Field.ObjectLoadMotion(PLAYER, 1, "e018")
  Field.ObjectLoadMotion(PLAYER, 1, "e019")
  Field.ObjectLoadMotion(PLAYER, 1, "e020")
  local tlk = Tlk:new(text_file, 1, true)
  if Guest.IsExistNum(3) then
    INFO_WINDOW(10050)
    Field.MovePlayerToRelativePosFrame(-1, 0, 20)
    WaitFrame(20)
    goto lbl_595
  elseif Qst.Sub:Check(self.ID, self.STEP_001, self.STEP_005) then
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    tlk:StartTalkAndCancelDigimonRide()
    HideMinimap(true)
    HideGuide(true)
    Flg.Set("S110_090_001")
    Cam.Inst:Set(38.612, 0.3, -40.231, 28.855, 1.31, -38.28, default, 0)
    Field.ObjectLookAtTheObject(PLAYER, 1, NPC, agumon_index, 0)
    Obj:new(PLAYER, ""):SetPos(31.3, 0, -39.47, true)
    Obj:new(PLAYER, ""):SetRotationY(100, 0)
    WaitFrame(15)
    FadeInWithWaitNotFlgCheck(FADE_BLACK, FADE_TIME)
    tlk:Message("s110_090_010")
    tlk:MessageClose()
    tlk:Select(3, "s110_090_020")
    local result = Talk.GetResultSelectedNum()
    WaitFrame(15)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, agumon_index, "e002", 10, 10)
    if result == RESULT_TALK00 then
      tlk:Message("s110_090_030")
    end
    if result == RESULT_TALK01 then
      tlk:Message("s110_090_040")
    end
    if result == RESULT_TALK02 then
      tlk:Message("s110_090_050")
    end
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, agumon_index, "e008", 10, 10)
    tlk:Message("s110_090_060")
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, agumon_index, "e002", 10, 10)
    tlk:Message("s110_090_070")
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, agumon_index, "fq02", 10, 10)
    tlk:Message("s110_090_080")
    tlk:MessageClose()
    tlk:Select(2, "s110_090_090")
    result = Talk.GetResultSelectedNum()
    WaitFrame(15)
    if result == RESULT_TALK00 then
      Field.ObjectPlayMotionWithStartMoveMotion(NPC, agumon_index, "fq01", 10, 10)
      tlk:Message("s110_090_100")
      Flg.Set("S110_090_004")
      Qst.Sub:Set(self.ID, self.STEP_003)
      Qst.Sub:Set(self.ID, self.STEP_005)
      Qst.Sub:Set(self.ID, self.STEP_010)
      tlk:EndTalk(true)
      Qst.Sub:Start(self.ID, 1, false)
      MapChange("h", 201, "start_20", true, FADE_BLACK, FADE_TIME)
    end
    if result == RESULT_TALK01 then
      Field.ObjectPlayMotionWithStartMoveMotion(NPC, agumon_index, "fq01", 10, 10)
      tlk:Message("s110_090_110")
      tlk:EndTalk()
      FieldObjectSync(FOR_ALL, false)
      Cam.Inst:Clear(30)
      PlayerObjectResetAim()
      HideMinimap(false)
      HideGuide(false)
      Field.MovePlayerToRelativePosFrame(-1, 0, 20)
      WaitFrame(20)
      HideMinimap(false)
      HideGuide(false)
      Qst.Sub:Set(self.ID, self.STEP_003)
      Qst.Sub:Set(self.ID, self.STEP_005)
    else
    end
  elseif Qst.Sub:Check(self.ID, self.STEP_005, self.STEP_010) then
    local agumon_index = GetIndex(NPC, "s110_090_agu_01")
    local tlk = Tlk:new(text_file, 1, true)
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    tlk:StartTalkAndCancelDigimonRide()
    HideMinimap(true)
    HideGuide(true)
    Flg.Set("S110_090_001")
    Cam.Inst:Set(38.612, 0.3, -40.231, 28.855, 1.31, -38.28, default, 0)
    Field.ObjectLookAtTheObject(PLAYER, 1, NPC, agumon_index, 0)
    Obj:new(PLAYER, ""):SetPos(31.3, 0, -39.47, true)
    Obj:new(PLAYER, ""):SetRotationY(100, 0)
    WaitFrame(15)
    FadeInWithWaitNotFlgCheck(FADE_BLACK, FADE_TIME)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, agumon_index, "e002", 10, 10)
    tlk:Message("s110_090_120")
    tlk:MessageClose()
    tlk:Select(2, "s110_090_090")
    local result = Talk.GetResultSelectedNum()
    WaitFrame(15)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, agumon_index, "fq01", 10, 10)
    if result == RESULT_TALK00 then
      tlk:Message("s110_090_100")
      Flg.Set("S110_090_004")
      Qst.Sub:Set(self.ID, self.STEP_003)
      Qst.Sub:Set(self.ID, self.STEP_010)
      tlk:EndTalk(true)
      Qst.Sub:Start(self.ID, 1, false)
      MapChange("h", 201, "start_20", true, FADE_BLACK, FADE_TIME)
    end
    if result == RESULT_TALK01 then
      tlk:Message("s110_090_110")
      tlk:EndTalk()
      FieldObjectSync(FOR_ALL, false)
      Cam.Inst:Clear(30)
      PlayerObjectResetAim()
      HideMinimap(false)
      HideGuide(false)
      Field.MovePlayerToRelativePosFrame(-1, 0, 20)
      WaitFrame(20)
    end
  end
  ::lbl_595::
end

function S110_090:Event_020()
  if Qst.Sub:Check(self.ID, self.STEP_010, self.STEP_255) and not Flg.Check("S110_090_002") then
    local gabumon_index = GetIndex(NPC, "sub110_90_001")
    local agumon_index = GetIndex(NPC, "sub110_90_agumon")
    Field.ObjectLoadMotion(NPC, gabumon_index, "bn01")
    Field.ObjectLoadMotion(NPC, gabumon_index, "bn02")
    Field.ObjectLoadMotion(NPC, gabumon_index, "br01")
    Field.ObjectLoadMotion(NPC, gabumon_index, "bg01")
    Field.ObjectLoadMotion(NPC, gabumon_index, "fe02")
    Field.ObjectLoadMotion(NPC, gabumon_index, "fe04")
    Field.ObjectLoadMotion(NPC, gabumon_index, "e002")
    Field.ObjectLoadMotion(NPC, gabumon_index, "e004")
    Field.ObjectLoadMotion(NPC, gabumon_index, "fq01")
    Field.ObjectLoadMotion(NPC, gabumon_index, "fq02")
    Field.ObjectLoadMotion(NPC, agumon_index, "bn01")
    Field.ObjectLoadMotion(NPC, agumon_index, "bn02")
    Field.ObjectLoadMotion(NPC, agumon_index, "bg01")
    Field.ObjectLoadMotion(NPC, agumon_index, "fe02")
    Field.ObjectLoadMotion(NPC, agumon_index, "fe04")
    Field.ObjectLoadMotion(NPC, agumon_index, "br01")
    Field.ObjectLoadMotion(NPC, agumon_index, "e002")
    Field.ObjectLoadMotion(NPC, agumon_index, "e004")
    Field.ObjectLoadMotion(NPC, agumon_index, "fq01")
    Field.ObjectLoadMotion(NPC, agumon_index, "fq02")
    Field.ObjectLoadMotion(PLAYER, 1, "e002")
    Field.ObjectLoadMotion(PLAYER, 1, "e004_01")
    Field.ObjectLoadMotion(PLAYER, 1, "e008")
    Field.ObjectLoadMotion(PLAYER, 1, "e012")
    Field.ObjectLoadMotion(PLAYER, 1, "e013")
    Field.ObjectLoadMotion(PLAYER, 1, "e015")
    Field.ObjectLoadMotion(PLAYER, 1, "e018")
    Field.ObjectLoadMotion(PLAYER, 1, "e019")
    Field.ObjectLoadMotion(PLAYER, 1, "e020")
    local omega_index = GetIndex(NPC, "sub110_90_omega_01")
    Field.ObjectLoadMotion(NPC, omega_index, "bn01")
    Field.ObjectLoadMotion(NPC, omega_index, "bn02")
    Field.ObjectLoadMotion(NPC, omega_index, "fe02")
    Field.ObjectLoadMotion(NPC, omega_index, "fe04")
    Field.ObjectLoadMotion(NPC, omega_index, "fq01")
    Field.ObjectLoadMotion(NPC, omega_index, "fq02")
    local tlk = Tlk:new(text_file, 1, true)
    Obj:new(OGIM, "fa_obstacles_01"):Invisible()
    Obj:new(GIM, "obj_0101"):Invisible()
    Obj:new(GIM, "obj_0102"):Invisible()
    Obj:new(GIM, "obj_0001"):Invisible()
    Obj:new(GIM, "obj_0002"):Invisible()
    Field.ObjectInvisible(TREASURE, FOR_ALL, 1, 0, false)
    Field_InvisibleGimmick(FOR_ALL, 0, 0, false)
    WaitFrame(5)
    Cam.Inst:Set(1.4994, 1.05, 4.45, -5.917, 1.84, 11.11, default, 0)
    tlk:StartTalkAndCancelDigimonRide()
    HideMinimap(true)
    WaitFrame(5)
    HideGuide(true)
    WaitFrame(5)
    local rot = Field.ObjectGetRotationY(FLD_OBJ_PLAYER, 1)
    local agu_rot = Field.ObjectGetRotationY(NPC, agumon_index)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    Field.ObjectFrameMove2D(NPC, agumon_index, rot, 6, 30)
    MovePlayerFrame(rot, 6, 30)
    Field.ObjectPlayMotion(NPC, agumon_index, "br01", 10, true)
    WaitFrame(30)
    local agu_pos = Field.ObjectGetPosition(NPC, agumon_index)
    local gabu_pos = Field.ObjectGetPosition(NPC, gabumon_index)
    Field.ObjectLookAtTheObject(NPC, gabumon_index, PLAYER, 1, 30, 2)
    Field.ObjectPlayMotion(PLAYER, 1, "e018", 15, true)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, gabumon_index, "fe04", 10, 10)
    tlk:Message("s110_090_130")
    Field.ObjectLookAtTheObject(NPC, agumon_index, NPC, gabumon_index, 30, 2)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, agumon_index, "fe02", 10, 10)
    tlk:Message("s110_090_140")
    Field.ObjectLookAtTheObject(NPC, gabumon_index, NPC, agumon_index, 30, 2)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, gabumon_index, "e004", 10, 10)
    tlk:Message("s110_090_150")
    Field.ObjectResetAim(NPC, agumon_index, 15)
    Field.ObjectResetAim(NPC, gabumon_index, 15)
    Field.ObjectFrameMove2D(NPC, agumon_index, rot, 6, 30)
    Field.ObjectFrameMove2D(NPC, gabumon_index, rot, 6, 30)
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(15)
    PlaySE(400014, 100)
    WaitFrame(10)
    PlaySE(400017, 100)
    WaitFrame(15)
    Field.ObjectSetPos(NPC, agumon_index, agu_pos.x, agu_pos.y, agu_pos.z)
    Field.ObjectSetPos(NPC, gabumon_index, gabu_pos.x, gabu_pos.y, gabu_pos.z)
    FadeAllIn(FADE_BLACK, FADE_TIME)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, agumon_index, "bg01", 10, 10)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, gabumon_index, "bg01", 10, 10)
    WaitFrame(15)
    Field.ObjectLookAtTheObject(NPC, agumon_index, NPC, gabumon_index, 30)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, agumon_index, "e002", 10, 10)
    tlk:Message("s110_090_160")
    Field.ObjectLookAtTheObject(NPC, gabumon_index, NPC, agumon_index, 30)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, gabumon_index, "fq01", 10, 10)
    tlk:Message("s110_090_170")
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, agumon_index, "fe04", 10, 10)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, gabumon_index, "fe04", 10, 10)
    tlk:Message("s110_090_180")
    Flg.Set("S110_090_005")
    PlaySE(404032, 100)
    Fade_OutNoLoadingWithWait(FADE_WHITE, FADE_TIME)
    FieldObjectSync(FOR_ALL, false)
    WaitFrame(90)
    Cam.Inst:Set(0.33, 1.69, 6.138, -8.335, 2.669, 11.035, default, 0)
    FadeAllInWithWait(FADE_WHITE, FADE_TIME)
    WaitFrame(30)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, omega_index, "fe02", 10, 10)
    tlk:Message("s110_090_185")
    tlk:EndTalk(true)
    Guest.Add(GST_S110_090_OMEGA)
    EncountFromField_PlaySound(21100900, 20271, false)
  end
end

function S110_090:Event_030()
  if Qst.Sub:Check(self.ID, self.STEP_010, self.STEP_255) and Flg.Check("S110_090_002", "S110_090_003") then
    local omega_index = GetIndex(NPC, "sub110_90_omega_01")
    Field.ObjectLoadMotion(NPC, omega_index, "bn01")
    Field.ObjectLoadMotion(NPC, omega_index, "bn02")
    Field.ObjectLoadMotion(NPC, omega_index, "fe02")
    Field.ObjectLoadMotion(NPC, omega_index, "fe04")
    Field.ObjectLoadMotion(NPC, omega_index, "fq01")
    Field.ObjectLoadMotion(NPC, omega_index, "fq02")
    local tlk = Tlk:new(text_file, 1, true)
    FieldObjectSync(FOR_ALL, false)
    Field.ObjectPlayMotion(PLAYER, 1, "fn01_01", 15, true)
    Field.ObjectLookAtTheObject(PLAYER, 1, NPC, omega_index, 30)
    Field.ObjectLookAtTheObject(NPC, omega_index, PLAYER, 1, 30)
    Cam.Inst:Set(-6.1, 1.85, 6.21, 3.72, 2.78, 4.48, default, 0)
    tlk:StartTalkAndCancelDigimonRide()
    HideMinimap(true)
    WaitFrame(5)
    HideGuide(true)
    WaitFrame(10)
    FadeInWithWaitNotFlgCheck(FADE_BLACK, FADE_TIME)
    Guest.Delete(GST_S110_090_AGUMON)
    Guest.Delete(GST_S110_090_GABUMON)
    Flg.Set("S110_090_003")
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, omega_index, "fe02", 10, 10)
    tlk:Message("s110_090_190")
    tlk:Message("s110_090_200")
    tlk:EndTalk(true)
    Guest.Delete(GST_S110_090_OMEGA)
    Flg.Set("FLAG_SKIP_AREACHANGE_MOVE")
    MapChange("t", 203, "start_06", true, FADE_BLACK, FADE_TIME)
  end
end

function S110_090:Event_040()
  if Qst.Sub:Check(self.ID, self.STEP_010, self.STEP_255) and Flg.Check("S110_090_003") then
    local agumon_index = GetIndex(NPC, "npc_0005")
    local gabumon_index = GetIndex(NPC, "npc_0006")
    local kuroi_index = GetIndex(NPC, "npc_0007")
    local asuna_index = GetIndex(NPC, "npc_0008")
    local hiroko_index = GetIndex(NPC, "npc_0009")
    Field.ObjectLoadMotion(NPC, gabumon_index, "bn01")
    Field.ObjectLoadMotion(NPC, gabumon_index, "bn02")
    Field.ObjectLoadMotion(NPC, gabumon_index, "br01")
    Field.ObjectLoadMotion(NPC, gabumon_index, "fe02")
    Field.ObjectLoadMotion(NPC, gabumon_index, "fe04")
    Field.ObjectLoadMotion(NPC, gabumon_index, "e002")
    Field.ObjectLoadMotion(NPC, gabumon_index, "e004")
    Field.ObjectLoadMotion(NPC, gabumon_index, "fq01")
    Field.ObjectLoadMotion(NPC, gabumon_index, "fq02")
    Field.ObjectLoadMotion(NPC, agumon_index, "bn01")
    Field.ObjectLoadMotion(NPC, agumon_index, "bn02")
    Field.ObjectLoadMotion(NPC, agumon_index, "fe02")
    Field.ObjectLoadMotion(NPC, agumon_index, "fe04")
    Field.ObjectLoadMotion(NPC, agumon_index, "br01")
    Field.ObjectLoadMotion(NPC, agumon_index, "e002")
    Field.ObjectLoadMotion(NPC, agumon_index, "e004")
    Field.ObjectLoadMotion(NPC, agumon_index, "fq01")
    Field.ObjectLoadMotion(NPC, agumon_index, "fq02")
    Field.ObjectLoadMotion(NPC, kuroi_index, "fn01_01")
    Field.ObjectLoadMotion(NPC, kuroi_index, "e002")
    Field.ObjectLoadMotion(NPC, kuroi_index, "e004")
    Field.ObjectLoadMotion(NPC, kuroi_index, "e006")
    Field.ObjectLoadMotion(NPC, kuroi_index, "e007")
    Field.ObjectLoadMotion(NPC, kuroi_index, "e008")
    Field.ObjectLoadMotion(NPC, kuroi_index, "e012")
    Field.ObjectLoadMotion(NPC, kuroi_index, "e018")
    Field.ObjectLoadMotion(NPC, hiroko_index, "fn01_01")
    Field.ObjectLoadMotion(NPC, hiroko_index, "e002")
    Field.ObjectLoadMotion(NPC, hiroko_index, "e004")
    Field.ObjectLoadMotion(NPC, hiroko_index, "e006")
    Field.ObjectLoadMotion(NPC, hiroko_index, "e008")
    Field.ObjectLoadMotion(NPC, hiroko_index, "e012")
    Field.ObjectLoadMotion(NPC, asuna_index, "fn01_01")
    Field.ObjectLoadMotion(NPC, asuna_index, "e002")
    Field.ObjectLoadMotion(NPC, asuna_index, "e004")
    Field.ObjectLoadMotion(NPC, asuna_index, "e006")
    Field.ObjectLoadMotion(NPC, asuna_index, "e007")
    Field.ObjectLoadMotion(NPC, asuna_index, "e008")
    Field.ObjectLoadMotion(NPC, asuna_index, "e012")
    Field.ObjectLoadMotion(PLAYER, 1, "e002")
    Field.ObjectLoadMotion(PLAYER, 1, "e004_01")
    Field.ObjectLoadMotion(PLAYER, 1, "e008")
    Field.ObjectLoadMotion(PLAYER, 1, "e012")
    Field.ObjectLoadMotion(PLAYER, 1, "e013")
    Field.ObjectLoadMotion(PLAYER, 1, "e015")
    Field.ObjectLoadMotion(PLAYER, 1, "e018")
    Field.ObjectLoadMotion(PLAYER, 1, "e019")
    Field.ObjectLoadMotion(PLAYER, 1, "e020")
    local tlk = Tlk:new(text_file, 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    HideMinimap(true)
    WaitFrame(5)
    HideGuide(true)
    WaitFrame(5)
    Cam.Inst:Set(26.78, -0.15, -36.7, 36.04, 1.49, -40.12, default, 0)
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
    Field_InvisibleFollowerAllGuest(0, 0, false)
    FadeInWithWaitNotFlgCheck(FADE_BLACK, FADE_TIME)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, hiroko_index, "e002", 10, 10)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    tlk:Message("s110_090_210")
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, hiroko_index, "e012", 10, 10)
    Field.ObjectLookAtTheObject(NPC, hiroko_index, NPC, kuroi_index, 30, 2)
    tlk:Message("s110_090_220")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, kuroi_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, kuroi_index, "e002", 10, 10)
    tlk:Message("s110_090_230")
    Field.ObjectChangeExpression(NPC, kuroi_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, gabumon_index, "e002", 10, 10)
    tlk:Message("s110_090_240")
    Field.ObjectChangeExpression(NPC, asuna_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, asuna_index, "e007", 10, 10)
    tlk:Message("s110_090_250")
    Field.ObjectChangeExpression(NPC, asuna_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectLookAtTheObject(NPC, hiroko_index, NPC, kuroi_index, 30, 2)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, hiroko_index, "e008", 10, 10)
    Field.ObjectLookAtTheObject(NPC, hiroko_index, NPC, agumon_index, 30, 2)
    tlk:Message("s110_090_260")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    tlk:MessageClose()
    tlk:Select(3, "s110_090_270")
    local result = Talk.GetResultSelectedNum()
    WaitFrame(15)
    Obj:new(NPC, "npc_0005"):SetRotationYToPlayer(30)
    Field.ObjectPlayMotion(NPC, agumon_index, "br01", 10, true)
    WaitFrame(30)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, agumon_index, "e002", 10, 10)
    if result == RESULT_TALK00 then
      tlk:Message("s110_090_280")
    end
    if result == RESULT_TALK01 then
      tlk:Message("s110_090_290")
    end
    if result == RESULT_TALK02 then
      tlk:Message("s110_090_300")
    end
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, agumon_index, "fq01", 10, 10)
    tlk:Message("s110_090_310")
    Field.ObjectLookAtTheObject(NPC, agumon_index, PLAYER, 1, 30, 2)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, agumon_index, "e002", 10, 10)
    tlk:Message("s110_090_320")
    tlk:MessageClose()
    FadeOutWithWaitNotFlgCheck(FADE_BLACK, FADE_TIME)
    Field.ObjectLookAtTheObject(NPC, hiroko_index, PLAYER, 1, 30, 2)
    local agu = Obj:new(NPC, "npc_0005")
    local gabu = Obj:new(NPC, "npc_0006")
    agu:Invisible()
    gabu:Invisible()
    FadeInWithWaitNotFlgCheck(FADE_BLACK, FADE_TIME)
    Field.ObjectChangeExpression(NPC, kuroi_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectPlayMotion(NPC, kuroi_index, "e008", 15, true)
    tlk:Message("s110_090_330")
    Field.ObjectChangeExpression(NPC, kuroi_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, asuna_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectPlayMotion(NPC, asuna_index, "e008", 15, true)
    tlk:Message("s110_090_340")
    Field.ObjectChangeExpression(NPC, asuna_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, kuroi_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    tlk:Message("s110_090_350")
    Field.ObjectChangeExpression(NPC, kuroi_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    tlk:MessageClose()
    tlk:Select(3, "s110_090_360")
    result = Talk.GetResultSelectedNum()
    WaitFrame(15)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, kuroi_index, "e002", 10, 10)
    Field.ObjectChangeExpression(NPC, kuroi_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    if result == RESULT_TALK00 then
      tlk:Message("s110_090_370")
    end
    if result == RESULT_TALK01 then
      tlk:Message("s110_090_380")
    end
    if result == RESULT_TALK02 then
      tlk:Message("s110_090_390")
    end
    Field.ObjectChangeExpression(NPC, kuroi_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, hiroko_index, "e002", 10, 10)
    tlk:Message("s110_090_400")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, asuna_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectLookAtTheObject(NPC, asuna_index, NPC, hiroko_index, 30, 2)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, asuna_index, "e012", 10, 10)
    tlk:Message("s110_090_410")
    Field.ObjectChangeExpression(NPC, asuna_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectLookAtTheObject(NPC, hiroko_index, NPC, asuna_index, 30, 2)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, hiroko_index, "e008", 10, 10)
    tlk:Message("s110_090_420")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, asuna_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, asuna_index, "e002", 10, 10)
    tlk:Message("s110_090_430")
    Field.ObjectChangeExpression(NPC, asuna_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, kuroi_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectLookAtTheObject(NPC, kuroi_index, NPC, asuna_index, 30, 2)
    tlk:Message("s110_090_440")
    Field.ObjectChangeExpression(NPC, kuroi_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, asuna_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectLookAtTheObject(NPC, asuna_index, NPC, kuroi_index, 30, 2)
    Field.ObjectResetAim(NPC, asuna_index, 15)
    Field.ObjectLookAtTheObject(NPC, hiroko_index, PLAYER, 1, 30, 2)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, asuna_index, "e002", 10, 10)
    tlk:Message("s110_090_450")
    Field.ObjectChangeExpression(NPC, asuna_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, kuroi_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectResetAim(NPC, kuroi_index, 15)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, kuroi_index, "e002", 10, 10)
    tlk:Message("s110_090_460")
    Field.ObjectChangeExpression(NPC, kuroi_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectResetAim(NPC, hiroko_index, 15)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, hiroko_index, "e004", 10, 10)
    tlk:Message("s110_090_470")
    Field.ObjectChangeExpression(NPC, hiroko_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    FadeOutWithWaitNotFlgCheck(FADE_BLACK, FADE_TIME)
    local male_guard = Obj:new(NPC, "npc_0007")
    local female_guard = Obj:new(NPC, "npc_0008")
    local hiroko = Obj:new(NPC, "npc_0009")
    male_guard:Invisible()
    female_guard:Invisible()
    hiroko:Invisible()
    tlk:EndTalk(true)
    Obj:new(GIM, "change_0001"):Invisible()
    Cam.Inst:Clear(0)
    FadeInWithWaitNotFlgCheck(FADE_BLACK, FADE_TIME)
    WaitFrame(15)
    HideMinimap(false)
    HideGuide(false)
    Qst.Sub:End(self.ID, self.STEP_255)
    FieldObjectSync(FOR_ALL, false)
  end
end
