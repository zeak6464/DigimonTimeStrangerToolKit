require("include")

function m260_130()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m260")
  SetEventCutNo(8)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2028_dbef_260")
    SetMapStatus("Enable")
    LoadMap("d0305")
  end
  LoadModel("chr927_01", "char_NEPTUNEMON_BIG")
  Vista.BindSpeaker("chr927_01", "char_NEPTUNEMON")
  LoadObject("ATCwinebottle00_01", "ATCwinebottle00")
  LoadObject("ATCwineglass00_01", "ATCwineglass00")
  Vista.LoadAnimation("ATCwineglass00_01", "e500")
  LoadSceneViewerResource("c1.0", "d0305f_sa")
  LoadSceneViewerResource("c2.0", "d0305f_sa")
  LoadSceneViewerResource("c3.0", "d0305f_sa")
  LoadSceneViewerResource("c4.0", "d0305f_sa")
  LoadSceneViewerResource("c5.0", "d0305f_sa")
  LoadSceneViewerResource("c6.0", "m260_130_c6.0")
  LoadSceneViewerResource("c7.0", "d0305f_ta")
  LoadSceneViewerResource("c8.0", "d0305f_ta")
  LoadEnvironmentFile("c1.0", "es_m260_130_c1.0")
  LoadEnvironmentFile("c2.0", "es_m260_130_c2.0")
  LoadEnvironmentFile("c3.0", "es_m260_130_c3.0")
  LoadEnvironmentFile("c4.0", "es_m260_130_c4.0")
  LoadEnvironmentFile("c5.0", "es_m260_130_c5.0")
  LoadEnvironmentFile("c6.0", "es_m260_130_c6.0")
  LoadEnvironmentFile("c7.0", "es_m260_130_c7.0")
  LoadEnvironmentFile("c8.0", "es_m260_130_c8.0")
  WaitVistaLoad()
  SetPosition("chr927_01", -0.397, 46.674, -125.397, "LINEAR", 0, 0)
  SetRotation("chr927_01", 0, 0, 0, "LINEAR", 0, 0)
  SetPosition("ATCwinebottle00_01", 3.03, 49.298, -122.518, "LINEAR", 0, 0)
  SetRotation("ATCwinebottle00_01", 0, 24.5, 0, "LINEAR", 0, 0)
  SetScale("ATCwinebottle00_01", 1, 1, 1)
  SetPosition("ATCwineglass00_01", 0, 0, 0, "LINEAR", 0, 0)
  SetRotation("ATCwineglass00_01", 0, 0, 0, "LINEAR", 0, 0)
  SetScale("ATCwineglass00_01", 1, 1, 1)
  PlayMotion("chr927_01", "e117", 0, true, 0)
  SetFace("chr927_01", "F01_M01", 0, 1, FACE_BLENDTIME, 0)
  AttachObject("chr927_01", "ATCwineglass00_01", "1")
  SetEyeUVOffsetDigi("chr927_01", -0.025, 0.018, "SCURVE", 10, 0)
  BlendFaceDigi("chr927_01", 0, 17, 0, "SCURVE", 30, 0)
  SetCamera(27.907, 4.532, 29.261, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(18.751, 17.062, -4.531, "LINEAR", 0, false, 0)
  CameraOffsetMove(0, 0, 1, "LINEAR", true, true, 300, 0)
  SetEnv_All("c1.0", 0)
  FIELD_SET()
  EVENT_START()
  NpcInvisible(FOR_ALL)
  SetMobTransparentRange(100, 100, 100)
  CUT("1.0")
  Fade_In(0, FADE_TIME)
  WaitFrame(FADE_TIME)
  WaitFrame(100)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(3.542, 49.352, -122.215, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(2.409, 49.904, -123.615, "LINEAR", 0, false, 0)
  CameraOffsetMove(0, 0, 0.05, "LINEAR", true, true, 300, 0)
  WaitFrame(10)
  MessageTalk("m260_130_010")
  MessageTalk("m260_130_020")
  SetFace("chr927_01", "F01_M02", 0, 2, FACE_BLENDTIME, 0)
  SetEyeUVOffsetDigi("chr927_01", -0.025, 0.018, "SCURVE", 0, 0)
  local slot_01 = Event_PlaySE(403070, 100, false, 0, 0)
  MessageClose()
  BlendFaceDigi("chr927_01", 0, 0, 0, "SCURVE", 30, 0)
  PlayMotion("chr927_01", "e114", 10, false, 0)
  PlayMotion("chr927_01", "e117", 3, false, 175)
  SetFace("chr927_01", "F01", 0, 1, FACE_BLENDTIME, 30)
  WaitFrame(175)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(0.4, 51.033, -123.77, 0, 40, "LINEAR", 0, false, 0, false)
  SetCameraTarget(0.791, 51.345, -125.43, "LINEAR", 0, false, 0, false)
  local slot_02 = Event_PlaySE(403071, 100, false, 0, 0)
  WaitFrame(20)
  PlayMotion("chr927_01", "e502", 3, true, 0)
  SetFace("chr927_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  SetCamera(0.4, 51.033, -123.77, 0, 30, "DECEL", 6, false, 0, false)
  SetCameraTarget(0.791, 51.345, -125.43, "DECEL", 6, false, 0, false)
  SetEyeUVOffsetDigi("chr927_01", -0, 0, "SCURVE", 10, 0)
  DetachObject("ATCwineglass00_01")
  ModelVisible("ATCwineglass00_01", false, 0, 0)
  ModelVisible("ATCwinebottle00_01", false, 0, 0)
  SetFace("chr927_01", "F03_M03", 2, 1, FACE_BLENDTIME, 0)
  local slot_03 = Event_PlaySE(400002, 100, false, 0, 0)
  Event_StopBGM(2, 0)
  MessageTalk("m260_130_040")
  MessageClose()
  WaitFrame(5)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  ModelVisible("ATCwineglass00_01", true, 0, 0)
  local slot_04 = Event_PlaySE(401040, 100, false, 0, 0.1)
  PlayMotion("ATCwineglass00_01", "e500", 0, false, 0)
  SetFace("ATCwineglass00_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  SetPosition("ATCwineglass00_01", 1.546, 42.307, -121.086, "LINEAR", 0, 0)
  SetRotation("ATCwineglass00_01", 0, 0, 0, "LINEAR", 0, 0)
  SetCamera(2.84, 44.939, -120.134, 21, 30, "LINEAR", 0, false, 0, false)
  SetCameraTarget(0.249, 42.153, -121.985, "LINEAR", 0, false, 0, false)
  SetCamera(3.162, 45.318, -120.015, 21, 30, "SCURVE", 60, true, 0, false)
  SetCameraTarget(0.266, 42.203, -122.084, "SCURVE", 60, true, 0, false)
  WaitFrame(50)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  ModelVisible("ATCwineglass00_01", false, 0, 0)
  SetCamera(2.611, 47.845, -122.037, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(0.957, 50.164, -124.935, "LINEAR", 0, false, 0)
  CameraOffsetMove(0, 0, 1, "LINEAR", true, true, 300, 0)
  WaitFrame(30)
  SetFace("chr927_01", "F03_M03", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m260_130_050")
  MessageClose()
  SetEyeUVOffsetDigi("chr927_01", -0, 0, "SCURVE", 0, 0)
  SetEyeUVOffsetDigi("chr927_01", 0, -0.017, "SCURVE", 30, 0)
  BlendFaceDigi("chr927_01", -31, -20, 0, "SCURVE", 30, 0)
  WaitFrame(60)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  Event_PlayBGM(304, 2, 0)
  SetCamera(13.412, 39.382, -109.512, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-1.012, 53.387, -125.683, "LINEAR", 0, false, 0)
  CameraOffsetMove(0, 0, 1, "LINEAR", true, true, 300, 0)
  WaitFrame(120)
  CUT("7.0")
  SetEnv_All("c7.0", 0)
  SetCamera(1.794, 50.028, -122.44, 0, 30, "SCURVE", 0, false, 0)
  SetCameraTarget(1.263, 50.627, -124.05, "SCURVE", 0, false, 0)
  SetFace("chr927_01", "F01_M01", 2, 1, FACE_BLENDTIME, 0)
  WaitFrame(10)
  MessageTalk("m260_130_060")
  MessageClose()
  WaitFrame(10)
  SetEyeUVOffsetDigi("chr927_01", 0, 0, "SCURVE", 30, 0)
  BlendFaceDigi("chr927_01", 0, 0, 0, "SCURVE", 45, 0)
  SetFace("chr927_01", "F01_M02", 2, 1, 0, 0)
  MessageTalk("m260_130_070")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m260_130_080")
  MessageClose()
  WaitFrame(20)
  MessageTalk("m260_130_090")
  MessageClose()
  local slot_05 = Event_PlaySE(403072, 100, false, 0, 0)
  PlayMotion("chr927_01", "e503", 3, true, 0)
  WaitFrame(40)
  CUT("8.0")
  SetEnv_All("c8.0", 0)
  SetCamera(5.376, 38.719, -110.485, 0, 40, "SCURVE", 0, false, 0)
  SetCameraTarget(-2.143, 50.07, -124.324, "SCURVE", 0, false, 0)
  SetFace("chr927_01", "F01_M03", 2, 1, 0, 0)
  CameraOffsetMove(0, 5, 1, "SCURVE", true, true, 400, 0)
  WaitFrame(220)
  Event_StopBGM(2, 0)
  Fade_OutNoLoading(0, 30)
  WaitFrame(30)
  Event_StopAllSE(0, 0)
  if Debug.IsEventView() then
    Event_StopBGM(0, 0)
  end
  Vista.SetKeepBGM()
  Vista.SetKeepBGMWithMapChange()
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m260_130()
end
