require("include")

function m010_180()
  EVENT_BEGIN()
  EventRankSet("A")
  SetEventCutNo(5)
  if Debug.IsEventView() then
    LoadMap("d1001")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("METALGREYMON_01", "char_METALGREYMON_BIG_BL")
  LoadObject("DEBRIS00", "d10debris00")
  Vista.LoadAnimation("HERO_01", "m010_180_c01")
  Vista.LoadAnimation("HERO_01", "m010_180_c05")
  Vista.LoadAnimation("METALGREYMON_01", "m010_180_c03")
  Vista.LoadAnimation("METALGREYMON_01", "m010_180_c04")
  Vista.LoadAnimation("METALGREYMON_01", "m010_180_c05")
  Vista.LoadAnimationFaceBlend("HERO_01", "m010_180_c01")
  Vista.LoadAnimationFaceBlend("HERO_01", "m010_180_c05")
  Vista.LoadAnimation("DEBRIS00", "m010_180_c02")
  LoadCamera("Camera01", "Cam_m010_180_c01")
  LoadCamera("Camera02", "Cam_m010_180_c02")
  LoadCamera("Camera03", "Cam_m010_180_c03")
  LoadCamera("Camera04", "Cam_m010_180_c04")
  LoadCamera("Camera05", "Cam_m010_180_c05")
  LoadEffectScript("eff_01", "ef_e_ev001_01")
  LoadEffectScript("eff_02", "ef_e_ev001_02")
  LoadEffectScript("eff_03", "ef_e_ev001_03")
  LoadEffectScript("eff_04", "ef_e_ev001_04")
  LoadEffectScript("eff_05", "ef_e_ev001_05")
  Vista.DigimonModelScaleDisable()
  LoadSceneViewerResource("c01", "d1001f_ca")
  LoadSceneViewerResource("c02", "d1001f_ca")
  LoadSceneViewerResource("c03", "d1001f_ca")
  LoadSceneViewerResource("c04", "d1001f_ca")
  LoadSceneViewerResource("c05", "d1001f_ca")
  LoadEnvironmentFile("c01", "es_m010_180_c01")
  LoadEnvironmentFile("c02", "es_m010_180_c02")
  LoadEnvironmentFile("c03", "es_m010_180_c03")
  LoadEnvironmentFile("c04", "es_m010_180_c04")
  LoadEnvironmentFile("c05", "es_m010_180_c05")
  WaitVistaLoad()
  if Debug.IsEventView() then
    Event_PlayBGM(10, 0, 0)
  end
  local slot_01 = Event_PlaySE(410002, 100, false, 0, 0)
  PlayCamera("Camera01")
  Field_InvisibleGimmick("obj_0001", 0, 0, false)
  Field_InvisibleGimmick("obj_0008", 0, 0, false)
  RegularQuake_Stop()
  if Debug.IsEventView() then
    Vista.GimmickObjectInvisible(FOR_ALL)
  end
  FIELD_SET()
  EVENT_START()
  CUT(1)
  SetEnv_All("c01", 0)
  Fade_In(0, 30)
  Vista.PlayEffect("eff_01", false, 0)
  PlayMotion("HERO_01", "m010_180_c01", 0, false, 0)
  Vista.PlayModelAnimationFaceBlend("HERO_01", "m010_180_c01", 0, false, 0)
  CtrVibration(0, 0.7, 5, 27)
  CtrVibration(0, 0, 0, 32)
  CAM_WAIT(0)
  CUT(2)
  SetEnv_All("c02", 0)
  ModelVisible("HERO_01", false, 0, 0)
  Vista.PlayEffect("eff_02", false, 0)
  PlayCamera("Camera02")
  PlayMotion("DEBRIS00", "m010_180_c02", 0, false, 0)
  CtrVibration(1, 0.5, 35, 39)
  CtrVibration(0, 0, 0, 74)
  CAM_WAIT(0)
  CUT(3)
  SetEnv_All("c03", 0)
  Vista.PlayEffect("eff_03", false, 0)
  PlayCamera("Camera03")
  PlayMotion("METALGREYMON_01", "m010_180_c03", 0, false, 0)
  Vista.SetEmissiveIntensityF("METALGREYMON_01", 2)
  CAM_WAIT(0)
  CUT(4)
  SetEnv_All("c04", 0)
  Vista.PlayEffect("eff_04", false, 0)
  PlayCamera("Camera04")
  PlayMotion("METALGREYMON_01", "m010_180_c04", 0, false, 0)
  CtrVibration(0.5, 1, 10, 21)
  CtrVibration(0, 0, 0, 31)
  CtrVibration(0.5, 1, 10, 49)
  CtrVibration(0, 0, 0, 59)
  CAM_WAIT(0)
  CUT(5)
  SetEnv_All("c05", 0)
  ModelVisible("HERO_01", true, 0, 0)
  Vista.PlayEffect("eff_05", false, 0)
  PlayCamera("Camera05")
  PlayMotion("HERO_01", "m010_180_c05", 0, false, 0)
  Vista.PlayModelAnimationFaceBlend("HERO_01", "m010_180_c05", 0, false, 0)
  PlayMotion("METALGREYMON_01", "m010_180_c05", 0, false, 0)
  CAM_WAIT(0)
  if Debug.IsEventView() then
    Event_StopBGM(0, 0)
    Event_StopAllSE(0, 0)
  end
  Fade_OutNoLoadingWithWait(FADE_BLACK, 5)
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m010_180()
end
