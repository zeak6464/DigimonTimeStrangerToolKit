require("include")

function m360_090()
  EVENT_BEGIN()
  Talk.Load("m360")
  SetEventCutNo(6)
  if Debug.IsEventView() then
    SetTimeAxis("Z2028_daft_360")
    LoadMap("d0702")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("chr180_01", "char_PLUTOMON")
  LoadSceneViewerResource("c1.0", "d0702f_sa")
  LoadSceneViewerResource("c2.0", "d0702f_sa")
  LoadSceneViewerResource("c3.0", "d0702f_sa")
  LoadSceneViewerResource("c4.0", "d0702f_sa")
  LoadSceneViewerResource("c5.0", "d0702f_sa")
  LoadSceneViewerResource("c6.0", "d0702f_sa")
  LoadEnvironmentFile("c1.0", "es_m360_090_c1.0")
  LoadEnvironmentFile("c2.0", "es_m360_090_c2.0")
  LoadEnvironmentFile("c3.0", "es_m360_090_c3.0")
  LoadEnvironmentFile("c4.0", "es_m360_090_c4.0")
  LoadEnvironmentFile("c5.0", "es_m360_090_c5.0")
  LoadEnvironmentFile("c6.0", "es_m360_090_c6.0")
  WaitVistaLoad()
  SetPosition("HERO_01", 0.506, 7.818, -169.473, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 180, 0, "LINEAR", 0, 0)
  SetScale("HERO_01", 1, 1, 1)
  SetPosition("chr180_01", -0.229, 8.341, -179.338, "LINEAR", 0, 0)
  SetRotation("chr180_01", 0, 0, 0, "LINEAR", 0, 0)
  SetScale("chr180_01", 2.288, 2.288, 2.288)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr180_01", "e123", 0, true, 0)
  ChangeDigimonFace("chr180_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr180_01", 1, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -70, 0, 0, false, "SCURVE", 0, 0)
  BlendFaceDigi("chr180_01", 0, 0, 0, "SCURVE", 0, 0)
  SetCamera(-0.156, 8.314, -166.864, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(1.407, 12.157, -181.182, "LINEAR", 0, false, 0)
  SetCamera(-0.477, 8.235, -166.942, 0, 30, "LINEAR", 300, true, 0)
  SetCameraTarget(2.007, 12.25, -181.082, "LINEAR", 300, true, 0)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  Fade_In(1, 60)
  WaitFrame(80)
  MessageTalk("m360_090_010")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m360_090_020")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m360_090_030")
  MessageClose()
  WaitFrame(10)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(-2.54, 13.653, -176.451, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.403, 12.59, -181.312, "LINEAR", 0, false, 0)
  MessageTalk("m360_090_040")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m360_090_050")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m360_090_070")
  MessageClose()
  WaitFrame(10)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(-2.616, 12.243, -178.129, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.086, 12.978, -180.887, "LINEAR", 0, false, 0)
  PlayMotion("chr180_01", "e121", 0, true, 0)
  SetStartFrame("chr180_01", "e121", 40, 0)
  SetFace("chr180_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  local slot_id = Event_PlaySE(403096, 100, false, 0, 0)
  WaitFrame(90)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetPosition("HERO_01", 0.506, 7, -151.814, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("chr180_01", -0.229, 7, -158.466, "LINEAR", 0, 0)
  SetRotation("chr180_01", 0, 0, 0, "LINEAR", 0, 0)
  PlayMotion("chr180_01", "bn02", 0, true, 0)
  SetFace("chr180_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  SetCamera(-2.02, 8.306, -141.829, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.157, 10.859, -158.307, "LINEAR", 0, false, 0)
  SetCamera(-3.31, 8.369, -142.079, 0, 30, "LINEAR", 240, true, 0)
  SetCameraTarget(0.459, 10.951, -158.224, "LINEAR", 240, true, 0)
  MessageTalk("m360_090_080")
  MessageClose()
  WaitFrame(10)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  PlayMotion("chr180_01", "e500", 0, true, 0)
  SetFace("chr180_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  SetCamera(-9.403, 12.526, -142.655, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.417, 9.224, -159.335, "LINEAR", 0, false, 0)
  SetCamera(-5.81, 11.549, -148.114, 0, 30, "LINEAR", 80, true, 0)
  SetCameraTarget(0.288, 7.774, -158.9, "LINEAR", 80, true, 0)
  local slot_id = Event_PlaySE(403097, 100, false, 0, 0)
  WaitFrame(30)
  BlendEye("HERO_01", 0, 0, "SCURVE", 30, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 30, 0)
  PlayMotion("HERO_01", "e009", 0, true, 0)
  SetFace("HERO_01", "F16", 0, 1, FACE_BLENDTIME, 0)
  WaitFrame(90)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  SetCamera(0.22, 8.505, -153.3, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.548, 8.461, -151.795, "LINEAR", 0, false, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 30, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 30, 0)
  PlayMotion("HERO_01", "e009", 0, true, 0)
  SetFace("HERO_01", "F16", 0, 1, FACE_BLENDTIME, 0)
  WaitFrame(30)
  EndMotion("HERO_01", 0)
  SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  WaitFrame(40)
  MovePosition("HERO_01", 0.506, 7, -156.314, false, 3, 0)
  Event_StopBGM(2, 0)
  WaitFrame(30)
  Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
  WaitFrame(30)
  Vista.SetKeepBGM()
  Vista.SetKeepBGMWithMapChange()
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m360_090()
end
