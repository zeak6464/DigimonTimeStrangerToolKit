gGimText = "field_text"
M410 = {
  ID = 410,
  STEP_001 = 1,
  STEP_005 = 5,
  STEP_010 = 10,
  STEP_015 = 15,
  STEP_020 = 20,
  STEP_025 = 25,
  STEP_030 = 30,
  STEP_035 = 35,
  STEP_040 = 40,
  STEP_045 = 45,
  STEP_050 = 50,
  STEP_055 = 55,
  STEP_060 = 60,
  STEP_065 = 65,
  STEP_070 = 70,
  STEP_075 = 75,
  STEP_080 = 80,
  STEP_085 = 85,
  STEP_090 = 90,
  STEP_095 = 95,
  STEP_100 = 100,
  STEP_255 = 255
}

function M410:Event_010()
  if Flg.Check("FLAG_MAIN_18_055", "FLAG_MAIN_19_010") then
    Flg.Set("FLAG_MAIN_19_010")
    Map:OpenArea(106, true)
    Map:CloseArea(106, false)
    Map:ClosePlace(10606, true)
    Map:OpenPlace(10601, true)
    Map:ClosePlace(10601, false)
    Qst.Main:Start(self.ID, self.STEP_001)
  end
end

function M410:Event_020()
  if Qst.Main:Check(self.ID, self.STEP_001, self.STEP_005) and Flg.Check("FLAG_MAIN_19_010", "FLAG_MAIN_19_012") then
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
    Field_InvisibleFollowerAllGuest(0, 0, false)
    Flg.Set("FLAG_MAIN_19_012")
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(15)
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    tlk:Message("f_d0601_0030_0010")
    tlk:Message("f_d0601_0030_0020")
    tlk:Message("f_d0601_0030_0030")
    tlk:Message("f_d0601_0030_0040")
    tlk:EndTalk()
    Digitter.Send(1400000010)
  end
end

function M410:Event_030()
  if Qst.Main:Check(self.ID, self.STEP_001, self.STEP_005) and Flg.Check("FLAG_MAIN_19_012", "FLAG_MAIN_19_015") then
    Flg.Set("FLAG_MAIN_19_015")
    Execute("m410_001")
    Execute("m410_020")
    Guest.Delete(GST_APOLLO)
    Guest.Delete(GST_DIANA)
    Guest.Delete(GST_PUMPMON)
    Flg.Set("FLAG_SKIP_PLAYBGM_MAPCHANGE")
    MapChange("d", 604, "start_21", false, FADE_BLACK, FADE_TIME)
  end
end

function M410:Event_040()
  if Qst.Main:Check(self.ID, self.STEP_001, self.STEP_005) and Flg.Check("FLAG_MAIN_19_015", "FLAG_MAIN_19_020") then
    Flg.Set("FLAG_SKIP_AREACHANGE_MOVE")
    Flg.Set("FLAG_MAIN_19_020")
    Obj:new(OGIM, "obj_lattice04"):Invisible()
    Obj:new(OGIM, "obj_lattice05"):Invisible()
    Obj:new(OGIM, "obj_lattice06"):Invisible()
    Obj:new(OGIM, "death_panpumon"):Invisible()
    Execute("m410_021")
    PlayDungeonBGM()
    Obj:new(OGIM, "obj_lattice04"):CancelInvisible()
    Obj:new(OGIM, "obj_lattice05"):CancelInvisible()
    Obj:new(OGIM, "obj_lattice06"):CancelInvisible()
    Obj:new(OGIM, "death_panpumon"):CancelInvisible()
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    tlk:Message("f_d0604_0070_0010")
    tlk:Message("f_d0604_0070_0020")
    tlk:Message("f_d0604_0070_0030")
    tlk:EndTalk()
    Qst.Main:Set(self.ID, self.STEP_005)
  end
end

function M410:Event_045()
  if Flg.Check("FLAG_MAIN_19_020") and not Flg.Check("FLAG_MAIN_19_050") then
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    tlk:Message("f_d0604_0100_0010")
    Field.MovePlayerToRelativePosFrame(1, 0, 20)
    WaitFrame(20)
    tlk:EndTalk()
  end
end

function M410:Event_050()
  if Qst.Main:Check(self.ID, self.STEP_005, self.STEP_010) and Flg.Check("FLAG_MAIN_19_020", "FLAG_MAIN_19_030") then
    Flg.Set("FLAG_MAIN_19_030")
    local oga = GetIndex(NPC, "npc_1002")
    local huga = GetIndex(NPC, "npc_1003")
    local hyoga = GetIndex(NPC, "npc_1004")
    local tuno = GetIndex(NPC, "npc_1006")
    local dori = GetIndex(NPC, "npc_1007")
    local oga_ba01 = Motion.Object:new(NPC, "npc_1002", "ba01")
    local oga_bn01 = Motion.Object:new(NPC, "npc_1002", "bn01")
    local oga_fe04 = Motion.Object:new(NPC, "npc_1002", "fe04")
    local oga_bd02 = Motion.Object:new(NPC, "npc_1002", "bd02")
    local oga_bd03 = Motion.Object:new(NPC, "npc_1002", "bd03")
    local oga_fq01 = Motion.Object:new(NPC, "npc_1002", "fq01")
    local huga_ba01 = Motion.Object:new(NPC, "npc_1003", "ba01")
    local huga_bn01 = Motion.Object:new(NPC, "npc_1003", "bn01")
    local huga_bd02 = Motion.Object:new(NPC, "npc_1003", "bd02")
    local huga_bd03 = Motion.Object:new(NPC, "npc_1003", "bd03")
    local huga_fe02 = Motion.Object:new(NPC, "npc_1003", "fe02")
    local hyoga_ba01 = Motion.Object:new(NPC, "npc_1004", "ba01")
    local hyoga_bn01 = Motion.Object:new(NPC, "npc_1004", "bn01")
    local hyoga_bd02 = Motion.Object:new(NPC, "npc_1004", "bd02")
    local hyoga_bd03 = Motion.Object:new(NPC, "npc_1004", "bd03")
    local hyoga_fq01 = Motion.Object:new(NPC, "npc_1004", "fq01")
    local witch_e002 = Motion.Object:new(NPC, "npc_1005", "e002")
    local tuno_bn01 = Motion.Object:new(NPC, "npc_1006", "bn01")
    local tuno_fe02 = Motion.Object:new(NPC, "npc_1006", "fe02")
    local tuno_ba02 = Motion.Object:new(NPC, "npc_1006", "ba02")
    local dori_bn01 = Motion.Object:new(NPC, "npc_1007", "bn01")
    local dori_ba01 = Motion.Object:new(NPC, "npc_1007", "ba01")
    oga_bn01:Play(30, true)
    huga_bn01:Play(30, true)
    hyoga_bn01:Play(30, true)
    tuno_ba02:Play(10, true)
    dori_bn01:Play(10, true)
    local npc_index01 = GetIndex(NPC, "npc_1002")
    local npc_index02 = GetIndex(NPC, "npc_1003")
    local npc_index03 = GetIndex(NPC, "npc_1004")
    local npc_index04 = GetIndex(NPC, "npc_1005")
    Cam.Inst:Set(44.25, -17.82, -16.26, 46.29, -16.16, -25.91, default, 30)
    Field_InvisibleFollowerAllGuest(0, 10, true)
    Field_InvisibleFollowerAllPartyMember(0, 10, true)
    WaitFrame(30)
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    oga_ba01:Play(10, false)
    tlk:Message("f_d0604_0080_0010")
    oga_bn01:Play(10, true)
    hyoga_ba01:Play(10, false)
    tlk:Message("f_d0604_0080_0020")
    hyoga_bn01:Play(10, true)
    huga_ba01:Play(10, false)
    tlk:Message("f_d0604_0080_0030")
    huga_bn01:Play(10, true)
    tuno_fe02:Play(10, true)
    tlk:Message("f_d0604_0080_0040")
    oga_fe04:Play(10, false)
    tlk:Message("f_d0604_0080_0050")
    oga_bn01:Play(10, true)
    dori_ba01:Play(10, true)
    tlk:Message("f_d0604_0080_0060")
    Cam.Inst:Set(43.82, -17.45, -18.52, 44.14, -15.77, -28.37, default, 30)
    Field.ObjectLookAtTheObject(NPC, npc_index04, FLD_OBJ_NPC, npc_index01, 30)
    witch_e002:Play(10, true)
    tlk:Message("f_d0604_0080_0070")
    Field.ObjectLookAtTheObject(NPC, npc_index01, FLD_OBJ_NPC, GetIndex(FLD_OBJ_NPC, "npc_1005"), 20)
    Field.ObjectLookAtTheObject(NPC, npc_index02, FLD_OBJ_NPC, GetIndex(FLD_OBJ_NPC, "npc_1005"), 20)
    Field.ObjectLookAtTheObject(NPC, npc_index03, FLD_OBJ_NPC, GetIndex(FLD_OBJ_NPC, "npc_1005"), 20)
    oga_bn01:Play(10, true)
    huga_bn01:Play(10, true)
    hyoga_bn01:Play(10, true)
    tlk:Message("f_d0604_0080_0080")
    MessageClose()
    tuno_bn01:Play(10, true)
    dori_bn01:Play(10, true)
    Field.ObjectResetAim(NPC, npc_index01, 10)
    Field.ObjectResetAim(NPC, npc_index02, 10)
    Field.ObjectResetAim(NPC, npc_index03, 10)
    WaitFrame(12)
    Field.ObjectLookAtTheObject(NPC, npc_index01, FLD_OBJ_NPC, GetIndex(FLD_OBJ_NPC, "npc_1006"), 30)
    Field.ObjectLookAtTheObject(NPC, npc_index02, FLD_OBJ_NPC, GetIndex(FLD_OBJ_NPC, "npc_1006"), 30)
    Field.ObjectLookAtTheObject(NPC, npc_index03, FLD_OBJ_NPC, GetIndex(FLD_OBJ_NPC, "npc_1006"), 30)
    WaitFrame(30)
    tlk:Message("f_d0604_0080_0090")
    Field.ObjectPlayMotion(NPC, npc_index01, "bd02", 10, false)
    Field.ObjectPlayMotion(NPC, npc_index02, "bd02", 10, false)
    Field.ObjectPlayMotion(NPC, npc_index03, "bd02", 10, false)
    local Frame = Field.ObjectGetMotionDefaultEndFrame(NPC, npc_index01, "bd02")
    WaitFrame(Frame)
    WaitFrame(30)
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index01, "bd03", 10, 10)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index02, "bd03", 10, 10)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index03, "bd03", 10, 10)
    tlk:EndTalk()
    FieldObjectSync(NPC, true)
    WaitFrame(20)
    Cam.Inst:Clear(1)
    WaitFrame(20)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
  end
end

function M410:Event_060()
  if Qst.Main:Check(self.ID, self.STEP_005, self.STEP_010) and Flg.Check("FLAG_MAIN_19_030", "FLAG_MAIN_19_040") then
    Flg.Set("FLAG_MAIN_19_040")
    local tlk = Tlk:new("d06", 1, true)
    local npc_index01 = GetIndex(NPC, "npc_1000")
    local fe02 = Motion.Object:new(NPC, "npc_1000", "ba01")
    local bn01 = Motion.Object:new(NPC, "npc_1000", "bn01")
    local fq01 = Motion.Object:new(NPC, "npc_1000", "fq01")
    local fq02 = Motion.Object:new(NPC, "npc_1000", "fq02")
    Field.ObjectLoadMotion(NPC, npc_index01, "e006")
    local npc_index02 = GetIndex(NPC, "npc_001")
    local dea_e023 = Motion.Object:new(NPC, "npc_001", "e023")
    local dea_e033 = Motion.Object:new(NPC, "npc_001", "e033")
    local dea_fn01_01 = Motion.Object:new(NPC, "npc_001", "fn01_01")
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    Obj:new(PLAYER, ""):Invisible(0)
    Cam.Inst:Set(37.68, -17.76, 31.55, 49.29, -12.03, 12.23, default, 1)
    WaitFrame(15)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    tlk:StartTalkAndCancelDigimonRide()
    Field.ObjectPlayMotion(NPC, npc_index01, "fq02", 10, true)
    tlk:Message("f_d0604_0100_0010")
    tlk:MessageClose()
    Field.ObjectLookAtTheObject(NPC, npc_index02, FLD_OBJ_NPC, GetIndex(FLD_OBJ_NPC, "npc_1000"), 30)
    WaitFrame(20)
    dea_e023:Play(10, true)
    tlk:Message("f_d0604_0100_0020")
    Field.ObjectPlayMotion(NPC, npc_index01, "e006", 10, true)
    tlk:Message("f_d0604_0100_0030")
    tlk:MessageClose()
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index01, "ba01", 10, 10)
    WaitFrame(15)
    PlayEffectScript("ef_b_hit_200_nele", 44.014, -12.984, 23.862, 0, 1.5)
    WaitFrame(45)
    tlk:Message("f_d0604_0100_0040")
    dea_e023:Play(10, true)
    Cam.Inst:Set(34.98, -17.1, 49.33, 37.39, -16.63, 58.76, default, 1)
    WaitFrame(15)
    tlk:Message("f_d0604_0100_0050")
    bn01:Play(10, true)
    tlk:Message("f_d0604_0100_0060")
    fq01:Play(10, true)
    dea_fn01_01:Play(10, true)
    tlk:Message("f_d0604_0100_0070")
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(10)
    tlk:EndTalk()
    Guest.Add(GST_APOLLO)
    Guest.Add(GST_DIANA)
    Cam.Inst:Clear(1)
    Obj:new(PLAYER, ""):CancelInvisible(0)
    FollowerSync()
    Obj:new(PLAYER, ""):SetPos(43.082, -18, -5.807, true)
    Obj:new(PLAYER, ""):SetRotationY(0, 0)
    SetFollowerCameraOperateRotation(0, 0)
    FieldObjectSync(NPC, false)
    WaitFrame(30)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    Qst.Main:Set(self.ID, self.STEP_010)
  end
end

function M410:Event_070()
  if Qst.Main:Check(self.ID, self.STEP_010, self.STEP_015) and Flg.Check("FLAG_MAIN_19_040", "FLAG_MAIN_19_050") then
    Flg.Set("FLAG_MAIN_19_050")
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(5)
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
    Field_InvisibleFollowerAllGuest(0, 0, false)
    FieldObjectSync(NPC, false)
    WaitFrame(1)
    Obj:new(NPC, "npc_1033"):Invisible()
    Field.ObjectSetPos(FLD_OBJ_PLAYER, 1, 44.863, -18, -15.335)
    Field.ObjectSetRotationY(FLD_OBJ_PLAYER, 1, 0, 0)
    Field.LoadEffectScript("ef_f_enc_110_rp", 1)
    local npc_index = GetIndex(NPC, "npc_1033")
    local npc_pos = Field.ObjectGetPosition(NPC, npc_index)
    Field.ObjectLoadMotion(NPC, npc_index, "ba01")
    Cam.Inst:Set(45.17, -15.55, -16.62, 44.6, -13.8, -6.79, default, 0)
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    WaitFrame(10)
    FadeInWithWaitNotFlgCheck(FADE_BLACK, FADE_TIME)
    WaitFrame(15)
    Field.PlayEffectScript("ef_f_enc_110_rp", npc_pos.x, npc_pos.y, npc_pos.z, 0, 1)
    PlaySE(101017, 100)
    WaitFrame(10)
    Obj:new(NPC, "npc_1033"):CancelInvisible(15)
    WaitFrame(10)
    local npc_1038 = Obj:new(NPC, "npc_1038")
    local npc_1039 = Obj:new(NPC, "npc_1039")
    local npc_1040 = Obj:new(NPC, "npc_1040")
    local npc_1041 = Obj:new(NPC, "npc_1041")
    local npc_1042 = Obj:new(NPC, "npc_1042")
    local npc_1043 = Obj:new(NPC, "npc_1043")
    WaitFrame(20)
    Cam.Inst:Set(45.06, -16.91, -3.52, 44.66, -13.89, -13.04, default, 15)
    WaitFrame(25)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index, "ba01", 10, 10)
    WaitFrame(15)
    tlk:Message("f_d0604_0110_0010")
    tlk:EndTalk()
    EncountFromField_PlaySound(11800010, 10672, false)
  end
end

function M410:Event_080()
  if Qst.Main:Check(self.ID, self.STEP_010, self.STEP_015) and Flg.Check("FLAG_MAIN_19_051", "FLAG_MAIN_19_051A") then
    Flg.Set("FLAG_MAIN_19_035")
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
    Field_InvisibleFollowerAllGuest(0, 0, false)
    Obj:new(PLAYER, ""):Invisible(0)
    Cam.Inst:Set(42.52, -13.89, -10.18, 38.45, -8.922, -2.523, default, 0)
    local bn01 = Motion.Object:new(NPC, "npc_1033", "bn01")
    local bn02 = Motion.Object:new(NPC, "npc_1033", "bn02")
    local ba01 = Motion.Object:new(NPC, "npc_1033", "ba01")
    local fq01 = Motion.Object:new(NPC, "npc_1033", "fq01")
    local fq02 = Motion.Object:new(NPC, "npc_1033", "fq02")
    local fe02 = Motion.Object:new(NPC, "npc_1033", "fe02")
    bn02:Play(20, true)
    Field.LoadEffectScript("ef_f_enc_110_rp", 1)
    local npc_index = GetIndex(NPC, "npc_1033")
    local npc_pos = Field.ObjectGetPosition(NPC, npc_index)
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    FieldObjectSync(NPC, false)
    WaitFrame(40)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(60)
    bn01:Play(20, true)
    WaitFrame(30)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index, "ba01", 10, 10)
    tlk:Message("f_d0604_0120_0010")
    tlk:Message("f_d0604_0120_0020")
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index, "fq02", 10, 10)
    tlk:Message("f_d0604_0120_0030")
    tlk:Message("f_d0604_0120_0040")
    Field.ObjectPlayMotion(NPC, npc_index, "fq02", 10, true)
    tlk:Message("f_d0604_0120_0050")
    Field.ObjectPlayMotion(NPC, npc_index, "fq01", 10, true)
    tlk:Message("f_d0604_0120_0060")
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index, "fe02", 10, 10)
    tlk:Message("f_d0604_0120_0070")
    WaitFrame(10)
    Field.PlayEffectScript("ef_f_enc_110_rp", npc_pos.x, npc_pos.y, npc_pos.z, 0, 1)
    PlaySE(101017, 100)
    WaitFrame(10)
    Obj:new(NPC, "npc_1033"):Invisible(15)
    WaitFrame(20)
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    Flg.Set("FLAG_MAIN_19_051A")
    Guest.Delete(GST_APOLLO)
    Guest.Delete(GST_DIANA)
    FollowerSync()
    FieldObjectSync(NPC, false)
    FieldObjectSync(ENEMY, false)
    Obj:new(PLAYER, ""):SetPosLocator("start_22", true)
    Cam.Inst:Clear(0)
    tlk:EndTalk()
    WaitFrame(30)
    FieldObjectSync(NPC, false)
    Obj:new(PLAYER, ""):CancelInvisible(0)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
  end
end

function M410:Event_090()
  if Qst.Main:Check(self.ID, self.STEP_010, self.STEP_015) and Flg.Check("FLAG_MAIN_19_051A", "FLAG_MAIN_19_052") then
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(10)
    Field.CancelPlayerAnywhereDigimonRide(true)
    local npc_index01 = GetIndex(NPC, "npc_1014")
    local tuno_bn01 = Motion.Object:new(NPC, "npc_1014", "bn01")
    local tuno_fq01 = Motion.Object:new(NPC, "npc_1014", "fq01")
    local tuno_fq01 = Motion.Object:new(NPC, "npc_1014", "fq02")
    local tuno_fe02 = Motion.Object:new(NPC, "npc_1014", "fe02")
    Field.ObjectLoadMotion(NPC, npc_index01, "ba02")
    Field.ObjectLoadMotion(NPC, npc_index01, "fe01")
    Field.ObjectLoadMotion(NPC, npc_index01, "fe04")
    local dori_fe02 = Motion.Object:new(NPC, "npc_1015", "fe02")
    local dori_bn01 = Motion.Object:new(NPC, "npc_1015", "bn01")
    local player_e002_01 = Motion.Object:new(PLAYER, "", "e002_01")
    Flg.Set("FLAG_MAIN_19_052")
    local tlk = Tlk:new("d06", 1, true)
    Obj:new(PLAYER, ""):SetPos(0.49, -18.001, -40.844, true)
    Obj:new(PLAYER, ""):SetRotationY(0, 0)
    Field.ObjectLookAtTheObject(PLAYER, 1, FLD_OBJ_NPC, GetIndex(FLD_OBJ_NPC, "npc_1014"), 30)
    Field.ObjectLookAtTheObject(FLD_OBJ_NPC, GetIndex(FLD_OBJ_NPC, "npc_1014"), PLAYER, 1, 30)
    Cam.Inst:Set(-0.2964, -19.6, -47.57, 2.195, -15.88, -38.63, default, 1)
    WaitFrame(10)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    tlk:StartTalkAndCancelDigimonRide()
    Field.ObjectPlayMotion(NPC, npc_index01, "ba02", 10, true)
    tlk:Message("f_d0604_0130_0010")
    tuno_bn01:Play(20, true)
    dori_fe02:Play(20, true)
    tlk:Message("f_d0604_0130_0020")
    dori_bn01:Play(20, true)
    Field.ObjectPlayMotion(NPC, npc_index01, "fq01", 10, true)
    tlk:Message("f_d0604_0130_0030")
    Field.ObjectPlayMotion(NPC, npc_index01, "fe02", 10, true)
    tlk:Message("f_d0604_0130_0040")
    Field.ObjectPlayMotion(NPC, npc_index01, "fe04", 10, true)
    tlk:Message("f_d0604_0130_0050")
    Field.ObjectPlayMotion(NPC, npc_index01, "fe01", 10, true)
    tlk:Message("f_d0604_0130_0060")
    tlk:MessageClose()
    player_e002_01:Play(10, false)
    Motion.Player:Wait()
    tuno_fq01:Play(20, true)
    tlk:Message("f_d0604_0130_0070")
    Field.ObjectPlayMotion(NPC, npc_index01, "ba02", 10, true)
    tlk:Message("f_d0604_0130_0080")
    tlk:EndTalk()
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    Cam.Inst:Clear(0)
    WaitFrame(30)
    FieldObjectSync(NPC, false)
    Guest.Add(GST_TUNOMON)
    Guest.Add(GST_DORIMON)
    FollowerSync()
    INFO_WINDOW(7036)
    Common.SetDigimonGraspState(438, DIGIMON_GRASP_FLAG_SCAN)
    Common.SetDigimonGraspState(466, DIGIMON_GRASP_FLAG_SCAN)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
  end
end

function M410:Event_095()
  if Flg.Check("FLAG_MAIN_19_051A", "FLAG_MAIN_19_053") then
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    tlk:Message("f_d0604_0190_0010")
    Field.MovePlayerToRelativePosFrame(-1, 0, 20)
    WaitFrame(20)
    tlk:EndTalk()
  end
end

function M410:Event_098()
  if Qst.Main:Check(self.ID, self.STEP_010, self.STEP_015) then
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    tlk:Message("f_d0604_0130_0090")
    tlk:Message("f_d0604_0130_0100")
    tlk:Message("f_d0604_0130_0110")
    tlk:EndTalk()
    Qst.Main:Set(self.ID, self.STEP_015)
  else
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    tlk:Message("f_d0604_0130_0100")
    tlk:Message("f_d0604_0130_0110")
    tlk:EndTalk()
  end
end

function M410:Event_099()
  if Qst.Main:Check(self.ID, self.STEP_015, self.STEP_020) then
    Qst.Main:Set(self.ID, self.STEP_020)
  end
end

function M410:Event_100()
  if Qst.Main:Check(self.ID, self.STEP_020, self.STEP_025) and Flg.Check("FLAG_MAIN_19_052", "FLAG_MAIN_19_052A") then
    Flg.Set("FLAG_MAIN_19_052A")
  end
end

function M410:Event_110()
  if Qst.Main:Check(self.ID, self.STEP_020, self.STEP_025) and Flg.Check("FLAG_MAIN_19_052A", "FLAG_MAIN_19_053") then
    Flg.Set("FLAG_MAIN_19_053")
    Field.LoadEffectScript("ef_f_enc_110_rp", 1)
    local npc_index01 = GetIndex(NPC, "npc_0037")
    local npc_pos01 = Field.ObjectGetPosition(NPC, npc_index01)
    local fe02 = Motion.Object:new(NPC, "npc_0037", "fe02")
    local npc_index02 = GetIndex(NPC, "npc_0038")
    local npc_pos02 = Field.ObjectGetPosition(NPC, npc_index02)
    local npc_index03 = GetIndex(NPC, "npc_0039")
    local npc_pos03 = Field.ObjectGetPosition(NPC, npc_index03)
    local npc_index04 = GetIndex(NPC, "npc_0040")
    local npc_pos04 = Field.ObjectGetPosition(NPC, npc_index04)
    local npc_index05 = GetIndex(NPC, "npc_0041")
    local npc_pos05 = Field.ObjectGetPosition(NPC, npc_index05)
    Obj:new(PLAYER, ""):MoveToTarget2D(5.297, -36.014, 7, 40)
    WaitFrame(40)
    Cam.Inst:Set(1.326, 17.027, -35.404, 7.145, 22.696, -41.235, default, 30)
    WaitFrame(30)
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index01, "fe02", 10, 10)
    tlk:Message("f_d0603_0010_0010")
    tlk:MessageClose()
    WaitFrame(10)
    Field.PlayEffectScript("ef_f_enc_110_rp", npc_pos02.x, npc_pos02.y, npc_pos02.z, 0, 1)
    Field.PlayEffectScript("ef_f_enc_110_rp", npc_pos03.x, npc_pos03.y, npc_pos03.z, 0, 1)
    Field.PlayEffectScript("ef_f_enc_110_rp", npc_pos04.x, npc_pos04.y, npc_pos04.z, 0, 1)
    Field.PlayEffectScript("ef_f_enc_110_rp", npc_pos05.x, npc_pos05.y, npc_pos05.z, 0, 1)
    PlaySE(101017, 100)
    WaitFrame(10)
    Obj:new(NPC, "npc_0038"):Invisible(15)
    Obj:new(NPC, "npc_0039"):Invisible(15)
    Obj:new(NPC, "npc_0040"):Invisible(15)
    Obj:new(NPC, "npc_0041"):Invisible(15)
    Field.PlayEffectScript("ef_f_enc_110_rp", npc_pos01.x, npc_pos01.y, npc_pos01.z, 0, 1)
    Obj:new(NPC, "npc_0037"):Invisible(15)
    WaitFrame(30)
    Cam.Inst:Clear(30)
    WaitFrame(30)
    FieldObjectSync(FOR_ALL, false)
    tlk:Message("f_d0603_0010_0013")
    tlk:Message("f_d0603_0010_0015")
    tlk:Message("f_d0603_0010_0016")
    tlk:Message("f_d0603_0010_0017")
    tlk:EndTalk()
    Qst.Main:Set(self.ID, self.STEP_025)
  end
end

function M410:Event_115()
  if (Qst.Main:Check(self.ID, self.STEP_025, self.STEP_030) or Qst.Main:Check(self.ID, self.STEP_055, self.STEP_060)) and not Flg.Check("FLAG_MAIN_19_053A") then
    Flg.Set("FLAG_MAIN_19_053A")
    Obj:new(PLAYER, ""):MoveToTarget2D(8.238, -83.841, 7, 30)
    SetFollowerCameraOperateRotation(0, 270, 30)
    WaitFrame(30)
    Cam.Inst:Set(-22.246, 1.45, -83.791, -12.476, 3.025, -82.395, default, 30)
    WaitFrame(30)
    Obj:new(PLAYER, ""):SetRotationY(270, 20)
    SetFollowerCameraOperateRotation(0, 270)
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    tlk:Message("f_d0603_0050_0010")
    tlk:Message("f_d0603_0050_0020")
    tlk:Message("f_d0603_0050_0030")
    tlk:EndTalk()
    Cam.Inst:Clear(30)
    WaitFrame(30)
    Obj:new(FLD_OBJ_GIMMICK, "wall_north_07"):SetEnableCheckAndFieldAttack(true)
  end
end

function M410:Event_116()
  local tlk = Tlk:new("d06", 1, true)
  tlk:StartTalkAndCancelDigimonRide()
  tlk:Message("f_d0603_0060_0010")
  tlk:Message("f_d0603_0060_0020")
  tlk:Message("f_d0603_0060_0030")
  tlk:Message("f_d0603_0060_0040")
  tlk:Message("f_d0603_0060_0050")
  tlk:Message("f_d0603_0060_0060")
  tlk:Message("f_d0603_0060_0070")
  tlk:EndTalk()
end

function M410:Event_120()
  if Flg.Check("FLAG_MAIN_19_053", "FLAG_MAIN_19_054") then
    local npc_index01 = GetIndex(NPC, "npc_0013")
    Field.ObjectLoadMotion(NPC, npc_index01, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index01, "fe02")
    Field.ObjectLoadMotion(NPC, npc_index01, "fq01")
    Field.ObjectLoadMotion(NPC, npc_index01, "f003")
    local npc_index02 = GetIndex(NPC, "npc_0014")
    Field.ObjectLoadMotion(NPC, npc_index02, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index02, "fq01")
    Field.ObjectLoadMotion(NPC, npc_index02, "fe02")
    local npc_index03 = GetIndex(NPC, "npc_0015")
    Field.ObjectLoadMotion(NPC, npc_index03, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index03, "fe04")
    Field.ObjectLoadMotion(NPC, npc_index03, "fe02")
    local npc_index04 = GetIndex(NPC, "npc_0016")
    Field.ObjectLoadMotion(NPC, npc_index04, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index04, "ba02")
    Field.ObjectLoadMotion(NPC, npc_index04, "fq01")
    local npc_index05 = GetIndex(NPC, "npc_0017")
    Field.ObjectLoadMotion(NPC, npc_index05, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index05, "fe02")
    Flg.Set("FLAG_MAIN_19_054")
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(10)
    FieldObjectSync(FOR_ALL, false)
    Cam.Inst:Set(-43.913, 0.839, -85.125, -34.526, 1.728, -81.794, default, 1)
    local flgs = {
      "FLAG_MAIN_19_054",
      "FLAG_MAIN_19_055"
    }
    local num = 0
    for _, flg in ipairs(flgs) do
      if Flg.Check(flg) then
        num = num + 1
      end
    end
    local tlk = Tlk:new("d06", 1, true)
    Field.ObjectPlayMotion(NPC, npc_index04, "bn01", 10, true)
    Field.ObjectPlayMotion(NPC, npc_index05, "bn01", 10, true)
    tlk:StartTalkAndCancelDigimonRide()
    WaitFrame(10)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    if num == 1 then
      Field.ObjectPlayMotion(NPC, npc_index04, "fq01", 10, true)
      Field.ObjectPlayMotion(NPC, npc_index05, "fe02", 10, true)
      tlk:Message("f_d0603_0020_0010")
      Field.ObjectPlayMotion(NPC, npc_index04, "ba02", 10, true)
      tlk:Message("f_d0603_0020_0020")
      Field.ObjectPlayMotion(NPC, npc_index04, "bn01", 10, true)
      Field.ObjectPlayMotion(NPC, npc_index05, "bn01", 10, true)
    else
      Field.ObjectPlayMotion(NPC, npc_index04, "fq01", 10, true)
      Field.ObjectPlayMotion(NPC, npc_index05, "fe02", 10, true)
      tlk:Message("f_d0603_0020_0010")
      Field.ObjectPlayMotion(NPC, npc_index04, "ba02", 10, true)
      tlk:Message("f_d0603_0020_0030")
      Field.ObjectPlayMotion(NPC, npc_index04, "bn01", 10, true)
      Field.ObjectPlayMotion(NPC, npc_index05, "bn01", 10, true)
    end
    Field.ObjectPlayMotion(NPC, npc_index01, "f003", 10, true)
    tlk:Message("f_d0603_0020_0040")
    Field.ObjectPlayMotion(NPC, npc_index01, "bn01", 10, true)
    Field.ObjectPlayMotion(NPC, npc_index03, "fe04", 10, true)
    tlk:Message("f_d0603_0020_0050")
    Field.ObjectPlayMotion(NPC, npc_index03, "bn01", 10, true)
    Field.ObjectPlayMotion(NPC, npc_index02, "fq01", 10, true)
    tlk:Message("f_d0603_0020_0060")
    Field.ObjectPlayMotion(NPC, npc_index02, "bn01", 10, true)
    Field.ObjectPlayMotion(NPC, npc_index01, "fe02", 10, true)
    tlk:Message("f_d0603_0020_0070")
    Field.ObjectPlayMotion(NPC, npc_index02, "fe02", 10, true)
    Field.ObjectPlayMotion(NPC, npc_index03, "fe02", 10, true)
    WaitFrame(30)
    tlk:EndTalk()
    if Qst.Main:Check(self.ID, self.STEP_025, self.STEP_030) then
      Qst.Main:Set(self.ID, self.STEP_030)
    elseif Qst.Main:Check(self.ID, self.STEP_055, self.STEP_060) then
      Qst.Main:Set(self.ID, self.STEP_060)
    end
    Flg.Set("FLAG_MAIN_19_073")
    Cam.Inst:Clear(30)
    Guest.Add(GST_OGA)
    Guest.Add(GST_HUGA)
    Guest.Add(GST_HYOGA)
    FieldObjectSync(FOR_ALL, true)
    WaitFrame(30)
  end
end

function M410:Event_125()
  if Flg.Check("FLAG_MAIN_19_054", "FLAG_MAIN_19_054A") then
    Flg.Set("FLAG_MAIN_19_054A")
    local npc_index01 = GetIndex(NPC, "npc_0018")
    local npc_index02 = GetIndex(NPC, "npc_0019")
    local npc_index03 = GetIndex(NPC, "npc_0020")
    local npc_index04 = GetIndex(NPC, "npc_0023")
    local npc_index05 = GetIndex(NPC, "npc_0021")
    local npc_index06 = GetIndex(NPC, "npc_0022")
    local npc_pos04 = Field.ObjectGetPosition(NPC, npc_index04)
    local oga_bd01 = Motion.Object:new(NPC, "npc_0018", "bd01")
    local oga_fe04 = Motion.Object:new(NPC, "npc_0018", "fe04")
    local huga_bg01 = Motion.Object:new(NPC, "npc_0019", "bg01")
    local huga_fe02 = Motion.Object:new(NPC, "npc_0019", "fe02")
    local hyoga_bg02 = Motion.Object:new(NPC, "npc_0020", "bg02")
    local hyoga_fq02 = Motion.Object:new(NPC, "npc_0020", "fq02")
    local tuno_fe04 = Motion.Object:new(NPC, "npc_0021", "fe04")
    local dori_fe04 = Motion.Object:new(NPC, "npc_0022", "fe04")
    local kura_ba01 = Motion.Object:new(NPC, "npc_0023", "ba01")
    Field.ObjectLoadMotion(PLAYER, 1, "ft02_02")
    Field.ObjectLoadMotion(PLAYER, 1, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index01, "br01")
    Field.ObjectLoadMotion(NPC, npc_index01, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index02, "br01")
    Field.ObjectLoadMotion(NPC, npc_index02, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index03, "br01")
    Field.ObjectLoadMotion(NPC, npc_index03, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index05, "br01")
    Field.ObjectLoadMotion(NPC, npc_index05, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index05, "fq01")
    Field.ObjectLoadMotion(NPC, npc_index06, "br01")
    Field.ObjectLoadMotion(NPC, npc_index06, "bn01")
    Flg.Set("FLAG_MAIN_19_074")
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(15)
    FieldObjectSync(FOR_ALL, true)
    Obj:new(PLAYER, ""):SetPos(-21.076, 0, -84.443, true)
    Obj:new(PLAYER, ""):SetRotationY(90, 0)
    Cam.Inst:Set(-29.68, 1.98, -83.93, -38.63, 3.12, -79.6, default, 0)
    Obj:new(NPC, "npc_0023"):Invisible()
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    WaitFrame(15)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(30)
    Field.PlayEffectScript("ef_f_enc_110_rp", npc_pos04.x, npc_pos04.y, npc_pos04.z, 0, 1)
    PlaySE(101017, 100)
    Obj:new(NPC, "npc_0023"):CancelInvisible(15)
    WaitFrame(5)
    Field.ObjectPlayMotionWithStartMoveMotion(PLAYER, 1, "ft02_02", 5, 10)
    Obj:new(PLAYER, ""):SetRotationY(270, 20)
    Field.ObjectSetRotationY(NPC, npc_index01, 270, 15)
    Field.ObjectPlayMotion(NPC, npc_index01, "br01", 10, true)
    Field.ObjectPlayMotion(NPC, npc_index01, "br01", 10, true)
    Field.ObjectSetRotationY(NPC, npc_index02, 270, 15)
    Field.ObjectPlayMotion(NPC, npc_index02, "br01", 10, true)
    Field.ObjectSetRotationY(NPC, npc_index03, 270, 15)
    Field.ObjectPlayMotion(NPC, npc_index03, "br01", 10, true)
    WaitFrame(1)
    Field.ObjectSetRotationY(NPC, npc_index05, 270, 15)
    Field.ObjectPlayMotion(NPC, npc_index05, "br01", 10, true)
    WaitFrame(2)
    Field.ObjectSetRotationY(NPC, npc_index06, 270, 15)
    WaitFrame(15)
    Field.ObjectPlayMotion(PLAYER, 1, "bn01", 10, true)
    Field.ObjectPlayMotion(NPC, npc_index01, "bn01", 10, true)
    Field.ObjectPlayMotion(NPC, npc_index02, "bn01", 10, true)
    Field.ObjectPlayMotion(NPC, npc_index03, "bn01", 10, true)
    Field.ObjectPlayMotion(NPC, npc_index05, "bn01", 10, true)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index06, "fe04", 5, 10)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index01, "bd01", 5, 10)
    WaitFrame(1)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index02, "bg01", 5, 10)
    WaitFrame(3)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index03, "bg02", 5, 10)
    WaitFrame(10)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index04, "ba01", 10, 10)
    tlk:Message("f_d0603_0070_0010")
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index01, "fe04", 10, 10)
    tlk:Message("f_d0603_0070_0020")
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index02, "fe02", 10, 10)
    tlk:Message("f_d0603_0070_0030")
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index03, "fq02", 10, 10)
    tlk:Message("f_d0603_0070_0040")
    Field.ObjectPlayMotion(NPC, npc_index05, "fq01", 10, true)
    Field.ObjectLookAtTheObject(NPC, npc_index01, FLD_OBJ_NPC, GetIndex(FLD_OBJ_NPC, "npc_0021"), 20)
    Field.ObjectLookAtTheObject(NPC, npc_index02, FLD_OBJ_NPC, GetIndex(FLD_OBJ_NPC, "npc_0021"), 20)
    Field.ObjectLookAtTheObject(NPC, npc_index03, FLD_OBJ_NPC, GetIndex(FLD_OBJ_NPC, "npc_0021"), 20)
    tlk:Message("f_d0603_0070_0050")
    Field.ObjectPlayMotion(NPC, npc_index05, "fe04", 10, true)
    tlk:Message("f_d0603_0070_0060")
    tlk:EndTalk()
    Guest.Delete(GST_OGA)
    Guest.Delete(GST_HUGA)
    Guest.Delete(GST_HYOGA)
    Field_InvisibleFollowerAllGuest(0, 0, false)
    Cam.Inst:Clear(30)
    WaitFrame(30)
  end
end

function M410:Event_126()
  if Flg.Check("FLAG_MAIN_19_054A", "FLAG_MAIN_19_075") then
    Field_InvisibleFollowerAllPartyMember(0, 10, false)
    Field_InvisibleFollowerAllGuest(0, 0, false)
    Flg.Set("FLAG_MAIN_19_075")
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    tlk:Message("f_d0603_0070_0070")
    tlk:MessageClose()
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    Cam.Inst:Set(-16.56, 0.54, -84.36, -26.44, 2.07, -84.26, default, 0)
    WaitFrame(15)
    FieldObjectSync(FOR_ALL, true)
    SetFollowerCameraOperateRotation(0, 260)
    Obj:new(PLAYER, ""):SetPos(-10.875, 0, -85.224, true)
    Obj:new(PLAYER, ""):SetRotationY(270, 0)
    FollowerSync()
    Cam.Inst:Set(-19.23, 0.49, -83.6, -9.62, 1.56, -86.15, default, 0)
    Field.ObjectSetPos(FLD_OBJ_PLAYER, 1, -10.875, -0, -85.224)
    Field.ObjectSetRotationY(FLD_OBJ_PLAYER, 1, 270, 0)
    WaitFrame(15)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    local npc_index07 = GetIndex(NPC, "npc_0025")
    local oga_bd03 = Motion.Object:new(NPC, "npc_0024", "bd03")
    local oga_bn01 = Motion.Object:new(NPC, "npc_0024", "bn01")
    local huga_fe04 = Motion.Object:new(NPC, "npc_0025", "fe04")
    local tuno_fe04 = Motion.Object:new(NPC, "npc_0027", "fe04")
    local npc_index01 = GetIndex(NPC, "npc_0027")
    Field.ObjectLoadMotion(NPC, npc_index01, "br01")
    Field.ObjectLoadMotion(NPC, npc_index01, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index01, "bn02")
    tlk:Message("f_d0603_0070_0080")
    tlk:MessageClose()
    huga_fe04:Play(10, true)
    Field.ObjectLookAtTheObject(NPC, npc_index07, FLD_OBJ_NPC, GetIndex(FLD_OBJ_NPC, "npc_0027"), 20)
    oga_bd03:Play2Wait(10, false)
    oga_bn01:Play(10, true)
    tlk:Message("f_d0603_0070_0090")
    tuno_fe04:Play(10, true)
    tlk:Message("f_d0603_0070_0100")
    tlk:MessageClose()
    Field.ObjectSetRotationY(NPC, npc_index01, 90, 15)
    Field.ObjectPlayMotion(NPC, npc_index01, "br01", 10, true)
    WaitFrame(15)
    Field.ObjectPlayMotion(NPC, npc_index01, "bn02", 10, true)
    WaitFrame(30)
    tuno_fe04:Play(10, true)
    tlk:Message("f_d0603_0070_0110")
    Flg.Set("FLAG_MAIN_19_085")
    FieldObjectSync(FOR_ALL, true)
    tlk:EndTalk()
    Cam.Inst:Clear(30)
    Field_CancelInvisibleFollowerAllGuest(0, 30, false, true)
    WaitFrame(30)
  end
end

function M410:Event_130()
  if Flg.Check("FLAG_MAIN_19_053", "FLAG_MAIN_19_055") then
    Flg.Set("FLAG_MAIN_19_055")
    local flgs = {
      "FLAG_MAIN_19_054",
      "FLAG_MAIN_19_055"
    }
    local num = 0
    for _, flg in ipairs(flgs) do
      if Flg.Check(flg) then
        num = num + 1
      end
    end
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    if num == 1 then
      tlk:Message("f_d0603_0030_0010")
      tlk:Message("f_d0603_0030_0020")
    else
      tlk:Message("f_d0603_0030_0010")
      tlk:Message("f_d0603_0030_0030")
    end
    tlk:MessageClose()
    local witchmon = GetIndex(NPC, "npc_0006")
    Cam.Inst:Set(-8, 2.51, -12.25, -8, 1.5, -2.25, default, 0)
    FieldObjectSync(NPC, false)
    WaitFrame(5)
    Field.ObjectSetPos(PLAYER, 1, -8.5, 0, 105.69)
    Field.ObjectSetRotationY(PLAYER, 1, 0, 0)
    PlayerObjectResetAim()
    Obj:new(NPC, "npc_0007"):Invisible()
    Obj:new(NPC, "npc_0008"):Invisible()
    Obj:new(NPC, "npc_0009"):Invisible()
    SetFollowerCameraOperateRotation(0, 0, 0)
    Field_InvisibleFollowerAllPartyMember(0, 10, false)
    Field_InvisibleFollowerAllGuest(0, 10, false)
    WaitFrame(25)
    Prcs_d0603_WallChange(wall0603_A_06, col0603_A_06, true)
    Obj:new(OGIM, "fa_searcheye_06"):CancelInvisible(10)
    WaitFrame(15)
    SetControlScriptExternalVariable("cam_state", "run")
    Cam.Inst:Clear(0)
    WaitFrame(Util.FrameFromSecond(2.5))
    Prcs_d0603_WallChange(wall0603_A_05, col0603_A_05, true)
    WaitFrame(Util.FrameFromSecond(1.8))
    Prcs_d0603_WallChange(wall0603_A_04, col0603_A_04, true)
    Obj:new(OGIM, "fa_searcheye_05"):CancelInvisible(10)
    WaitFrame(Util.FrameFromSecond(0.8))
    Prcs_d0603_WallChange(wall0603_A_03, col0603_A_03, true)
    WaitFrame(Util.FrameFromSecond(1.3))
    Prcs_d0603_WallChange(wall0603_A_02, col0603_A_02, true)
    Obj:new(OGIM, "fa_searcheye_04"):CancelInvisible(10)
    WaitFrame(Util.FrameFromSecond(2))
    Prcs_d0603_WallChange(wall0603_A_01, col0603_A_01, true)
    Obj:new(OGIM, "fa_searcheye_03"):CancelInvisible(10)
    WaitFrame(Util.FrameFromSecond(2.5))
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    SetControlScriptExternalVariable("cam_state", "stop")
    WaitFrame(5)
    WaitFrame(10)
    Obj:new(NPC, "npc_0006"):Invisible()
    Obj:new(NPC, "npc_0007"):CancelInvisible()
    Obj:new(NPC, "npc_0008"):CancelInvisible()
    Obj:new(NPC, "npc_0009"):CancelInvisible()
    local npc01_index = GetIndex(NPC, "npc_0009")
    Field.ObjectLoadMotion(NPC, npc01_index, "bn01")
    Field.ObjectLoadMotion(NPC, npc01_index, "fq01")
    Field.ObjectLoadMotion(NPC, npc01_index, "fq02")
    local npc02_index = GetIndex(NPC, "npc_0007")
    Field.ObjectLoadMotion(NPC, npc02_index, "bn01")
    Field.ObjectLoadMotion(NPC, npc02_index, "e002")
    local bn02 = Motion.Object:new(NPC, "npc_0007", "bn02")
    local fe02 = Motion.Object:new(NPC, "npc_0007", "fe02")
    bn02:Play(10, true)
    WaitFrame(5)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(30)
    Field.ObjectPlayMotion(NPC, npc02_index, "bn01", 10, true)
    Field.ObjectPlayMotion(NPC, npc01_index, "fq01", 10, true)
    tlk:Message("f_d0603_0030_0050")
    Field.ObjectPlayMotion(NPC, npc01_index, "fq02", 10, true)
    tlk:Message("f_d0603_0030_0060")
    Field.ObjectPlayMotion(NPC, npc01_index, "bn01", 10, true)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc02_index, "fe02", 10, 10)
    tlk:Message("f_d0603_0030_0070")
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    tlk:EndTalk()
    Guest.Add(GST_WITCHMON)
    Common.SetDigimonGraspState(601, DIGIMON_GRASP_FLAG_SCAN)
    Flg.Set("FLAG_GIMMICK_D06_190")
    WaitFrame(10)
    FieldObjectSync(NPC, false)
    FollowerSync()
    Cam.Inst:Clear(0)
    WaitFrame(5)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(30)
    Field_CancelInvisibleFollowerAllPartyMember(0, 30, false, true)
    Field_CancelInvisibleFollowerAllGuest(0, 30, false, true)
    if not Qst.Main:Check(self.ID, self.STEP_030) and not Qst.Main:Check(self.ID, self.STEP_035) then
      Qst.Main:Set(self.ID, self.STEP_030)
      Qst.Main:Set(self.ID, self.STEP_035)
      Qst.Main:Set(self.ID, self.STEP_040)
    elseif Qst.Main:Check(self.ID, self.STEP_030, self.STEP_035) then
      Qst.Main:Set(self.ID, self.STEP_035)
      Qst.Main:Set(self.ID, self.STEP_040)
    end
  end
end

function M410:Event_131()
  local enemy_index = GetIndex(ENEMY, "enemy_01")
  Field.ObjectLoadMotion(ENEMY, enemy_index, "ba01")
  Field.ObjectLoadMotion(ENEMY, enemy_index, "bn01")
  Field.ObjectLoadMotion(ENEMY, enemy_index, "bn02")
  Field.ObjectLoadMotion(ENEMY, enemy_index, "fq02")
  local npc01_index = GetIndex(FLD_OBJ_FOLLOWER, "guest", GST_WITCHMON)
  Motion.Follower:Load(GST_WITCHMON, "guest", "bn01")
  Motion.Follower:Load(GST_WITCHMON, "guest", "bn02")
  Motion.Follower:Load(GST_WITCHMON, "guest", "bd01")
  Motion.Follower:Load(GST_WITCHMON, "guest", "fe04")
  Motion.Follower:Load(GST_WITCHMON, "guest", "fq02")
  Motion.Follower:Load(GST_WITCHMON, "guest", "ba01")
  Motion.Follower:Load(GST_WITCHMON, "guest", "e002")
  local npc02_index = GetIndex(FLD_OBJ_FOLLOWER, "guest", GST_TUNOMON)
  Motion.Follower:Load(GST_TUNOMON, "guest", "bn01")
  Motion.Follower:Load(GST_TUNOMON, "guest", "fe02")
  Motion.Follower:Load(GST_TUNOMON, "guest", "fe04")
  Motion.Follower:Load(GST_TUNOMON, "guest", "fq01")
  Motion.Follower:Load(GST_TUNOMON, "guest", "fq02")
  local npc03_index = GetIndex(FLD_OBJ_FOLLOWER, "guest", GST_DORIMON)
  Motion.Follower:Load(GST_DORIMON, "guest", "bn01")
  Motion.Follower:Load(GST_DORIMON, "guest", "fe04")
  local turnpoint = Obj:new(NPC, "npc_0900")
  Field.ObjectAttachEffectScript(ENEMY, enemy_index, "ef_b_sta_140", false, 1, false, true, true, false, "TP01")
  Field.ObjectAttachEffectScript(ENEMY, enemy_index, "ef_b_sta_141", true, 2, false, true, true, false, "TP01")
  Flg.Set("FLAG_MAIN_19_071")
  WaitFrame(30)
  Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
  FieldObjectSync(NPC, true)
  WaitFrame(10)
  Obj:new(FLD_OBJ_FOLLOWER, GST_WITCHMON, "guest"):SetPos(-4.918, 0, 103, true)
  Obj:new(FLD_OBJ_FOLLOWER, GST_TUNOMON, "guest"):SetPos(-5.517, 0, 104.829, true)
  Obj:new(FLD_OBJ_FOLLOWER, GST_DORIMON, "guest"):SetPos(-3.435, 0, 104.017, true)
  Field_InvisibleFollowerAllPartyMember(0, 10, false)
  Cam.Inst:Set(-8.57, 2.28, 97.43, -8.26, 1.34, 107.38, default, 0)
  Obj:new(PLAYER, ""):SetPos(-8.469, 0, 105.155, true)
  Obj:new(PLAYER, ""):SetRotationY(0, 0)
  SetFollowerCameraOperateRotation(0, 0, 0)
  WaitFrame(5)
  local tlk = Tlk:new("d06", 1, true, false)
  tlk:StartTalkAndCancelDigimonRide()
  FadeAllInWithWait(FADE_BLACK, FADE_TIME)
  WaitFrame(30)
  Prcs_d0603_WallChange(wall0603_Searcheye01_Init01, col0603_Searcheye01_Init01, false)
  Prcs_d0603_WallChange(wall0603_Searcheye01_Init02, col0603_Searcheye01_Init02, false)
  WaitFrame(60)
  Field.SymbolForceRespawn(enemy_index, false, true)
  WaitFrame(60)
  Obj:new(FLD_OBJ_FOLLOWER, GST_WITCHMON, "guest"):SetRotationY(130, 30)
  Obj:new(FLD_OBJ_FOLLOWER, GST_TUNOMON, "guest"):SetRotationY(130, 30)
  Obj:new(FLD_OBJ_FOLLOWER, GST_DORIMON, "guest"):SetRotationY(130, 30)
  ObjectTurnToObject(PLAYER, "", NPC, turnpoint.name)
  Flg.Set("FLAG_GIMMICK_D06_340")
  WaitFrame(10)
  Cam.Inst:Set(0.176, 0.699, 105.43, -9.74, 1.48, 104.42, default, 30)
  WaitFrame(30)
  Field.ObjectPlayMotionWithStartMoveMotion(ENEMY, enemy_index, "ba01", 10, 10)
  WaitFrame(50)
  Field.ObjectLoadExpression(PLAYER, 1, "F05")
  Field.ObjectChangeExpression(PLAYER, 1, "F05", EYES_BLINK_TYPE_BLINK, false, 30)
  Motion.Player:PlayWithMoveMotion("e006", 5, 5)
  Motion.Follower:Play(GST_WITCHMON, "guest", "bd01", 10, false)
  Motion.Follower:Play(GST_TUNOMON, "guest", "fe02", 5, false)
  Motion.Follower:Play(GST_DORIMON, "guest", "fe04", 10, false)
  WaitFrame(30)
  Motion.Follower:Play(GST_WITCHMON, "guest", "bn01", 15, true)
  Motion.Follower:Play(GST_TUNOMON, "guest", "bn01", 15, true)
  Motion.Follower:Play(GST_DORIMON, "guest", "bn01", 15, true)
  tlk:Message("f_d0603_0080_0010")
  Motion.Follower:Play(GST_TUNOMON, "guest", "fe04", 15, true)
  tlk:Message("f_d0603_0080_0020")
  Motion.Follower:Play(GST_TUNOMON, "guest", "bn01", 15, true)
  Field.ObjectPlayMotionWithStartMoveMotion(FLD_OBJ_FOLLOWER, npc01_index, "ba01", 10, 10)
  tlk:Message("f_d0603_0080_0040")
  tlk:MessageClose()
  Motion.Follower:Play(GST_WITCHMON, "guest", "fe04", 15, false)
  local npc_index02 = GetIndex(FLD_OBJ_FOLLOWER, "guest", GST_WITCHMON)
  local npc_pos02 = Field.ObjectGetPosition(FLD_OBJ_FOLLOWER, npc_index02)
  local npc_rot02 = Field.ObjectGetRotationTargetY(FLD_OBJ_FOLLOWER, npc_index02)
  Field.ObjectAttachEffectScript(FLD_OBJ_FOLLOWER, npc_index02, "ef_b_act_100", false, 1, false, false, true, false, "CP01")
  Field.ObjectStartEffectScript(FLD_OBJ_FOLLOWER, npc_index02, 1)
  WaitFrame(20)
  Field.ObjectStartEffectScript(ENEMY, enemy_index, 1)
  PlaySE(300309, 100)
  WaitFrame(30)
  Motion.Follower:Play(GST_WITCHMON, "guest", "bn01", 15, true)
  Field.ObjectPlayMotion(ENEMY, enemy_index, "bn02", 10, true)
  Field.ObjectStartEffectScript(ENEMY, enemy_index, 2)
  WaitFrame(60)
  Motion.Follower:Play(GST_TUNOMON, "guest", "fq01", 15, true)
  tlk:Message("f_d0603_0080_0050")
  Motion.Follower:Play(GST_TUNOMON, "guest", "bn01", 15, true)
  tlk:MessageClose()
  Field.ObjectEndEffectScript(ENEMY, enemy_index, 2)
  WaitFrame(30)
  Field.ObjectPlayMotionWithStartMoveMotion(ENEMY, enemy_index, "bn01", 10, 10)
  WaitFrame(30)
  Field.ObjectPlayMotion(ENEMY, enemy_index, "fq02", 10, true)
  tlk:Message("f_d0603_0080_0060")
  Field.ObjectPlayMotion(ENEMY, enemy_index, "bn01", 10, true)
  Motion.Player:PlayWithMoveMotion("e006", 5, 5)
  Motion.Follower:Play(GST_WITCHMON, "guest", "bd01", 10, false)
  Motion.Follower:Play(GST_TUNOMON, "guest", "fe02", 10, false)
  Motion.Follower:Play(GST_DORIMON, "guest", "fe04", 10, false)
  WaitFrame(30)
  Motion.Follower:Play(GST_TUNOMON, "guest", "bn01", 15, true)
  Motion.Follower:Play(GST_DORIMON, "guest", "bn01", 15, true)
  Motion.Follower:Play(GST_WITCHMON, "guest", "e002", 15, true)
  tlk:Message("f_d0603_0080_0070")
  Motion.Follower:Play(GST_TUNOMON, "guest", "fe04", 10, true)
  tlk:Message("f_d0603_0080_0080")
  Motion.Follower:Play(GST_TUNOMON, "guest", "bn01", 10, true)
  Field.ObjectPlayMotionWithStartMoveMotion(FLD_OBJ_FOLLOWER, npc01_index, "ba01", 10, 10)
  tlk:Message("f_d0603_0080_0090")
  tlk:MessageClose()
  Motion.Follower:Play(GST_WITCHMON, "guest", "fe04", 15, false)
  WaitFrame(30)
  Motion.Follower:Play(GST_WITCHMON, "guest", "bn01", 15, false)
  Field.ObjectStartEffectScript(FLD_OBJ_FOLLOWER, npc_index02, 1)
  WaitFrame(20)
  Field.ObjectStartEffectScript(ENEMY, enemy_index, 1)
  PlaySE(300309, 100)
  WaitFrame(30)
  Motion.Follower:Play(GST_WITCHMON, "guest", "bn01", 15, true)
  Field.ObjectPlayMotion(ENEMY, enemy_index, "bn02", 10, true)
  Field.ObjectStartEffectScript(ENEMY, enemy_index, 2)
  WaitFrame(60)
  Field.ObjectEndEffectScript(ENEMY, enemy_index, 2)
  WaitFrame(30)
  Field.ObjectPlayMotionWithStartMoveMotion(ENEMY, enemy_index, "bn01", 10, 10)
  WaitFrame(30)
  Field.ObjectPlayMotion(ENEMY, enemy_index, "fq02", 10, true)
  tlk:Message("f_d0603_0080_0100")
  Field.ObjectPlayMotion(ENEMY, enemy_index, "bn01", 10, true)
  WaitFrame(30)
  Field.ObjectPlayMotionWithStartMoveMotion(ENEMY, enemy_index, "ba01", 10, 10)
  tlk:Message("f_d0603_0080_0120")
  Motion.Follower:Play(GST_TUNOMON, "guest", "fq02", 15, true)
  tlk:Message("f_d0603_0080_0130")
  tlk:EndTalk()
  Motion.Follower:Play(GST_WITCHMON, "guest", "bn01", 15, true)
  Motion.Follower:Play(GST_TUNOMON, "guest", "bn01", 15, true)
  Motion.Follower:Play(GST_DORIMON, "guest", "bn01", 15, true)
  Field.ObjectClearExpression(PLAYER, 1, 5)
  Flg.Set("FLAG_MAIN_19_072")
  Cam.Inst:Clear(30)
  WaitFrame(30)
  Field_CancelInvisibleFollowerAllPartyMember(0, 30, false, true)
  Field_CancelInvisibleFollowerAllGuest(0, 30, false, true)
  Qst.Main:Set(self.ID, self.STEP_045)
end

function M410:Event_132()
  Prcs_d0603_WallChange(wall0603_Searcheye02_01, col0603_Searcheye02_01, false)
end

function M410:Event_132A()
  if Qst.Main:Check(self.ID, self.STEP_045, self.STEP_050) then
    Qst.Main:Set(self.ID, self.STEP_050)
  end
end

function M410:Event_133()
  Prcs_d0603_WallChange(wall0603_Searcheye03_Init01, col0603_Searcheye03_Init01, false)
  Prcs_d0603_WallChange(wall0603_Searcheye03_Init02, col0603_Searcheye03_Init02, false)
  local enemy_index = GetIndex(ENEMY, "enemy_02")
  Field.ObjectLoadMotion(ENEMY, enemy_index, "ba01")
  Field.ObjectAttachEffectScript(ENEMY, enemy_index, "ef_b_sta_140", false, 1, false, true, true, false, "TP01")
  Field.ObjectAttachEffectScript(ENEMY, enemy_index, "ef_b_sta_141", true, 2, false, true, true, false, "TP01")
  local tlk = Tlk:new("d06", 1, true)
  tlk:StartTalkAndCancelDigimonRide()
  Cam.Inst:Set(-8.68, 2.68, 70.67, -8.87, 2.3, 60.69, default, 30)
  WaitFrame(30)
  Field.SymbolForceRespawn(enemy_index, false, true)
  Flg.Set("FLAG_GIMMICK_D06_350")
  WaitFrame(30)
  Field.ObjectPlayMotionWithStartMoveMotion(ENEMY, enemy_index, "ba01", 10, 10)
  WaitFrame(30)
  tlk:Message("f_d0603_0090_0010")
  tlk:EndTalk()
  Cam.Inst:Clear(30)
  WaitFrame(30)
end

function M410:Event_134()
  Prcs_d0603_WallChange(wall0603_Searcheye04_Init01, col0603_Searcheye04_Init01, false)
end

function M410:Event_135A()
  if Flg.Check("FLAG_GIMMICK_D06_060") and not Flg.Check("FLAG_GIMMICK_D06_070") and not Flg.Check("FLAG_GIMMICK_D06_360") then
    local enemy_index = GetIndex(ENEMY, "enemy_03")
    Field.ObjectLoadMotion(ENEMY, enemy_index, "fe04")
    Field.ObjectLoadMotion(ENEMY, enemy_index, "bn02")
    Field.ObjectAttachEffectScript(ENEMY, enemy_index, "ef_b_sta_140", false, 1, false, true, true, false, "TP01")
    Field.ObjectAttachEffectScript(ENEMY, enemy_index, "ef_b_sta_141", true, 2, false, true, true, false, "TP01")
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    Cam.Inst:Set(8.7, 2.076, 9.948, 7.423, 2.807, 19.84, default, 30)
    WaitFrame(30)
    Field.SymbolForceRespawn(enemy_index, false, true)
    Flg.Set("FLAG_GIMMICK_D06_360")
    Flg.Clear("FLAG_GIMMICK_D06_380")
    Flg.Clear("FLAG_GIMMICK_D06_390")
    Flg.Clear("FLAG_GIMMICK_D06_400")
    WaitFrame(30)
    tlk:Message("f_d0603_0100_0010")
    tlk:Message("f_d0603_0100_0020")
    tlk:MessageClose()
    Field.ObjectStartEffectScript(ENEMY, enemy_index, 1)
    PlaySE(300309, 100)
    Field.ObjectPlayMotion(ENEMY, enemy_index, "bn02", 10, true)
    Field.ObjectStartEffectScript(ENEMY, enemy_index, 2)
    WaitFrame(30)
    Field.ObjectEndEffectScript(ENEMY, enemy_index, 2)
    WaitFrame(15)
    Field.ObjectPlayMotionWithStartMoveMotion(ENEMY, enemy_index, "fe04", 10, 10)
    tlk:Message("f_d0603_0100_0030")
    tlk:EndTalk()
    Cam.Inst:Clear(30)
    WaitFrame(30)
  end
end

function M410:Event_135B()
  if Flg.Check("FLAG_GIMMICK_D06_060") and not Flg.Check("FLAG_GIMMICK_D06_070") and not Flg.Check("FLAG_GIMMICK_D06_380") then
    local enemy_index = GetIndex(ENEMY, "enemy_03")
    Field.ObjectLoadMotion(ENEMY, enemy_index, "bv01")
    Field.ObjectLoadMotion(ENEMY, enemy_index, "bn02")
    Field.ObjectLoadMotion(ENEMY, enemy_index, "fq02")
    Field.ObjectAttachEffectScript(ENEMY, enemy_index, "ef_b_sta_140", false, 1, false, true, true, false, "TP01")
    Field.ObjectAttachEffectScript(ENEMY, enemy_index, "ef_b_sta_141", true, 2, false, true, true, false, "TP01")
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    Cam.Inst:Set(-23.28, 1.75, 8.237, -24.95, 2.927, 18.027, default, 30)
    WaitFrame(30)
    Field.SymbolForceRespawnAndWarp(enemy_index, -24, 0, 12, false, true)
    Flg.Set("FLAG_GIMMICK_D06_380")
    Flg.Clear("FLAG_GIMMICK_D06_360")
    Flg.Clear("FLAG_GIMMICK_D06_390")
    Flg.Clear("FLAG_GIMMICK_D06_400")
    WaitFrame(30)
    tlk:Message("f_d0603_0100_0010")
    tlk:Message("f_d0603_0100_0020")
    tlk:MessageClose()
    Field.ObjectStartEffectScript(ENEMY, enemy_index, 1)
    PlaySE(300309, 100)
    Field.ObjectPlayMotion(ENEMY, enemy_index, "bn02", 10, true)
    Field.ObjectStartEffectScript(ENEMY, enemy_index, 2)
    WaitFrame(30)
    Field.ObjectEndEffectScript(ENEMY, enemy_index, 2)
    WaitFrame(15)
    Field.ObjectPlayMotion(ENEMY, enemy_index, "fq02", 10, true)
    tlk:Message("f_d0603_0100_0040")
    Field.ObjectPlayMotionWithStartMoveMotion(ENEMY, enemy_index, "bv01", 10, 10)
    tlk:Message("f_d0603_0100_0045")
    tlk:EndTalk()
    Cam.Inst:Clear(30)
    WaitFrame(30)
  end
end

function M410:Event_135C()
  if Flg.Check("FLAG_GIMMICK_D06_060") and not Flg.Check("FLAG_GIMMICK_D06_070") and not Flg.Check("FLAG_GIMMICK_D06_390") then
    local enemy_index = GetIndex(ENEMY, "enemy_03")
    Field.ObjectLoadMotion(ENEMY, enemy_index, "fe04")
    Field.ObjectLoadMotion(ENEMY, enemy_index, "bn02")
    Field.ObjectLoadMotion(ENEMY, enemy_index, "fq02")
    Field.ObjectAttachEffectScript(ENEMY, enemy_index, "ef_b_sta_140", false, 1, false, true, true, false, "TP01")
    Field.ObjectAttachEffectScript(ENEMY, enemy_index, "ef_b_sta_141", true, 2, false, true, true, false, "TP01")
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    Cam.Inst:Set(-8, 1.999, 1.276, -7.538, 3.044, 11.21, default, 30)
    WaitFrame(30)
    Field.SymbolForceRespawnAndWarp(enemy_index, -8, 0, 4, false, true)
    Flg.Set("FLAG_GIMMICK_D06_390")
    Flg.Clear("FLAG_GIMMICK_D06_360")
    Flg.Clear("FLAG_GIMMICK_D06_380")
    Flg.Clear("FLAG_GIMMICK_D06_400")
    WaitFrame(30)
    tlk:Message("f_d0603_0100_0010")
    tlk:Message("f_d0603_0100_0020")
    tlk:MessageClose()
    Field.ObjectStartEffectScript(ENEMY, enemy_index, 1)
    PlaySE(300309, 100)
    Field.ObjectPlayMotion(ENEMY, enemy_index, "bn02", 10, true)
    Field.ObjectStartEffectScript(ENEMY, enemy_index, 2)
    WaitFrame(30)
    Field.ObjectEndEffectScript(ENEMY, enemy_index, 2)
    WaitFrame(15)
    Field.ObjectPlayMotion(ENEMY, enemy_index, "fq02", 10, true)
    tlk:Message("f_d0603_0100_0050")
    Field.ObjectPlayMotionWithStartMoveMotion(ENEMY, enemy_index, "fe04", 10, 10)
    tlk:Message("f_d0603_0100_0055")
    tlk:EndTalk()
    Cam.Inst:Clear(30)
    WaitFrame(30)
  end
end

function M410:Event_135D()
  if Flg.Check("FLAG_GIMMICK_D06_060") and not Flg.Check("FLAG_GIMMICK_D06_070") and not Flg.Check("FLAG_GIMMICK_D06_400") then
    local enemy_index = GetIndex(ENEMY, "enemy_03")
    Field.ObjectLoadMotion(ENEMY, enemy_index, "bv01")
    Field.ObjectLoadMotion(ENEMY, enemy_index, "bn02")
    Field.ObjectLoadMotion(ENEMY, enemy_index, "fe01")
    Field.ObjectAttachEffectScript(ENEMY, enemy_index, "ef_b_sta_140", false, 1, false, true, true, false, "TP01")
    Field.ObjectAttachEffectScript(ENEMY, enemy_index, "ef_b_sta_141", true, 2, false, true, true, false, "TP01")
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    Cam.Inst:Set(8.959, 2.099, -6.788, 6.186, 3.219, 2.754, default, 30)
    WaitFrame(30)
    Field.SymbolForceRespawnAndWarp(enemy_index, 8, 0, -4, false, true)
    Flg.Set("FLAG_GIMMICK_D06_400")
    Flg.Clear("FLAG_GIMMICK_D06_380")
    Flg.Clear("FLAG_GIMMICK_D06_390")
    Flg.Clear("FLAG_GIMMICK_D06_360")
    WaitFrame(30)
    tlk:Message("f_d0603_0100_0010")
    tlk:Message("f_d0603_0100_0020")
    tlk:MessageClose()
    Field.ObjectStartEffectScript(ENEMY, enemy_index, 1)
    PlaySE(300309, 100)
    Field.ObjectPlayMotion(ENEMY, enemy_index, "bn02", 10, true)
    Field.ObjectStartEffectScript(ENEMY, enemy_index, 2)
    WaitFrame(30)
    Field.ObjectEndEffectScript(ENEMY, enemy_index, 2)
    WaitFrame(15)
    Field.ObjectPlayMotion(ENEMY, enemy_index, "fe01", 10, true)
    tlk:Message("f_d0603_0100_0060")
    Field.ObjectPlayMotionWithStartMoveMotion(ENEMY, enemy_index, "bv01", 10, 10)
    tlk:Message("f_d0603_0100_0065")
    tlk:EndTalk()
    Cam.Inst:Clear(30)
    WaitFrame(30)
  end
end

function M410:Event_136()
  if Flg.Check("FLAG_GIMMICK_D06_070", "FLAG_MAIN_19_078") then
    Flg.Set("FLAG_MAIN_19_078")
    local enemy_index = GetIndex(ENEMY, "enemy_04")
    Field.ObjectLoadMotion(ENEMY, enemy_index, "ba01")
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    if not Flg.Check("FLAG_MAIN_19_079") then
      SetControlScriptExternalVariable("ogarun01_state", "ogarun01")
    end
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(10)
    FieldObjectSync(FOR_ALL, false)
    Field.ObjectSetPos(PLAYER, 1, -7.7, 0, -20.23)
    Field.ObjectSetRotationY(PLAYER, 1, 0, 0)
    SetFollowerCameraOperateRotation(0, 0, 0)
    Cam.Inst:Set(-7.86, 1.93, -29.28, -7.26, 1.44, -19.31, default, 0)
    WaitFrame(5)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(30)
    tlk:Message("f_d0603_0110_0010")
    tlk:Message("f_d0603_0110_0020")
    tlk:MessageClose()
    Field.SymbolForceRespawn(enemy_index, false, true)
    Flg.Set("FLAG_GIMMICK_D06_370")
    WaitFrame(30)
    local oga = GetIndex(NPC, "npc_0042")
    local huga = GetIndex(NPC, "npc_0043")
    local hyoga = GetIndex(NPC, "npc_0044")
    local witch = GetIndex(NPC, "npc_0047")
    local npc01_index = GetIndex(NPC, "npc_0046")
    local npc02_index = GetIndex(NPC, "npc_0045")
    local oga_bd01 = Motion.Object:new(NPC, "npc_0042", "bd01")
    local huga_bd01 = Motion.Object:new(NPC, "npc_0043", "bd01")
    local hyoga_bd01 = Motion.Object:new(NPC, "npc_0044", "bd01")
    local witch_fe04 = Motion.Object:new(NPC, "npc_0047", "fe04")
    local witch_bd01 = Motion.Object:new(NPC, "npc_0047", "bd01")
    Field.ObjectLoadMotion(NPC, witch, "bn01")
    Field.ObjectLoadMotion(NPC, witch, "bn02")
    Field.ObjectLoadMotion(NPC, witch, "ba01")
    Field.ObjectLoadMotion(NPC, witch, "e002")
    Field.ObjectLoadMotion(NPC, witch, "fq02")
    Field.ObjectLoadMotion(NPC, npc01_index, "fe04")
    Field.ObjectLoadMotion(NPC, npc01_index, "bn01")
    Field.ObjectPlayMotionWithStartMoveMotion(ENEMY, enemy_index, "ba01", 10, 10)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, oga, "bd01", 5, 10)
    WaitFrame(2)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, huga, "bd01", 5, 10)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, hyoga, "bd01", 5, 10)
    WaitFrame(30)
    tlk:Message("f_d0603_0110_0030")
    tlk:Message("f_d0603_0110_0040")
    Field.ObjectReleaseMonopolyOnAll(NPC, oga)
    Field.ObjectReleaseMonopolyOnAll(NPC, huga)
    Field.ObjectReleaseMonopolyOnAll(NPC, hyoga)
    if not Flg.Check("FLAG_MAIN_19_079") then
      SetControlScriptExternalVariable("ogarun02_state", "ogarun02")
    end
    WaitFrame(60)
    Field.ObjectPlayMotion(NPC, npc01_index, "fe04", 10, true)
    tlk:Message("f_d0603_0110_0050")
    Field.ObjectPlayMotion(NPC, npc01_index, "bn01", 10, true)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, witch, "e002", 10, 10)
    tlk:Message("f_d0603_0110_0060")
    tlk:MessageClose()
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, witch, "fe04", 10, 10)
    WaitFrame(90)
    Field.ObjectPlayMotion(NPC, witch, "fq02", 10, true)
    WaitFrame(30)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, witch, "fe04", 10, 10)
    WaitFrame(90)
    Field.ObjectPlayMotion(NPC, witch, "bn02", 10, true)
    tlk:Message("f_d0603_0110_0070")
    tlk:MessageClose()
    Field.ObjectPlayMotionWithStartMoveMotion(ENEMY, enemy_index, "ba01", 10, 10)
    WaitFrame(30)
    tlk:Message("f_d0603_0110_0080")
    tlk:EndTalk()
    Flg.Set("FLAG_MAIN_19_079")
    FieldObjectSync(FOR_ALL, true)
    Cam.Inst:Clear(30)
    WaitFrame(30)
    if Qst.Main:Check(self.ID, self.STEP_045, self.STEP_055) then
      local num = Flg.CheckNum({
        "FLAG_MAIN_19_054",
        "FLAG_MAIN_19_055"
      })
      if num == 1 then
        Qst.Main:Set(self.ID, self.STEP_055)
        Qst.Main:Set(self.ID, self.STEP_065)
      else
        Qst.Main:Set(self.ID, self.STEP_055)
        Qst.Main:Set(self.ID, self.STEP_060)
        Qst.Main:Set(self.ID, self.STEP_065)
      end
    end
  end
end

function M410:Event_137()
  if Flg.Check("FLAG_GIMMICK_D06_070") and not Flg.Check("FLAG_MAIN_19_083") then
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    tlk:Message("f_d0603_0120_0010")
    Field.MovePlayerToRelativePosFrame(0, 1, 20)
    WaitFrame(20)
    tlk:EndTalk()
  end
end

function M410:Event_138_flagctrl()
  if Qst.Main:AllCheck(self.ID, {
    self.STEP_060,
    self.STEP_065
  }) and not Flg.Check("FLAG_MAIN_19_080") then
    Flg.Set("FLAG_MAIN_19_080")
    Flg.Set("FLAG_MAIN_19_083")
    FieldObjectSync(FOR_ALL, false)
  end
end

function M410:Event_138()
  if Qst.Main:AllCheck(self.ID, {
    self.STEP_060,
    self.STEP_065
  }) and not Flg.Check("FLAG_MAIN_19_080") then
    Flg.Set("FLAG_MAIN_19_080")
    local npc01_index = GetIndex(NPC, "npc_127")
    Field.ObjectLoadMotion(NPC, npc01_index, "bn01")
    Field.ObjectLoadMotion(NPC, npc01_index, "fe04")
    Field.ObjectLoadMotion(NPC, npc01_index, "fq01")
    Field.ObjectLoadMotion(NPC, npc01_index, "fq02")
    local npc02_index = GetIndex(NPC, "npc_128")
    Field.ObjectLoadMotion(NPC, npc02_index, "bn01")
    local npc03_index = GetIndex(NPC, "npc_129")
    local fake_bg01 = Motion.Object:new(NPC, "npc_129", "bg01")
    FieldObjectSync(FOR_ALL, true)
    WaitFrame(1)
    Field.ObjectLoadMotion(PLAYER, 1, "e018")
    Field.ObjectLoadMotion(PLAYER, 1, "e006")
    local fake = Obj:new(NPC, "npc_129")
    Obj:new(NPC, "npc_131"):Invisible(15)
    Obj:new(NPC, "npc_132"):Invisible(15)
    Obj:new(NPC, "npc_133"):Invisible(15)
    Obj:new(NPC, "npc_134"):Invisible(15)
    Field_InvisibleFollowerAllPartyMember(0, 0, true)
    Field_InvisibleFollowerAllGuest(0, 0, true)
    if not Flg.Check("FLAG_MAIN_19_083") then
      SetControlScriptExternalVariable("fakerun01_state", "fakerun01")
    end
    SetFollowerCameraOperateRotation(0, 0, 15)
    WaitFrame(15)
    ObjectTurnToObject(PLAYER, "", NPC, fake.name)
    Field.ObjectPlayMotion(PLAYER, 1, "e018", 10, true)
    WaitFrame(20)
    Field.ObjectPlayMotion(NPC, npc01_index, "bn01", 10, true)
    Field.ObjectPlayMotion(NPC, npc02_index, "bn01", 10, true)
    WaitFrame(25)
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    Field.ObjectPlayMotion(NPC, npc01_index, "fe04", 10, true)
    tlk:Message("f_d0604_0270_0010")
    SetControlScriptExternalVariable("fakerun01_state", "end")
    WaitFrame(5)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc03_index, "bg01", 15, 15)
    tlk:Message("f_d0604_0270_0020")
    Field.ObjectPlayMotion(NPC, npc01_index, "fq02", 10, true)
    Motion.Player:PlayWithMoveMotion("fn01_01", 20, 20)
    tlk:Message("f_d0604_0270_0030")
    Field.ObjectPlayMotion(NPC, npc01_index, "bn01", 10, true)
    Field.ObjectLookAtTheObject(NPC, npc03_index, FLD_OBJ_NPC, GetIndex(FLD_OBJ_NPC, "npc_127"), 30)
    tlk:Message("f_d0604_0270_0040")
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(15)
    local npc_index03 = GetIndex(NPC, "npc_132")
    local tuno_fe04 = Motion.Object:new(NPC, "npc_132", "fe04")
    Field.ObjectLoadMotion(NPC, npc_index03, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index03, "fq01")
    local npc_index02 = GetIndex(NPC, "npc_131")
    local rana_e002 = Motion.Object:new(NPC, "npc_131", "e002")
    local rana_e005 = Motion.Object:new(NPC, "npc_131", "e005")
    local rana_fe02 = Motion.Object:new(NPC, "npc_131", "fe02")
    local rana_fe04 = Motion.Object:new(NPC, "npc_131", "fe04")
    local rana_e007_01 = Motion.Object:new(NPC, "npc_131", "e007_01")
    Field.ObjectLoadMotion(NPC, npc_index02, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index02, "e008")
    Field.ObjectLoadMotion(NPC, npc_index02, "fq01")
    local npc_index04 = GetIndex(NPC, "npc_133")
    local dori_fe04 = Motion.Object:new(NPC, "npc_133", "fe04")
    local npc_index05 = GetIndex(NPC, "npc_134")
    local witch_bd01 = Motion.Object:new(NPC, "npc_134", "bd01")
    local witch_bn01 = Motion.Object:new(NPC, "npc_134", "bn01")
    local enemy_index = GetIndex(ENEMY, "enemy_01")
    Field.ObjectLoadMotion(ENEMY, enemy_index, "ba01")
    Field.ObjectLoadMotion(ENEMY, enemy_index, "fe04")
    Obj:new(NPC, "npc_127"):Invisible(15)
    Obj:new(NPC, "npc_128"):Invisible(15)
    Obj:new(NPC, "npc_129"):Invisible(15)
    Obj:new(NPC, "npc_131"):CancelInvisible(15)
    Obj:new(NPC, "npc_132"):CancelInvisible(15)
    Obj:new(NPC, "npc_133"):CancelInvisible(15)
    Obj:new(NPC, "npc_134"):CancelInvisible(15)
    Field.ObjectSetRotationY(FLD_OBJ_PLAYER, 1, 350, 0)
    Field.ObjectSetPos(FLD_OBJ_PLAYER, 1, -4.8, 0, 24.525)
    Motion.Player:PlayWithMoveMotion("fn01_01", 1, 1)
    Cam.Inst:Set(-5.146, 0.678, 16.556, -5.179, 1.69, 26.5, default, 0)
    WaitFrame(15)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    Field.ObjectPlayMotion(NPC, npc_index03, "fq01", 10, true)
    tlk:Message("f_d0604_0270_0050")
    Field.ObjectPlayMotion(NPC, npc_index03, "bn01", 10, true)
    Field.ObjectPlayMotion(NPC, npc_index02, "e002", 5, true)
    tlk:Message("f_d0604_0270_0060")
    Field.ObjectPlayMotion(NPC, npc_index02, "fq01", 5, true)
    tlk:Message("f_d0604_0270_0070")
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index02, "e005", 5, 10)
    tlk:Message("f_d0604_0270_0080")
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index02, "e008", 5, 10)
    tlk:Message("f_d0604_0270_0090")
    Field.ObjectLookAtTheObject(NPC, npc_index02, FLD_OBJ_NPC, GetIndex(FLD_OBJ_NPC, "npc_905"), 20)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index02, "fe04", 5, 10)
    tlk:Message("f_d0604_0270_0100")
    tlk:MessageClose()
    Field.SymbolForceRespawn(enemy_index, false, true)
    PlaySE(101017, 100)
    Flg.Set("FLAG_GIMMICK_D06_310")
    WaitFrame(10)
    Field.ObjectDisableCulling(PLAYER, 1)
    Field.ObjectDisableCulling(NPC, npc_index02)
    Field.ObjectDisableCulling(NPC, npc_index03)
    Field.ObjectDisableCulling(NPC, npc_index04)
    Field.ObjectDisableCulling(NPC, npc_index05)
    Cam.Inst:Set(-0.673, 1.372, 28.29, 0.618, 4.168, 37.804, default, 30)
    local turnpoint_rana = Obj:new(NPC, "npc_905")
    WaitFrame(30)
    Field.ObjectPlayMotionWithStartMoveMotion(ENEMY, enemy_index, "ba01", 10, 10)
    WaitFrame(20)
    local tuno = Obj:new(NPC, "npc_132")
    local dori = Obj:new(NPC, "npc_133")
    local witch = Obj:new(NPC, "npc_134")
    local enemy = Obj:new(ENEMY, "enemy_01")
    witch:SetRotationYToObject(ENEMY, "enemy_01", 15)
    tuno:SetRotationYToObject(ENEMY, "enemy_01", 15)
    dori:SetRotationYToObject(ENEMY, "enemy_01", 15)
    Field.ObjectLookAtTheObject(PLAYER, 1, ENEMY, enemy_index, 10)
    WaitFrame(30)
    dori_fe04:Play(10, true)
    witch_bd01:Play2Wait(30, false)
    tlk:Message("f_d0604_0270_0110")
    witch_bn01:Play(30, true)
    Field.ObjectPlayMotionWithStartMoveMotion(ENEMY, enemy_index, "fe04", 10, 10)
    tlk:Message("f_d0604_0270_0120")
    Field.ObjectPlayMotion(NPC, npc_index03, "fe04", 10, true)
    tlk:Message("f_d0604_0270_0130")
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index02, "e007_01", 10, 10)
    tlk:Message("f_d0604_0270_0140")
    tlk:MessageClose()
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(10)
    Cam.Inst:Clear(1)
    tlk:EndTalk()
    Flg.Set("FLAG_MAIN_19_083")
    FieldObjectSync(FOR_ALL, false)
    Field.ObjectCancelDisableCulling(PLAYER, 1)
    WaitFrame(10)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
  end
end

function M410:Event_140()
  if Qst.Main:AllCheck(self.ID, {
    self.STEP_060,
    self.STEP_065
  }) and not Qst.Main:Check(self.ID, self.STEP_070) then
    local tlk = Tlk:new("d06", 1, false)
    tlk:StartTalkAndCancelDigimonRide()
    tlk:Message("f_d0604_0280_0010")
    tlk:Message("f_d0604_0280_0020")
    tlk:EndTalk()
    Qst.Main:Set(self.ID, self.STEP_070)
  end
end

function M410:Event_145()
  if Qst.Main:Check(self.ID, self.STEP_070, self.STEP_075) then
    Qst.Main:Set(self.ID, self.STEP_075)
  end
end

function M410:Event_190()
  if Qst.Main:Check(self.ID, self.STEP_080, self.STEP_085) then
    if Flg.Check("FLAG_MAIN_19_060") and not Flg.Check("FLAG_MAIN_19_062") then
      local npc_index = GetIndex(NPC, "npc_1035")
      Field.ObjectLoadMotion(NPC, npc_index, "ba01")
      Field.ObjectLoadMotion(NPC, npc_index, "bn01")
      Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index, "ba01", 10, 10)
      WaitFrame(15)
      local tlk = Tlk:new("d06", 1, true)
      tlk:StartTalkAndCancelDigimonRide()
      tlk:Message("f_d0604_0200_0020")
      tlk:Message("f_d0604_0200_0050")
      Field.MovePlayerToRelativePosFrame(3, 0, 30)
      WaitFrame(30)
      tlk:EndTalk()
    end
  elseif Qst.Main:Check(self.ID, self.STEP_075, self.STEP_080) and Flg.Check("FLAG_MAIN_19_080", "FLAG_MAIN_19_060") then
    local npc_index = GetIndex(NPC, "npc_1035")
    Field.ObjectLoadMotion(NPC, npc_index, "ba01")
    Field.ObjectLoadMotion(NPC, npc_index, "bn01")
    local npc01_index = GetIndex(NPC, "npc_143")
    Field.ObjectLoadMotion(NPC, npc01_index, "bn01")
    Field.ObjectLoadMotion(NPC, npc01_index, "fe02")
    local npc02_index = GetIndex(NPC, "npc_144")
    Field.ObjectLoadMotion(NPC, npc02_index, "bn01")
    Field.ObjectLoadMotion(NPC, npc02_index, "ba01")
    local npc_pos = Field.ObjectGetPosition(NPC, npc_index)
    local tlk = Tlk:new("d06", 1, true)
    Field.MovePlayerToRelativePosFrame(5, 0, 30)
    WaitFrame(30)
    Field.LoadEffectScript("ef_f_enc_110_rp", 1)
    Flg.Set("FLAG_MAIN_19_060")
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
    Field_InvisibleFollowerAllGuest(0, 0, false)
    Field.ObjectSetPos(FLD_OBJ_PLAYER, 1, 44.081, -18, -23.749)
    Field.ObjectSetRotationY(FLD_OBJ_PLAYER, 1, 180, 0)
    FieldObjectSync(FOR_ALL, false)
    WaitFrame(1)
    Cam.Inst:Set(43.63, -16.14, -16.14, 43.11, -16.72, -26.025, default, 1)
    WaitFrame(30)
    FadeInWithWaitNotFlgCheck(FADE_BLACK, FADE_TIME)
    tlk:StartTalkAndCancelDigimonRide()
    Motion.Player:PlayWithMoveMotion("e018", 5, 5)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index, "ba01", 10, 10)
    WaitFrame(15)
    tlk:Message("f_d0604_0200_0010")
    WaitFrame(15)
    Cam.Inst:Set(32.175, -14.449, -28.75, 41.74, -14.72, -25.85, default, 30)
    WaitFrame(30)
    Field.ObjectPlayMotion(NPC, npc01_index, "bn01", 10, true)
    tlk:Message("f_d0604_0200_0020")
    tlk:Message("f_d0604_0200_0030")
    tlk:MessageClose()
    Cam.Inst:Set(43.63, -16.14, -16.14, 43.11, -16.72, -26.025, default, 30)
    WaitFrame(30)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index, "ba01", 10, 10)
    tlk:Message("f_d0604_0200_0040")
    Field.ObjectPlayMotion(NPC, npc01_index, "fe02", 10, true)
    tlk:Message("f_d0604_0200_0050")
    Field.ObjectPlayMotion(NPC, npc01_index, "bn01", 10, true)
    tlk:EndTalk()
    Flg.Set("FLAG_MAIN_19_081")
    Flg.Set("FLAG_MAIN_19_068")
    FieldObjectSync(FOR_ALL, true)
    SetFollowerCameraOperateRotation(0, 0, 0)
    Field.MovePlayerToRelativePosFrame(0, -5, 35)
    WaitFrame(30)
    Obj:new(NPC, "npc_1037"):Invisible()
    Cam.Inst:Clear(20)
    Qst.Main:Set(self.ID, self.STEP_080)
  end
end

function M410:Event_195()
  if Flg.Check("FLAG_MAIN_19_060") and not Flg.Check("FLAG_MAIN_19_062") then
    local npc_index = GetIndex(NPC, "npc_1035")
    Field.ObjectLoadMotion(NPC, npc_index, "ba01")
    Field.ObjectLoadMotion(NPC, npc_index, "bn01")
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index, "ba01", 10, 10)
    tlk:Message("f_d0604_0200_0040")
    tlk:Message("f_d0604_0200_0050")
    Field.MovePlayerToRelativePosFrame(0, -4, 30)
    WaitFrame(30)
    tlk:EndTalk()
  end
end

function M410:Event_200()
  if Qst.Main:Check(self.ID, self.STEP_080, self.STEP_085) and Flg.Check("FLAG_MAIN_19_060", "FLAG_MAIN_19_061") then
    local npc_index = GetIndex(NPC, "npc_1037")
    local npc_pos = Field.ObjectGetPosition(NPC, npc_index)
    Field.ObjectLoadMotion(PLAYER, 1, "e006")
    Field.ObjectLoadMotion(PLAYER, 1, "e018")
    Field.ObjectLoadMotion(NPC, npc_index, "bd01")
    Field.ObjectLoadMotion(NPC, npc_index, "ba01")
    Field.ObjectLoadMotion(NPC, npc_index, "bn02")
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
    Field_InvisibleFollowerAllGuest(0, 0, false)
    Obj:new(PLAYER, ""):MoveToTarget2D(44.064, -62.53, 7, 30)
    Cam.Inst:Set(43.84, -27.15, -67.99, 44.53, -27.72, -58.03, default, 20)
    Field.LoadEffectScript("ef_f_enc_110_rp", 1)
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    WaitFrame(25)
    Obj:new(PLAYER, ""):SetRotationY(0, 15)
    Field.PlayEffectScript("ef_f_enc_110_rp", npc_pos.x, npc_pos.y, npc_pos.z, 0, 1)
    PlaySE(101017, 100)
    Obj:new(NPC, "npc_1037"):CancelInvisible(15)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index, "ba01", 10, 10)
    WaitFrame(60)
    Field.ObjectPlayMotion(PLAYER, 1, "e006", 10, true)
    WaitFrame(30)
    tlk:Message("f_d0604_0210_0010")
    WaitFrame(15)
    Talk.Close()
    Field.ObjectLookAtTheObject(NPC, npc_index, FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "lookat_01"), 30, 2)
    WaitFrame(30)
    Field.ObjectResetAim(NPC, npc_index, 30)
    WaitFrame(30)
    Field.ObjectLookAtTheObject(NPC, npc_index, FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "lookat_02"), 30, 2)
    WaitFrame(30)
    Field.ObjectResetAim(NPC, npc_index, 30)
    WaitFrame(30)
    Field.ObjectPlayMotion(PLAYER, 1, "e018", 10, true)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index, "bd01", 10, 10)
    tlk:Message("f_d0604_0210_0020")
    tlk:Message("f_d0604_0210_0030")
    tlk:EndTalk()
    Guest.Delete(GST_WITCHMON)
    Guest.Add(GST_WITCHMON_2)
    EncountFromField_PlaySound(11800030, 10672, false)
  end
end

function M410:Event_210()
  if Qst.Main:Check(self.ID, self.STEP_080, self.STEP_085) and Flg.Check("FLAG_MAIN_19_061", "FLAG_MAIN_19_062") then
    local npc_index01 = GetIndex(NPC, "npc_137")
    local npc_pos01 = Field.ObjectGetPosition(NPC, npc_index01)
    local fe04 = Motion.Object:new(NPC, "npc_137", "fe04")
    local bn01 = Motion.Object:new(NPC, "npc_137", "bn01")
    Field.ObjectLoadMotion(NPC, npc_index01, "bd01")
    Field.ObjectLoadMotion(NPC, npc_index01, "ba01")
    Field.ObjectLoadMotion(NPC, npc_index01, "fe02")
    local npc_index02 = GetIndex(NPC, "npc_1048")
    Field.ObjectLoadMotion(NPC, npc_index02, "ba01")
    Field.ObjectLoadMotion(NPC, npc_index02, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index02, "bn02")
    Field.ObjectLoadMotion(NPC, npc_index02, "fq02")
    local npc_index03 = GetIndex(NPC, "npc_1049")
    Field.ObjectLoadMotion(NPC, npc_index03, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index03, "fe04")
    Field.ObjectLoadMotion(NPC, npc_index03, "fe02")
    Field.ObjectLoadMotion(NPC, npc_index03, "fq01")
    Field.ObjectLoadMotion(PLAYER, 1, "e018")
    Field.ObjectLoadMotion(PLAYER, 1, "fn01_01")
    Field.ObjectLoadMotionBlend(PLAYER, 1, "blend01")
    local tuno_pos = Field.ObjectGetPosition(NPC, npc_index03)
    local npc_pos02 = Field.ObjectGetPosition(NPC, npc_index02)
    Guest.Delete(GST_WITCHMON_2)
    Guest.Add(GST_WITCHMON)
    FieldObjectSync(FOR_ALL, false)
    WaitFrame(5)
    Cam.Inst:Set(43.348, -27.65, -65.92, 46.67, -27.65, -56.49, default, 1)
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
    Field_InvisibleFollowerAllGuest(0, 0, false)
    Obj:new(NPC, "npc_135"):Invisible(0)
    Obj:new(NPC, "npc_136"):Invisible(0)
    Obj:new(NPC, "npc_138"):Invisible(0)
    Obj:new(NPC, "npc_139"):Invisible(0)
    Obj:new(NPC, "npc_140"):Invisible(0)
    Obj:new(NPC, "npc_141"):Invisible(0)
    Obj:new(NPC, "npc_142"):Invisible(0)
    Obj:new(NPC, "npc_1046"):Invisible(0)
    Obj:new(NPC, "npc_1050"):Invisible(0)
    Obj:new(NPC, "npc_1100"):Invisible(0)
    Obj:new(NPC, "npc_1049"):CancelInvisible(0)
    Field.ObjectSetPos(FLD_OBJ_PLAYER, 1, 46.186, -28.988, -61.125)
    Field.ObjectSetRotationY(FLD_OBJ_PLAYER, 1, 0, 0)
    Field.ObjectPlayMotion(PLAYER, 1, "e018", 10, true)
    Field.ObjectPlayMotion(NPC, npc_index03, "fe02", 15, true)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index02, "ba01", 10, 10)
    tlk:Message("f_d0604_0290_0010")
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index01, "ba01", 10, 10)
    tlk:Message("f_d0604_0290_0020")
    tlk:MessageClose()
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index01, "fe04", 10, 10)
    WaitFrame(30)
    PlaySE(300101, 100)
    Field.PlayEffectScript("ef_b_act_100", npc_pos01.x, npc_pos01.y, npc_pos01.z, 0, 1)
    WaitFrame(30)
    Field.ObjectAttachEffectScript(NPC, npc_index02, "ef_b_sta_140", false, 1, false, true, true, false, "TP01")
    Field.ObjectAttachEffectScript(NPC, npc_index02, "ef_b_sta_141", true, 2, false, true, true, false, "TP01")
    Field.ObjectStartEffectScript(NPC, npc_index02, 1)
    PlaySE(300309, 100)
    WaitFrame(30)
    Field.ObjectStartEffectScript(NPC, npc_index02, 2)
    Field.ObjectPlayMotion(NPC, npc_index02, "bn02", 10, true)
    WaitFrame(30)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index01, "fe02", 10, 10)
    tlk:Message("f_d0604_0290_0030")
    Field.ObjectPlayMotion(NPC, npc_index03, "fe04", 15, true)
    tlk:Message("f_d0604_0290_0040")
    tlk:MessageClose()
    WaitFrame(20)
    Field.AddMonotoneToEnvironmentSettings(true)
    Field.AddNegativeToEnvironmentSettings(true)
    PlaySE(404003, 100)
    FadeAllInWithWait(1, 5)
    Obj:new(NPC, "npc_1047"):Invisible(0)
    Obj:new(NPC, "npc_1048"):Invisible(0)
    Obj:new(NPC, "npc_137"):Invisible(0)
    Obj:new(NPC, "npc_1050"):CancelInvisible(0)
    Obj:new(NPC, "npc_1100"):CancelInvisible(0)
    Obj:new(NPC, "npc_141"):CancelInvisible(0)
    Field.ObjectSetIcon(NPC, GetIndex(NPC, "npc_1100"), ICO_NONE)
    WaitFrame(5)
    local npc_1049 = Obj:new(NPC, "npc_1049")
    npc_1049:SetRotationYToPlayerAndAnimRun(30)
    Field.ObjectPlayMotion(NPC, npc_index03, "fe02", 5, true)
    PlayerLookAtObject(NPC, "npc_1049")
    tlk:Message("f_d0604_0290_0050")
    Field.ObjectPlayMotion(NPC, npc_index03, "fe04", 15, true)
    tlk:Message("f_d0604_0290_0060")
    Field.ObjectPlayMotion(NPC, npc_index03, "bn01", 15, true)
    Field.ObjectPlayMotionBlend(PLAYER, 1, "blend01", 30, false)
    WaitFrame(15)
    tlk:EndTalk()
    Field.ObjectSetEnableCheckAndFieldAttack(OGIM, GetIndex(OGIM, "obj_switch02"), true)
    Field_InvisibleFollowerAllGuest(0, 0, false)
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
    Field.ObjectPlayMotion(PLAYER, 1, "fn01_01", 10, true)
    Cam.Inst:Clear(30)
    WaitFrame(30)
    Qst.Main:Set(self.ID, self.STEP_085, false)
    SetEnableMenu(false)
    SetControlScriptExternalVariable("tunomon_state", "turn")
  end
end

function M410:Event_211()
  if Qst.Main:Check(self.ID, self.STEP_085, self.STEP_090) then
    local tlk = Tlk:new("d06", 1, true)
    local npc_index03 = GetIndex(NPC, "npc_1046")
    Field.ObjectLoadMotion(NPC, npc_index03, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index03, "fe04")
    Field.ObjectLoadMotion(NPC, npc_index03, "fe02")
    local npc_index04 = GetIndex(NPC, "npc_135")
    Field.ObjectLoadMotion(NPC, npc_index04, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index04, "fe02")
    local npc_index02 = GetIndex(NPC, "npc_1048")
    local fe04 = Motion.Object:new(NPC, "npc_1048", "bd03")
    local ba01 = Motion.Object:new(NPC, "npc_1048", "ba01")
    local bn01 = Motion.Object:new(NPC, "npc_1048", "bn01")
    local witch_fe02 = Motion.Object:new(NPC, "npc_137", "fe02")
    Field.ObjectLoadMotion(OGIM, GetIndex(OGIM, "obj_lattice01"), "e001")
    Field.ObjectLoadMotion(OGIM, GetIndex(OGIM, "obj_lattice02"), "e001")
    Field.ObjectLoadMotion(OGIM, GetIndex(OGIM, "obj_lattice03"), "e001")
    tlk:StartTalkAndCancelDigimonRide()
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    Cam.Inst:Set(43.5, -27.47, -65.38, 44.95, -26.06, -55.58, default, 1)
    Field.ObjectSetPos(FLD_OBJ_PLAYER, 1, 46.186, -28.988, -61.125)
    Field.ObjectSetRotationY(FLD_OBJ_PLAYER, 1, 0, 0)
    WaitFrame(5)
    Flg.Set("FLAG_GIMMICK_D06_210")
    FieldObjectSync(OGIM, false)
    WaitFrame(5)
    Motion.Object:PlayFinishedAnim(OGIM, GetIndex(OGIM, "obj_lattice01"), 0, "e001")
    Motion.Object:PlayFinishedAnim(OGIM, GetIndex(OGIM, "obj_lattice02"), 0, "e001")
    Motion.Object:PlayFinishedAnim(OGIM, GetIndex(OGIM, "obj_lattice03"), 0, "e001")
    Obj:new(NPC, "npc_1047"):Invisible(1)
    Obj:new(NPC, "npc_1048"):Invisible(1)
    Obj:new(NPC, "npc_1049"):Invisible(1)
    Obj:new(NPC, "npc_139"):CancelInvisible(0)
    Obj:new(NPC, "npc_1046"):CancelInvisible(0)
    Field.ObjectPlayMotion(NPC, npc_index03, "bn01", 15, true)
    Field.ObjectPlayMotion(NPC, npc_index04, "bn01", 15, true)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(30)
    Battle.PlayScreenCrackingEffect()
    Field.AddMonotoneToEnvironmentSettings(false)
    Field.AddNegativeToEnvironmentSettings(false)
    PlaySE(404003, 100)
    FadeAllInWithWait(1, 5)
    Motion.Object:PlayFinishedAnim(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_switch02"), 0, "e001")
    Obj:new(NPC, "npc_139"):Invisible(0)
    Obj:new(NPC, "npc_1050"):Invisible(0)
    Obj:new(NPC, "npc_141"):Invisible(0)
    Obj:new(NPC, "npc_1100"):Invisible(0)
    Obj:new(NPC, "npc_135"):CancelInvisible(0)
    Obj:new(NPC, "npc_137"):CancelInvisible(0)
    Obj:new(NPC, "npc_1048"):CancelInvisible(0)
    WaitFrame(45)
    Field.ObjectPlayMotionAndSetting(OGIM, GetIndex(OGIM, "obj_lattice01"), "e001", 5, 30, 30, 0, 1, false)
    Field.ObjectPlayMotionAndSetting(OGIM, GetIndex(OGIM, "obj_lattice02"), "e001", 5, 30, 30, 0, 1, false)
    Field.ObjectPlayMotionAndSetting(OGIM, GetIndex(OGIM, "obj_lattice03"), "e001", 5, 30, 30, 0, 1, false)
    PlaySE(200003, 100)
    WaitFrame(45)
    WaitFrame(30)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index02, "bn01", 10, 10)
    Field.ObjectEndEffectScript(NPC, npc_index02, 2)
    WaitFrame(20)
    Field.ObjectPlayMotionWithStartMoveMotion(NPC, npc_index02, "ba01", 10, 10)
    tlk:Message("f_d0604_0290_0080")
    Motion.Player:PlayWithMoveMotion("e004", 5, 5)
    witch_fe02:Play(10, true)
    Field.ObjectPlayMotion(NPC, npc_index03, "fe02", 15, true)
    Field.ObjectPlayMotion(NPC, npc_index04, "fe02", 15, true)
    tlk:Message("f_d0604_0290_0090")
    tlk:MessageClose()
    local npc_1046 = Obj:new(NPC, "npc_1046")
    npc_1046:SetRotationYToPlayerAndAnimRun(30)
    tlk:Message("f_d0604_0290_0100")
    Field.ObjectPlayMotion(NPC, npc_index03, "fe02", 5, true)
    tlk:Message("f_d0604_0290_0110")
    Flg.Set("FLAG_MAIN_19_062")
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(5)
    Obj:new(FLD_OBJ_GIMMICK, "col_lattice01"):CancelInvisible()
    Obj:new(FLD_OBJ_GIMMICK, "col_lattice02"):CancelInvisible()
    Obj:new(FLD_OBJ_GIMMICK, "col_lattice03"):CancelInvisible()
    Motion.Object:PlayFinishedAnim(FLD_OBJ_GIMMICK, GetIndex(FLD_OBJ_GIMMICK, "obj_switch02"), 0, "e001")
    tlk:EndTalk()
    Field.FollowerWarp()
    FieldObjectSync(FOR_ALL, false)
    WaitFrame(30)
    Cam.Inst:Clear(1)
    Field.ObjectSetEnableCheckAndFieldAttack(OGIM, GetIndex(OGIM, "obj_switch02"), false)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    Qst.Main:Set(self.ID, self.STEP_090)
    SetEnableMenu(true)
  end
end

function M410:Event_212()
  if Flg.Check("FLAG_MAIN_19_061", "FLAG_MAIN_19_062") then
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    tlk:Message("f_d0604_0290_0120")
    tlk:Message("f_d0604_0290_0130")
    MovePlayerToRelativePosFrame(0, -1, 20)
    tlk:EndTalk()
    Field_InvisibleFollowerAllGuest(0, 0, false)
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
  end
end

function M410:Event_213()
  if Flg.Check("FLAG_MAIN_19_061", "FLAG_FIELD_D0604_010") then
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    tlk:Message("f_d0604_0290_0140")
    Field.ObjectPlayMotionWithStartMoveMotion(PLAYER, 1, "fg07_m01", 10, 10)
    WaitFrame(15)
    Window.SetReplaceStringInfo("item_name", 1146)
    Window.OpenInfo(1914)
    WaitInfoWindow()
    Window.CloseInfo()
    WaitCloseInfoWindow()
    tlk:EndTalk()
    Field.ShowGetItemLog(1146, 1)
    Flg.Set("FLAG_FIELD_D0604_010")
    Field_InvisibleFollowerAllGuest(0, 0, false)
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
    FieldObjectSync(OGIM, false)
    WaitFrame(1)
  end
end

function M410:Event_214()
  if Flg.Check("FLAG_MAIN_19_061", "FLAG_MAIN_19_062") then
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    tlk:Message("f_d0604_0290_0150")
    tlk:EndTalk()
    Field_InvisibleFollowerAllGuest(0, 0, false)
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
  end
end

function M410:Event_220()
  if Qst.Main:Check(self.ID, self.STEP_090, self.STEP_095) and Flg.Check("FLAG_MAIN_19_062", "FLAG_MAIN_19_063") then
    local mine_e031 = Motion.Object:new(NPC, "npc_001", "e031")
    local mine_e033 = Motion.Object:new(NPC, "npc_001", "e033")
    local mine_e013 = Motion.Object:new(NPC, "npc_001", "e013")
    local npc_index02 = GetIndex(NPC, "npc_1019")
    Field.ObjectLoadMotion(NPC, npc_index02, "bn01")
    local aporo_e007 = Motion.Object:new(NPC, "npc_1019", "e007")
    Field.ObjectLoadMotion(NPC, npc_index02, "e002")
    local npc_index03 = GetIndex(NPC, "npc_147")
    Field.ObjectLoadMotion(NPC, npc_index03, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index03, "fq02")
    Digimon.RestoreAllParty()
    local tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    mine_e031:Play(10, true)
    tlk:Message("f_d0604_0300_0010")
    mine_e033:Play(10, true)
    tlk:Message("f_d0604_0300_0020")
    tlk:MessageClose()
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(15)
    Flg.Set("FLAG_MAIN_19_063")
    FieldObjectSync(FOR_ALL, false)
    Cam.Inst:Set(39.6, -14.87, 54.43, 48.82, -14.17, 50.63, default, 0)
    mine_e013:Play(10, true)
    WaitFrame(15)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    mine_e013:Play(10, true)
    WaitFrame(15)
    Field.ObjectPlayMotion(NPC, npc_index03, "fq02", 5, true)
    tlk:Message("f_d0604_0300_0090")
    Field.ObjectPlayMotion(NPC, npc_index03, "bn01", 5, true)
    Field.ObjectPlayMotion(NPC, npc_index02, "e002", 5, true)
    tlk:Message("f_d0604_0300_0100")
    tlk:EndTalk()
    Flg.Set("FLAG_MAIN_19_082")
    Motion.Gimmick:PlayFinishedAnim("obj_0001", "e001")
    ColOff("wall_cl_1010")
    Execute("m410_022")
    Execute("m410_023")
    FieldObjectSync(FOR_ALL, false)
    Field.ObjectResetAim(FLD_OBJ_PLAYER, 1, 0)
    Cam.Inst:Set(42.61, -16.57, 45.43, 45.22, -16.27, 55.08, default, 0)
    Field.ObjectSetRotationY(FLD_OBJ_PLAYER, 1, 330, 0)
    Field.ObjectSetPos(FLD_OBJ_PLAYER, 1, 42.901, -18.001, 51.958)
    local npc_index04 = GetIndex(NPC, "npc_1025")
    Field.ObjectLoadMotion(NPC, npc_index04, "bn01")
    Field.ObjectLoadMotion(NPC, npc_index04, "fq02")
    Field.ObjectLoadMotion(NPC, npc_index04, "fe02")
    Field.ObjectLoadMotion(NPC, npc_index04, "fq01")
    Field.ObjectLoadMotion(NPC, npc_index04, "fe01")
    Field.ObjectLoadMotion(NPC, npc_index04, "fe04")
    tlk = Tlk:new("d06", 1, true)
    tlk:StartTalkAndCancelDigimonRide()
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    Field.ObjectPlayMotion(NPC, npc_index04, "fe02", 5, true)
    tlk:Message("f_d0604_0300_0120")
    Field.ObjectPlayMotion(NPC, npc_index04, "fq01", 5, true)
    tlk:Message("f_d0604_0300_0130")
    Field.ObjectPlayMotion(NPC, npc_index04, "fe01", 5, true)
    tlk:Message("f_d0604_0300_0140")
    Field.ObjectPlayMotion(NPC, npc_index04, "fe04", 5, true)
    tlk:Message("f_d0604_0300_0150")
    Field.ObjectPlayMotion(NPC, npc_index04, "bn01", 5, true)
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    Flg.Set("FLAG_MAIN_19_067")
    WaitFrame(30)
    tlk:EndTalk()
    FieldObjectSync(NPC, true)
    Guest.Delete(GST_TUNOMON)
    Guest.Delete(GST_DORIMON)
    Guest.Delete(GST_WITCHMON)
    Guest.Add(GST_MINERVAMON_3)
    FollowerSync()
    Qst.Main:Set(self.ID, self.STEP_095)
    WaitFrame(30)
    Execute("m410_030")
    MapChange("d", 602, "start_20", false, FADE_BLACK, FADE_TIME)
  end
end

function M410:Event_225()
  if Qst.Main:Check(self.ID, self.STEP_095, self.STEP_100) and Flg.Check("FLAG_MAIN_19_067", "FLAG_MAIN_19_084") then
    Flg.Set("FLAG_MAIN_19_084")
    INFO_WINDOW(7010)
    Obj:new(PLAYER, ""):SetPos(-0.023, 0.265, -202.942, true)
  end
end

function M410:Event_230()
  if Qst.Main:Check(self.ID, self.STEP_095, self.STEP_100) and Flg.Check("FLAG_MAIN_19_063", "FLAG_MAIN_19_064") then
    Flg.Set("FLAG_SKIP_PLAYBGM_MAPCHANGE")
    EncountFromField(11800100, 10673, false)
  end
end

function M410:Event_240()
  if Qst.Main:Check(self.ID, self.STEP_095, self.STEP_100) and Flg.Check("FLAG_MAIN_19_064", "FLAG_MAIN_19_065") then
    Flg.Set("FLAG_MAIN_19_065")
    Execute("m410_100")
    Guest.Delete(GST_MINERVAMON_3)
    Flg.Set("FLAG_IS_USED_REGULAR_ROUTE_TO_THEATER")
    local org_prefix = "d"
    local org_number = 1204
    local org_locator = "start_50"
    local org_time_zone = noon
    Common.SetHazamaTheaterExitData(Common.GetCurrentTimeTravelRecordType(), org_prefix, org_number, org_locator, org_time_zone)
    MapChangeWithTimeTravel("t", 3001, "start_00", AXIS_ORIGINAL, "P2028_daft_420", NIGHT)
  end
end

function M410:Event_250()
  if Qst.Main:Check(self.ID, self.STEP_095, self.STEP_100) and Flg.Check("FLAG_MAIN_19_065", "FLAG_MAIN_19_066") then
    Flg.Set("FLAG_FREEARENA_RELEASE_011")
    Flg.Set("FLAG_SKIP_AREACHANGE_MOVE")
    SetFollowerCameraOperateRotation(0, 170)
    Prcs_t3001_12GodsReliefInvisible(true)
    Execute("m410_105")
    Flg.Set("FLAG_MAIN_19_066")
    Prcs_t3001_12GodsReliefInvisible(false)
    Flg.Set("FLAG_GIMMICK_T0301_010")
    Flg.Set("FLAG_GIMMICK_T0301_011")
    Flg.Set("FLAG_GIMMICK_T0301_008")
    Flg.Set("FLAG_GIMMICK_T0301_009")
    Prcs_t3001_12GodsReliefSeting()
    Qst.Main:Set(self.ID, self.STEP_100)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
  end
end

function M410:Event_260()
  if Qst.Main:Check(self.ID, self.STEP_100, self.STEP_255) then
    if Common.GetGameClearNum() < 1 then
      Common.SetAegiomonFriendship(93)
    end
    Map:OpenPlace(10601, false)
    Map:ClosePlace(10601, treu)
    Map:OpenPlace(10606, true)
    Map:ClosePlace(10606, false)
    Map:OpenPlace(10607, true)
    Map:ClosePlace(10607, false)
    Execute("m410_110")
    Qst.Main:End(self.ID, self.STEP_255)
  end
end

function M410:ChapterFlagSet(progress)
  local step = {}
  if 11 <= progress then
    step[#step + 1] = self.STEP_001
  end
  if 14 <= progress then
    step[#step + 1] = self.STEP_005
  end
  if 15 <= progress then
    step[#step + 1] = self.STEP_010
  end
  if 16 <= progress then
    step[#step + 1] = self.STEP_015
    step[#step + 1] = self.STEP_020
  end
  if 17 <= progress then
    step[#step + 1] = self.STEP_025
    step[#step + 1] = self.STEP_030
    step[#step + 1] = self.STEP_035
    step[#step + 1] = self.STEP_040
    step[#step + 1] = self.STEP_045
    step[#step + 1] = self.STEP_050
    step[#step + 1] = self.STEP_055
    step[#step + 1] = self.STEP_060
    step[#step + 1] = self.STEP_065
  end
  if 18 <= progress then
    step[#step + 1] = self.STEP_070
    step[#step + 1] = self.STEP_075
  end
  if 19 <= progress then
    step[#step + 1] = self.STEP_080
    step[#step + 1] = self.STEP_085
    step[#step + 1] = self.STEP_090
  end
  if 20 <= progress then
    step[#step + 1] = self.STEP_095
  end
  Qst.Main:Chapter(step, self.ID)
end
