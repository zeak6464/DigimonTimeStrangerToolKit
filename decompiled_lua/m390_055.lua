require("include")

function m390_055()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m390")
  SetEventCutNo(2)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("Z2028_daft_390")
    LoadMap("d1302")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("SIMONS_01", "char_SIMMONS")
  LoadModel("npc057aa010101_01", "npc057aa010101")
  Vista.SetEnableLipSyncsAnimation("npc057aa010101_01", false)
  LoadSceneViewerResource("c1.0", "d1302f_ca")
  LoadSceneViewerResource("c2.0", "d1302f_ca")
  LoadEnvironmentFile("c1.0", "es_m390_055_c1.0")
  LoadEnvironmentFile("c2.0", "es_m390_055_c2.0")
  WaitVistaLoad()
  SetPosition("HERO_01", -13.621, 0, 0.773, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 90, 0, "LINEAR", 0, 0)
  SetPosition("SIMONS_01", -11.415, 0, -0.26, "LINEAR", 0, 0)
  SetRotation("SIMONS_01", 0, 90, 0, "LINEAR", 0, 0)
  SetPosition("npc057aa010101_01", -8.779, 0, 0.339, "LINEAR", 0, 0)
  SetRotation("npc057aa010101_01", 0, 90, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F15", 0, 1, 0, 0)
  PlayMotion("SIMONS_01", "fn01_01", 0, true, 0)
  SetFace("SIMONS_01", "E03_M01", 0, 1, 0, 0)
  PlayMotion("npc057aa010101_01", "fn01_01", 0, true, 0)
  SetFace("npc057aa010101_01", "E03_M04", 0, 1, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("SIMONS_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("SIMONS_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("npc057aa010101_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("npc057aa010101_01", 0, 0, 0, true, "SCURVE", 0, 0)
  MovePosition("HERO_01", -8.116, 0, 0.773, true, 1.4, 0)
  MovePosition("SIMONS_01", -8.065, 0, -0.26, true, 1.2, 0)
  MovePosition("npc057aa010101_01", -5.329, 0, 0.339, true, 1.4, 0)
  SetCamera(-4.721, 0.543, 1.454, 0, 23, "LINEAR", 0, false, 0, false)
  SetCameraTarget(-14.442, 2.055, -0.882, "LINEAR", 0, false, 0, false)
  SetCamera(-4.721, 0.543, 1.454, 0, 23, "DECEL", 130, false, 0, false)
  SetCameraTarget(-9.298, 1.635, -0.112, "DECEL", 130, false, 0, false)
  SetCamera(-4.721, 0.543, 1.454, 0, 23, "LINEAR", 150, true, 130, false)
  SetCameraTarget(-9.248, 1.655, -0.122, "LINEAR", 150, true, 130, false)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  Fade_In(FADE_BLACK, FADE_TIME)
  BlendEye("SIMONS_01", 0, 0, "SCURVE", 30, 80)
  BlendFace("SIMONS_01", 48, 0, -11, true, "SCURVE", 30, 80)
  BlendEye("HERO_01", 0, 23, "SCURVE", 10, 110)
  BlendFace("HERO_01", 0, 69, -26, true, "SCURVE", 30, 110)
  WaitFrame(140)
  MessageTalk("m390_050_090")
  BlendEye("SIMONS_01", 0, -100, "SCURVE", 10, 10)
  BlendFace("SIMONS_01", 0, -40, -30, true, "SCURVE", 30, 0)
  MessageClose()
  WaitFrame(30)
  MessageTalk("m390_050_100")
  MessageClose()
  BlendFace("HERO_01", 44, 69, -15, true, "SCURVE", 20, 0)
  BlendFace("HERO_01", 0, 69, -26, true, "SCURVE", 30, 20)
  WaitFrame(60)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetPosition("HERO_01", -8.116, 0, 1.023, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 90, 0, "LINEAR", 0, 0)
  SetPosition("SIMONS_01", -8.065, 0, 0.12, "LINEAR", 0, 0)
  SetRotation("SIMONS_01", 0, 90, 0, "LINEAR", 0, 0)
  SetPosition("npc057aa010101_01", -2.519, 0, 2.017, "LINEAR", 0, 0)
  SetRotation("npc057aa010101_01", 0, 11.5, 0, "LINEAR", 0, 0)
  BlendEye("npc057aa010101_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("npc057aa010101_01", -75, 54, 0, true, "SCURVE", 0, 0)
  SetCamera(4.107, 1.988, 1.781, 0, 27, "LINEAR", 0, false, 0, false)
  SetCameraTarget(-7.045, 1.605, 1.472, "LINEAR", 0, false, 0, false)
  SetCamera(4.107, 1.988, 1.781, 0, 27, "SCURVE", 90, false, 0, false)
  SetCameraTarget(-7.045, 1.605, 3.252, "SCURVE", 90, false, 0, false)
  SetCamera(4.107, 1.988, 1.781, 0, 27, "DECEL", 180, false, 90, false)
  SetCameraTarget(-7.045, 1.605, 3.43, "DECEL", 180, false, 90, false)
  WaitFrame(10)
  BlendEye("HERO_01", 0, 0, "SCURVE", 10, 25)
  BlendFace("HERO_01", -31, -20, 0, true, "SCURVE", 30, 15)
  BlendEye("SIMONS_01", 0, 0, "SCURVE", 10, 20)
  BlendFace("SIMONS_01", -32, -32, 0, true, "SCURVE", 30, 10)
  MessageTalk("m390_050_110")
  MessageClose()
  WaitFrame(10)
  Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m390_055()
end
