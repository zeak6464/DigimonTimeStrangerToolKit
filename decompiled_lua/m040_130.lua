require("include")

function m040_130()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m040")
  LOAD_VOICE()
  SetEventCutNo(18)
  if Debug.IsEventView() then
    SetTimeZone("Night")
    SetTimeAxis("A2020_dbef_40")
    LoadMap("t0301")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("TAKEMIYA_01", "char_HEROINES_FATHER")
  PictureLoad("m040_130_picture01")
  LoadSceneViewerResource("c1.0", "t0301f_pn")
  LoadSceneViewerResource("c2.0", "t0301f_pn")
  LoadSceneViewerResource("c3.0", "t0301f_pn")
  LoadSceneViewerResource("c4.0", "t0301f_pn")
  LoadSceneViewerResource("c5.0", "t0301f_pn")
  LoadSceneViewerResource("c6.0", "t0301f_pn")
  LoadSceneViewerResource("c6.0_A1", "t0301f_pn")
  LoadSceneViewerResource("c6.0_B1", "t0301f_pn")
  LoadSceneViewerResource("c6.0_C1", "t0301f_pn")
  LoadSceneViewerResource("c7.0", "t0301f_pn")
  LoadSceneViewerResource("c8.0", "t0301f_pn")
  LoadSceneViewerResource("c9.0", "t0301f_pn")
  LoadSceneViewerResource("c10.0", "t0301f_pn")
  LoadSceneViewerResource("c11.0", "t0301f_pn")
  LoadSceneViewerResource("c12.0", "t0301f_pn")
  LoadSceneViewerResource("c13.0", "t0301f_pn")
  LoadSceneViewerResource("c14.0", "t0301f_pn")
  LoadSceneViewerResource("c15.0", "t0301f_pn")
  LoadEnvironmentFile("c1.0", "es_m040_130_c1.0")
  LoadEnvironmentFile("c2.0", "es_m040_130_c2.0")
  LoadEnvironmentFile("c3.0", "es_m040_130_c3.0")
  LoadEnvironmentFile("c4.0", "es_m040_130_c4.0")
  LoadEnvironmentFile("c5.0", "es_m040_130_c5.0")
  LoadEnvironmentFile("c6.0", "es_m040_130_c6.0")
  LoadEnvironmentFile("c6.0_A1", "es_m040_130_c6.0_A1")
  LoadEnvironmentFile("c6.0_B1", "es_m040_130_c6.0_B1")
  LoadEnvironmentFile("c6.0_C1", "es_m040_130_c6.0_C1")
  LoadEnvironmentFile("c7.0", "es_m040_130_c7.0")
  LoadEnvironmentFile("c8.0", "es_m040_130_c8.0")
  LoadEnvironmentFile("c9.0", "es_m040_130_c9.0")
  LoadEnvironmentFile("c10.0", "es_m040_130_c10.0")
  LoadEnvironmentFile("c11.0", "es_m040_130_c11.0")
  LoadEnvironmentFile("c12.0", "es_m040_130_c12.0")
  LoadEnvironmentFile("c13.0", "es_m040_130_c13.0")
  LoadEnvironmentFile("c14.0", "es_m040_130_c14.0")
  LoadEnvironmentFile("c15.0", "es_m040_130_c15.0")
  WaitVistaLoad()
  SetPosition("HERO_01", -38.843, 0.312, -18.682, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 90, 0, "LINEAR", 0, 0)
  SetPosition("TAKEMIYA_01", -37.306, 0.312, -18, "LINEAR", 0, 0)
  SetRotation("TAKEMIYA_01", 0, 90, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -37.408, 0.312, -19.05, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 90, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fw01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, 0, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, 0, 0)
  PlayMotion("TAKEMIYA_01", "fn01_01", 0, false, 0)
  SetStartFrame("TAKEMIYA_01", "fn01_01", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("TAKEMIYA_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("TAKEMIYA_01", 0, 0, 0, false, "SCURVE", 0, 0)
  SetCamera(-36.981, 0.987, -16.043, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-29.627, 4.28, -22.75, "LINEAR", 0, false, 0)
  SetPosition("HERO_01", -34.634, 0.312, -18.682, "DECEL", 138, 0)
  MoveRotation("HERO_01", 0, 90, 0, "LINEAR", 1, true, 0)
  MovePosition("TAKEMIYA_01", -17.297, 0.312, -18, false, 1.4, 0)
  MoveRotation("TAKEMIYA_01", 0, 90, 0, "LINEAR", 1.4, true, 0)
  MovePosition("HEROINE_01", -10.299, 0.312, -19.05, false, 1.2, 0)
  MoveRotation("HEROINE_01", 0, 90, 0, "LINEAR", 1.2, true, 0)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  Fade_In(0, FADE_TIME)
  WaitFrame(FADE_TIME)
  PlayMotion("HERO_01", "fn01_01", 8, true, 115)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 60)
  BlendFace("HERO_01", -46, 49, 0, true, "SCURVE", 30, 60)
  WaitFrame(120)
  Event_PlayBGM(705, 0, 0)
  WaitFrame(50)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetPosition("HEROINE_01", -18.493, 0.312, -19.017, "LINEAR", 0, 0)
  SetPosition("TAKEMIYA_01", -15.266, 0.312, -18.063, "LINEAR", 0, 0)
  SetCamera(-2.449, 10.689, 8.568, 0, 60, "LINEAR", 0, false, 0)
  SetCameraTarget(1.121, 25.396, -34.356, "LINEAR", 0, false, 0)
  SetCamera(8.845, 5.576, 7.631, 0, 60, "SCURVE_B", 180, false, 0)
  SetCameraTarget(3.013, 53.088, -18.385, "SCURVE_B", 180, false, 0)
  WaitFrame(180)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(-33.913, 2.311, -18.806, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-34.693, 1.847, -18.666, "LINEAR", 0, false, 0)
  SetCamera(-33.913, 2.211, -18.806, 0, 30, "LINEAR", 105, false, 0)
  SetCameraTarget(-34.693, 1.837, -18.666, "LINEAR", 105, false, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "E15_M10", 0, 1, 0, 0)
  BlendEye("HERO_01", 0, 16, "SCURVE", 0, 0)
  BlendFace("HERO_01", -74, 33, -30, true, "SCURVE", 0, 0)
  WaitFrame(60)
  local slot_id = Event_PlaySE(404003, 100, false, 0, 0)
  Fade_OutNoLoading(1, 10)
  WaitFrame(12)
  PictureOpen("m040_130_picture01")
  Fade_In(1, 15)
  WaitFrame(60)
  Fade_OutNoLoading(1, 10)
  WaitFrame(10)
  PictureClose()
  Fade_In(1, 15)
  WaitFrame(10)
  SetFace("HERO_01", "F16", 0, 1, FACE_BLENDTIME, 0)
  WaitFrame(35)
  Event_StopBGM(2, 0)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetPosition("HEROINE_01", -18.493, 0.312, -19.017, "LINEAR", 0, 0)
  MoveRotation("HEROINE_01", 0, 341.5, 0, "LINEAR", 1, true, 0)
  SetPosition("TAKEMIYA_01", -15.266, 0.312, -18.063, "LINEAR", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, -92, 0, true, "SCURVE", 30, 0)
  PlayMotion("HEROINE_01", "ft03_01", 5, false, 0)
  SetFace("HEROINE_01", "F16", 0, 1, 5, 20)
  SetCamera(-19.73, 1.847, -18.685, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-18.413, 1.72, -18.876, "LINEAR", 0, false, 0)
  WaitFrame(20)
  MoveRotation("TAKEMIYA_01", 0, -154.5, 0, "LINEAR", 1, true, 0)
  BlendEye("TAKEMIYA_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("TAKEMIYA_01", 0, 51, 0, true, "SCURVE", 30, 0)
  PlayMotion("TAKEMIYA_01", "ft03_01", 5, false, 0)
  SetBlink("TAKEMIYA_01", 0, 1, 0)
  SetMouth("TAKEMIYA_01", 1, 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  WaitFrame(40)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetPosition("HEROINE_01", -32.746, 0.3, -19.05, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 270, 0, "LINEAR", 0, 0)
  SetPosition("TAKEMIYA_01", -28.974, 0.312, -18, "LINEAR", 0, 0)
  SetRotation("TAKEMIYA_01", 0, 270, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -27, 49, -13, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("TAKEMIYA_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("TAKEMIYA_01", 0, -38, 0, true, "SCURVE", 0, 0)
  SetCamera(-32.295, 1.318, -18.594, -1, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(-34.254, 1.658, -18.917, "LINEAR", 0, false, 0)
  SetCamera(-32.295, 1.318, -18.584, -1, 23, "LINEAR", 120, false, 1)
  SetCameraTarget(-34.264, 1.658, -18.907, "LINEAR", 120, false, 1)
  MovePosition("HEROINE_01", -33.436, 0.3, -19.05, false, 1.3, 0)
  MoveRotation("HEROINE_01", 0, 270, 0, "LINEAR", 1.3, true, 0)
  BlendFace("HEROINE_01", 0, 16, 0, true, "SCURVE", 45, 15)
  Event_PlayBGM(305, 0, 0)
  WaitFrame(10)
  SetFace("HERO_01", "E15_M12", 0, 1, FACE_BLENDTIME, 10)
  MessageTalk("m040_130_010")
  MessageClose()
  WaitFrame(10)
  CUT("6.0")
  BlendEye("HERO_01", 0, 0, "SCURVE", 20, 0)
  BlendFace("HERO_01", 0, -31, 0, true, "SCURVE", 30, 0)
  correct = false
  while not Vista.IsSkipping() and not correct do
    SetEnv_All("c6.0", 0)
    SetCamera(-33.849, 1.883, -18.058, 0, 40, "LINEAR", 0, false, 0)
    SetCameraTarget(-34.771, 1.7, -18.857, "LINEAR", 0, false, 0)
    MessageTalkSel(3, "m040_130_020")
    result = Talk.GetResultSelectedNum()
    PlayMotion("HERO_01", "e021", 5, true, 0)
    SetFace("HERO_01", "E15_M04", 0, 0, FACE_BLENDTIME, 0)
    SetFace("HERO_01", "E15_M04", 0, 1, FACE_BLENDTIME, 50)
    WaitFrame(60)
    BlendEye("HEROINE_01", 8, 0, "SCURVE", 0, 0)
    BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 0, 0)
    SetPosition("HEROINE_01", -33.436, 0.3, -19, "LINEAR", 0, 0)
    SetRotation("HEROINE_01", 0, 287, 0, "LINEAR", 0, 0)
    SetPosition("TAKEMIYA_01", -33.374, 0.312, -18, "LINEAR", 0, 0)
    SetRotation("TAKEMIYA_01", 0, 254, 0, "LINEAR", 0, 0)
    if result == RESULT_TALK00 then
      CUT("6.0_A1")
      SetEnv_All("c6.0_A1", 0)
      Vista.SetCharCamera("HEROINE_01", "npc001a_cam_B.S_Right", "LINEAR", 0, false, 0)
      EndMotion("HERO_01", 0)
      PlayMotion("HEROINE_01", "e013_01", 5, true, 0)
      SetFace("HEROINE_01", "F16", 0, 1, 3, 0)
      SetFace("HEROINE_01", "F11", 0, 1, FACE_BLENDTIME, 60)
      MessageTalk("m040_130_030")
      MessageClose()
      WaitFrame(10)
      correct = true
    elseif result == RESULT_TALK01 then
      CUT("6.0_B1")
      SetEnv_All("c6.0_B1", 0)
      Vista.SetCharCamera("HEROINE_01", "npc001a_cam_B.S_Right", "LINEAR", 0, false, 0)
      EndMotion("HERO_01", 0)
      PlayMotion("HEROINE_01", "e013_01", 5, true, 0)
      SetFace("HEROINE_01", "F11", 0, 1, 3, 0)
      MessageTalk("m040_130_040")
      MessageClose()
      WaitFrame(10)
      correct = true
    elseif result == RESULT_TALK02 then
      CUT("6.0_C1")
      SetEnv_All("c6.0_C1", 0)
      Vista.SetCharCamera("HEROINE_01", "npc001a_cam_B.S_Right", "LINEAR", 0, false, 0)
      EndMotion("HERO_01", 0)
      PlayMotion("HEROINE_01", "e013_01", 5, true, 0)
      SetFace("HEROINE_01", "F16", 0, 1, 3, 0)
      MessageTalk("m040_130_050")
      MessageClose()
      WaitFrame(10)
      correct = true
    end
  end
  CUT("7.0")
  SetEnv_All("c7.0", 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 9, 0, true, "SCURVE", 0, 0)
  BlendEye("TAKEMIYA_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("TAKEMIYA_01", 0, -28, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, -16, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 30, "SCURVE", 20, 30)
  BlendFace("HEROINE_01", -30, 80, 0, true, "SCURVE", 30, 30)
  SetPosition("HEROINE_01", -33.436, 0.3, -19, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 297, 0, "LINEAR", 0, 0)
  EndMotion("HEROINE_01", 0)
  SetFace("HEROINE_01", "E16_M15", 0, 1, 5, 20)
  SetPosition("TAKEMIYA_01", -32.104, 0.312, -18, "LINEAR", 0, 0)
  SetRotation("TAKEMIYA_01", 0, 270, 0, "LINEAR", 0, 0)
  SetPosition("TAKEMIYA_01", -32.966, 0.312, -18.259, "DECEL", 40, 0)
  SetRotation("TAKEMIYA_01", 0, 285, 0, "DECEL", 40, 0)
  PlayMotion("TAKEMIYA_01", "fw01_01", 0, true, 0)
  SetCamera(-35.995, 1.729, -17.319, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-33.346, 1.576, -18.958, "LINEAR", 0, false, 0)
  CameraOffsetTurn(10, "SCURVE", false, true, 600, 0)
  PlayMotion("TAKEMIYA_01", "fn01_01", 10, true, 30)
  MessageTalk("m040_130_060")
  MessageClose()
  WaitFrame(10)
  PlayMotion("TAKEMIYA_01", "e002", 5, true, 0)
  PlayMotionBlend("TAKEMIYA_01", "blend05", 5, false, 10)
  SetFace("TAKEMIYA_01", "F01", 0, 1, 0, 0)
  MessageTalk("m040_130_070")
  MessageClose()
  WaitFrame(20)
  PlayMotion("HEROINE_01", "e008_01", 5, true, 10)
  SetFace("HEROINE_01", "F01", 0, 1, 5, 10)
  BlendEye("HEROINE_01", 0, -16, "SCURVE", 20, 10)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 30, 10)
  MessageTalk("m040_130_080")
  MessageClose()
  WaitFrame(20)
  PlayMotion("TAKEMIYA_01", "e013", 0, true, 0)
  SetFace("TAKEMIYA_01", "F01", 0, 1, 0, 0)
  MessageTalk("m040_130_090")
  MessageClose()
  WaitFrame(10)
  CUT("8.0")
  SetEnv_All("c8.0", 0)
  SetCamera(-34.578, 1.822, -18.165, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(-33.264, 1.879, -18.085, "LINEAR", 0, false, 0)
  SetCamera(-34.578, 1.822, -18.165, 0, 23, "LINEAR", 160, false, 0)
  SetCameraTarget(-33.264, 1.879, -18.085, "LINEAR", 0, false, 0)
  SetPosition("TAKEMIYA_01", -33.374, 0.312, -18, "LINEAR", 0, 0)
  SetRotation("TAKEMIYA_01", 0, 282, 0, "LINEAR", 0, 0)
  BlendEye("TAKEMIYA_01", 12, 17, "SCURVE", 0, 0)
  BlendFace("TAKEMIYA_01", -23, -29, -4, true, "SCURVE", 0, 0)
  PlayMotion("TAKEMIYA_01", "e008", 0, true, 0)
  SetFace("TAKEMIYA_01", "E02_M15", 0, 1, 0, 0)
  MessageTalk("m040_130_100")
  MessageClose()
  WaitFrame(10)
  CUT("9.0")
  SetEnv_All("c9.0", 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F15", 0, 1, 0, 0)
  BlendEye("HERO_01", 9, -6, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, -8, 0, true, "SCURVE", 0, 0)
  SetPosition("HERO_01", -34.634, 0.312, -18.682, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 100, 0, "LINEAR", 0, 0)
  SetCamera(-33.548, 1.913, -18.606, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(-34.873, 1.809, -18.684, "LINEAR", 0, false, 0)
  SetCamera(-33.548, 1.913, -18.606, 0, 24, "LINEAR", 160, true, 0)
  SetCameraTarget(-34.873, 1.809, -18.684, "LINEAR", 0, false, 0)
  MessageTalk("m040_130_110")
  MessageClose()
  WaitFrame(10)
  CUT("10.0")
  SetEnv_All("c10.0", 0)
  SetPosition("HERO_01", -34.634, 0.312, -18.562, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 90, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 9, 0, false, "SCURVE", 30, 0)
  SetPosition("HEROINE_01", -33.436, 0.3, -19, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 293, 0, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 307, 0, "SCURVE", 20, 5)
  SetFace("HEROINE_01", "F16_M15", 0, 1, 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 20, 0)
  BlendFace("HEROINE_01", -12, 45, 0, true, "SCURVE", 30, 0)
  SetCamera(-32.258, 1.727, -18.515, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-33.84, 1.748, -18.498, "LINEAR", 0, false, 0)
  MessageTalk("m040_130_120")
  MessageClose()
  WaitFrame(10)
  EndMotion("TAKEMIYA_01", 0)
  BlendEye("TAKEMIYA_01", 0, 0, "SCURVE", 20, 0)
  BlendFace("TAKEMIYA_01", 0, -74, 0, true, "SCURVE", 30, 0)
  SetRotation("TAKEMIYA_01", 0, 256, 0, "SCURVE", 30, 0)
  MessageTalk("m040_130_130")
  MessageClose()
  WaitFrame(10)
  CUT("11.0")
  SetEnv_All("c11.0", 0)
  SetPosition("HEROINE_01", -33.436, 0.3, -19, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 366, 0, "LINEAR", 0, 0)
  SetPosition("TAKEMIYA_01", -33.374, 0.312, -18, "LINEAR", 0, 0)
  SetRotation("TAKEMIYA_01", 0, 188, 0, "LINEAR", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", -12, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("TAKEMIYA_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("TAKEMIYA_01", 0, 0, 0, true, "SCURVE", 0, 0)
  PlayMotion("TAKEMIYA_01", "fn01_01", 0, true, 0)
  SetCamera(-32.797, 2.071, -17.595, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-33.378, 1.796, -18.514, "LINEAR", 0, false, 0)
  SetFace("HEROINE_01", "E16_M15", 0, 1, 5, 0)
  EndMotion("HEROINE_01", 0)
  PlayMotionBlend("HEROINE_01", "blend02", 5, false, 0)
  MessageTalk("m040_130_140")
  MessageClose()
  WaitFrame(10)
  PlayMotion("HEROINE_01", "e021", 5, true, 0)
  EndMotion("HEROINE_01", 130)
  SetFace("HEROINE_01", "E06_M03", 0, 1, 4, 0)
  MessageTalk("m040_130_150")
  MessageClose()
  WaitFrame(10)
  CUT("12.0")
  SetEnv_All("c12.0", 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetPosition("TAKEMIYA_01", -33.374, 0.312, -18, "LINEAR", 0, 0)
  SetRotation("TAKEMIYA_01", 0, 188, 0, "LINEAR", 0, 0)
  SetCamera(-32.98, 2.029, -18.999, 0, 29, "LINEAR", 0, false, 0)
  SetCameraTarget(-33.328, 1.832, -17.945, "LINEAR", 0, false, 0)
  PlayMotionBlend("TAKEMIYA_01", "blend02", 0, false, 0)
  SetFace("TAKEMIYA_01", "F05", 0, 1, 0, 0)
  SetFace("TAKEMIYA_01", "F01", 0, 1, FACE_BLENDTIME, 30)
  MessageTalk("m040_130_160")
  MessageClose()
  WaitFrame(10)
  PlayMotion("TAKEMIYA_01", "e015", 5, true, 0)
  SetFace("TAKEMIYA_01", "F04", 2, 1, 5, 0)
  MessageTalk("m040_130_170")
  MessageClose()
  WaitFrame(10)
  SetFace("TAKEMIYA_01", "F04", 0, 1, 5, 0)
  MessageTalk("m040_130_180")
  MessageClose()
  WaitFrame(10)
  CUT("13.0")
  SetEnv_All("c13.0", 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 0, 0)
  PlayMotion("TAKEMIYA_01", "fn01_01", 0, true, 0)
  PlayMotion("HEROINE_01", "e015", 0, true, 0)
  SetFace("HEROINE_01", "E07_M15", 0, 1, 0, 0)
  BlendEye("HEROINE_01", 20, 25, "SCURVE", 20, 0)
  BlendFace("HEROINE_01", 3, -21, 10, false, "SCURVE", 30, 0)
  SetCamera(-32.839, 1.623, -18.036, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-33.403, 1.695, -18.944, "LINEAR", 0, false, 0)
  MessageTalk("m040_130_190")
  MessageClose()
  WaitFrame(10)
  BlendEye("HEROINE_01", 48, -30, "SCURVE", 20, 0)
  BlendFace("HEROINE_01", 58, -12, 0, true, "SCURVE", 20, 0)
  EndMotion("HEROINE_01", 0)
  SetFace("HEROINE_01", "F11", 2, 1, 5, 0)
  SetBlink("HEROINE_01", 0, 0.5, 10)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 20, 0)
  BlendFace("HEROINE_01", 0, 0, 0, false, "SCURVE", 20, 0)
  MessageTalk("m040_130_200")
  MessageClose()
  WaitFrame(10)
  PlayMotion("HEROINE_01", "e012", 5, true, 0)
  MessageTalk("m040_130_210")
  MessageClose()
  WaitFrame(10)
  CUT("14.0")
  SetEnv_All("c14.0", 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
  SetPosition("HEROINE_01", -33.436, 0.3, -19, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 366, 0, "LINEAR", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", -12, -19, 0, true, "SCURVE", 0, 0)
  PlayMotionBlend("TAKEMIYA_01", "blend02", 0, false, 0)
  SetFace("TAKEMIYA_01", "F15", 2, 1, 0, 0)
  SetBlink("TAKEMIYA_01", 0, 0.5, 50)
  BlendEye("TAKEMIYA_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("TAKEMIYA_01", 18, -17, 0, true, "SCURVE", 0, 0)
  SetCamera(-32.569, 1.56, -19.416, 0, 35, "LINEAR", 0, false, 0)
  SetCameraTarget(-33.317, 1.701, -18.662, "LINEAR", 0, false, 0)
  MessageTalk("m040_130_220")
  MessageClose()
  WaitFrame(10)
  EndMotion("HEROINE_01", 0)
  PlayMotion("TAKEMIYA_01", "e002", 3, true, 0)
  MessageTalk("m040_130_230")
  MessageClose()
  WaitFrame(15)
  CUT("15.0")
  SetEnv_All("c15.0", 0)
  SetPosition("HERO_01", -34.634, 0.312, -18.682, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 95, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -33.436, 0.3, -19, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 405, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "e013", 0, true, 0)
  SetFace("HERO_01", "E11_M01", 0, 1, 0, 0)
  BlendEye("HERO_01", 14, 5, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 18, 0, true, "SCURVE", 0, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "E11_M04", 0, 1, 5, 0)
  BlendEye("HEROINE_01", 43, 28, "SCURVE", 20, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 0, 0)
  SetCamera(-32.674, 1.707, -18.646, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-33.708, 1.729, -18.96, "LINEAR", 0, false, 0)
  PlayMotion("HEROINE_01", "e010", 0, true, 0)
  SetFace("HEROINE_01", "E04_M06", 0, 1, 0, 0)
  MessageTalk("m040_130_240")
  MessageClose()
  WaitFrame(20)
  Event_StopBGM(2, 0)
  Fade_OutNoLoadingWithWait(FADE_BLACK, 30)
  WaitFrame(30)
  if Debug.IsEventView() then
    Event_StopBGM(0, 0)
  end
  Vista.SetKeepBGM()
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m040_130()
end
