S040_160 = {
  ID = 160,
  STEP_001 = 1,
  STEP_005 = 5,
  STEP_010 = 10,
  STEP_255 = 255,
  Flag001 = "FLAG_SUB_040_160_001",
  Flag002 = "FLAG_SUB_040_160_002",
  Flag003 = "FLAG_SUB_040_160_003",
  Flag004 = "FLAG_SUB_040_160_004"
}
local text_file = "s040_160"
local base = text_file .. "_"
local tlk = Tlk:new(text_file, 1, true)

function S040_160:Event_010()
  if Qst.Sub:Check(self.ID, self.STEP_001, self.STEP_005) then
    local m_index = GetIndex(NPC, "npc_0013")
    local muls = Obj:new(NPC, "npc_0013")
    local fq01 = Motion.Object:new(NPC, "npc_0013", "fq01")
    local fq02 = Motion.Object:new(NPC, "npc_0013", "fq02")
    local e012 = Motion.Object:new(NPC, "npc_0013", "e012")
    local e013 = Motion.Object:new(NPC, "npc_0013", "e013")
    local bn01 = Motion.Object:new(NPC, "npc_0013", "bn01")
    local e002 = Motion.Object:new(PLAYER, "", "e002")
    local fn01_01 = Motion.Object:new(PLAYER, "", "fn01_01")
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    HideMinimap(true)
    HideGuide(true)
    Flg.Set("FLAG_IS_NOT_MAP_NAME_DISP")
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
    Field_InvisibleFollowerAllGuest(0, 0, false)
    Obj:new(PLAYER, ""):SetPos(7.252, 0, 97.288)
    Obj:new(PLAYER, ""):SetRotationY(0, 0)
    Cam.Inst:Set(6.4703, 1.734, 89.546, 7.938, 2.3448, 99.419, default, 0)
    Field.ObjectLoadExpression(NPC, m_index, "F01_T01")
    Field.ObjectLoadExpression(NPC, m_index, "F02_T01")
    Field.ObjectLoadExpression(NPC, m_index, "F03_T01")
    Field.ObjectLookAtTheObject(PLAYER, 1, NPC, m_index, 0)
    WaitFrame(30)
    fq02:PlayWithStartMoveMotion(10, 10)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    tlk:StartTalkAndCancelDigimonRide()
    Field.ObjectChangeExpression(NPC, m_index, "F01", EYES_BLINK_TYPE_CLOSE, false, 30, AUTO_CANCEL_NONE, 15)
    tlk:Message(base .. "020")
    Field.ObjectChangeExpression(NPC, m_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    local result = tlk:Select(3, base .. "030")
    if result == RESULT_TALK00 then
      Field.ObjectChangeExpression(NPC, m_index, "F03_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      fq02:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "040")
    elseif result == RESULT_TALK01 then
      Field.ObjectChangeExpression(NPC, m_index, "F03_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      fq02:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "050")
    else
      Field.ObjectChangeExpression(NPC, m_index, "F01_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      fq02:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "060")
      Field.ObjectChangeExpression(NPC, m_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
      tlk:EndTalk()
      Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
      Cam.Inst:Clear(0)
      WaitFrame(30)
      HideMinimap(false)
      HideGuide(false)
      Field_CancelInvisibleFollowerAllPartyMember(0, 30, false, true)
      Field_CancelInvisibleFollowerAllGuest(0, 30, false, true)
      FieldObjectSync(FOR_ALL, false)
      FadeInWithWaitNotFlgCheck(FADE_BLACK, FADE_TIME)
      goto lbl_523
    end
    Flg.Set(self.Flag001)
    Field.ObjectChangeExpression(NPC, m_index, "F01_T01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, m_index, "F01_T01", EYES_BLINK_TYPE_CLOSE, true, 30, AUTO_CANCEL_NONE, 15)
    tlk:Message(base .. "070")
    Field.ObjectChangeExpression(NPC, m_index, "F01_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    fq01:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "080")
    Field.ObjectChangeExpression(NPC, m_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    result = tlk:Select(3, base .. "090")
    if result == RESULT_TALK00 then
      Field.ObjectChangeExpression(NPC, m_index, "F01_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      e012:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "100")
    elseif result == RESULT_TALK01 then
      Field.ObjectChangeExpression(NPC, m_index, "F01_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      tlk:Message(base .. "110")
    else
      Field.ObjectChangeExpression(NPC, m_index, "F01_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      e012:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "120")
    end
    fq01:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "130")
    Field.ObjectChangeExpression(NPC, m_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    tlk:EndTalk(true)
    Qst.Sub:Start(self.ID, 1, false)
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    Cam.Inst:Clear(0)
    WaitFrame(30)
    HideMinimap(false)
    HideGuide(false)
    MapChange("t", 103, "start_30", false, FADE_BLACK, FADE_TIME)
    FadeInWithWaitNotFlgCheck(FADE_BLACK, FADE_TIME)
    ::lbl_523::
    END_TALK_ACTION_AND_ZOOM("npc_0013", false, true)
  end
end

function S040_160:Event_020()
  if Qst.Sub:Check(self.ID, self.STEP_001, self.STEP_005) and Flg.Check(self.Flag001) then
    Field.SetMobTransparentFrontOfCamera(0, 10, 10, 10)
    Cam.Inst:Set(11.32, 1.25, -7.784, 2.17, 1.859, -3.794, default, 0)
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
    Field_InvisibleFollowerAllGuest(0, 0, false)
    HideMinimap(true)
    HideGuide(true)
    local h_index = GetIndex(NPC, "s040_160_hiroko_01")
    local h_e004 = Motion.Object:new(NPC, "s040_160_hiroko_01", "e004")
    local h_e008 = Motion.Object:new(NPC, "s040_160_hiroko_01", "e008")
    local h_fn01_01 = Motion.Object:new(NPC, "s040_160_hiroko_01", "fn01_01")
    local m_index = GetIndex(NPC, "s040_160_mars_01")
    local m_bn02 = Motion.Object:new(NPC, "s040_160_mars_01", "bn02")
    local m_e002 = Motion.Object:new(NPC, "s040_160_mars_01", "e002")
    local m_e004 = Motion.Object:new(NPC, "s040_160_mars_01", "e004")
    local p_fn01_01 = Motion.Object:new(PLAYER, "", "fn01_01")
    Field.ObjectLoadExpression(NPC, m_index, "F01_T01")
    Field.ObjectLoadExpression(NPC, m_index, "F02_T01")
    Field.ObjectLoadExpression(NPC, m_index, "F03_T01")
    Field.ObjectLookAtTheObject(PLAYER, 1, NPC, h_index, 0)
    Field.ObjectLookAtTheObject(NPC, h_index, NPC, m_index, 0)
    p_fn01_01:Play(15, true)
    WaitFrame(60)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    tlk:StartTalkAndCancelDigimonRide()
    Field.ObjectChangeExpression(NPC, h_index, "F02", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    h_e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "140")
    Field.ObjectChangeExpression(NPC, h_index, "F02", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, m_index, "F01_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    tlk:Message(base .. "150")
    Field.ObjectChangeExpression(NPC, m_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ObjectChangeExpression(NPC, h_index, "F01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    h_e004:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "160")
    Field.ObjectChangeExpression(NPC, h_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    tlk:MessageClose()
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    WaitFrame(60)
    Field.ObjectLookAtTheObject(PLAYER, 1, NPC, m_index, 0)
    Field.ObjectLookAtTheObject(NPC, h_index, NPC, m_index, 0)
    m_bn02:Play(0, true)
    h_fn01_01:PlayWithStartMoveMotion(0, 0)
    WaitFrame(60)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    Field.ObjectChangeExpression(NPC, m_index, "F01_T01", EYES_BLINK_TYPE_CLOSE, true, 30, AUTO_CANCEL_NONE, 15)
    tlk:Message(base .. "170")
    Field.ObjectChangeExpression(NPC, m_index, "F01_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    m_e002:Play(30, true)
    tlk:Message(base .. "180")
    Field.ObjectChangeExpression(NPC, m_index, "F03_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    m_e004:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "190")
    Field.ObjectChangeExpression(NPC, m_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    tlk:EndTalk(true)
    Flg.Set(self.Flag002)
    Qst.Sub:Set(self.ID, self.STEP_005)
    Field.ClearMobTransparentFrontOfCamera(0)
    MapChange("t", 121, "start_30", true, FADE_BLACK, FADE_TIME)
  end
end

function S040_160:Event_025()
  if Flg.Check(self.Flag002) and not Flg.Check("FLAG_SUB_040_160_005") then
    Cam.Inst:Set(0.8484, 1.31, -1.15, -0.9685, 1.7953, 8.664, default, 0)
    HideMinimap(true)
    HideGuide(true)
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
    Field_InvisibleFollowerAllGuest(0, 0, false)
    local m_index = GetIndex(NPC, "s040_160_001")
    local m_e007 = Motion.Object:new(NPC, "s040_160_001", "e007")
    local m_e004 = Motion.Object:new(NPC, "s040_160_001", "e004")
    local p_fn01_01 = Motion.Object:new(PLAYER, "", "fn01_01")
    local p_e018 = Motion.Object:new(PLAYER, "", "e018")
    Field.ObjectLoadExpression(NPC, m_index, "F01_T01")
    Field.ObjectLoadExpression(NPC, m_index, "F02_T01")
    Field.ObjectLoadExpression(NPC, m_index, "F03_T01")
    Field.ObjectLookAtTheObject(PLAYER, 1, NPC, m_index, 0)
    p_fn01_01:Play(15, true)
    WaitFrame(30)
    tlk:StartTalkAndCancelDigimonRide()
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    Field.ObjectChangeExpression(NPC, m_index, "F03_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    m_e007:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "195")
    Field.ObjectChangeExpression(NPC, m_index, "F03", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    tlk:MessageClose()
    p_e018:Play(10, false)
    WaitFrame(60)
    tlk:EndTalk()
    EncountFromField_PlaySound(20401600, 173, false)
  end
end

function S040_160:Event_030()
  if Qst.Sub:Check(self.ID, self.STEP_005, self.STEP_010) and Flg.Check("FLAG_SUB_040_160_005") then
    Cam.Inst:Set(0.8484, 1.31, -1.15, -0.9685, 1.7953, 8.664, default, 0)
    HideMinimap(true)
    HideGuide(true)
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
    Field_InvisibleFollowerAllGuest(0, 0, false)
    local m_index = GetIndex(NPC, "s040_160_001")
    local m_e002 = Motion.Object:new(NPC, "s040_160_001", "e002")
    local m_e004 = Motion.Object:new(NPC, "s040_160_001", "e004")
    local m_e005 = Motion.Object:new(NPC, "s040_160_001", "e005")
    local m_e013 = Motion.Object:new(NPC, "s040_160_001", "e013")
    local m_bn02 = Motion.Object:new(NPC, "s040_160_001", "bn02")
    local p_fn01_01 = Motion.Object:new(PLAYER, "", "fn01_01")
    local p_e018 = Motion.Object:new(PLAYER, "", "e018")
    Field.ObjectLoadExpression(NPC, m_index, "F01_T01")
    Field.ObjectLoadExpression(NPC, m_index, "F02_T01")
    Field.ObjectLoadExpression(NPC, m_index, "F03_T01")
    Field.ObjectLookAtTheObject(PLAYER, 1, NPC, m_index, 0)
    p_fn01_01:Play(15, true)
    WaitFrame(30)
    tlk:StartTalkAndCancelDigimonRide()
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    Field.ObjectChangeExpression(NPC, m_index, "F02_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    m_e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "200")
    Field.ObjectChangeExpression(NPC, m_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    local result = tlk:Select(3, base .. "210")
    Field.ObjectChangeExpression(NPC, m_index, "F01_T01", EYES_BLINK_TYPE_CLOSE, true, 30, AUTO_CANCEL_NONE, 15)
    m_e005:Play(10, true)
    if result == RESULT_TALK00 then
      tlk:Message(base .. "220")
    elseif result == RESULT_TALK01 then
      tlk:Message(base .. "230")
    else
      tlk:Message(base .. "240")
    end
    tlk:Message(base .. "250")
    m_bn02:Play(10, true)
    tlk:Message(base .. "260")
    Field.ObjectChangeExpression(NPC, m_index, "F01", EYES_BLINK_TYPE_CLOSE, false, 30, AUTO_CANCEL_NONE, 15)
    result = tlk:Select(3, base .. "270")
    Field.ObjectChangeExpression(NPC, m_index, "F01_T01", EYES_BLINK_TYPE_CLOSE, true, 30, AUTO_CANCEL_NONE, 15)
    m_e005:Play(10, true)
    if result == RESULT_TALK00 then
      tlk:Message(base .. "280")
    elseif result == RESULT_TALK01 then
      tlk:Message(base .. "290")
    else
      tlk:Message(base .. "300")
    end
    Field.ObjectChangeExpression(NPC, m_index, "F02_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    m_e013:Play(10, true)
    tlk:Message(base .. "310")
    Field.ObjectChangeExpression(NPC, m_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    tlk:EndTalk(true)
    Flg.Set(self.Flag003)
    Flg.Set("FLAG_SKIP_AREACHANGE_MOVE")
    Qst.Sub:Set(self.ID, self.STEP_010)
    MapChange("t", 104, "start_30", true, FADE_BLACK, FADE_TIME)
  end
end

function S040_160:Event_040()
  if Qst.Sub:Check(self.ID, self.STEP_010, self.STEP_255) then
    local m_index = GetIndex(NPC, "s040_160_001")
    local fq01 = Motion.Object:new(NPC, "s040_160_001", "fq01")
    local fq02 = Motion.Object:new(NPC, "s040_160_001", "fq02")
    local e002 = Motion.Object:new(NPC, "s040_160_001", "e002")
    local e006 = Motion.Object:new(NPC, "s040_160_001", "e006")
    local e008 = Motion.Object:new(NPC, "s040_160_001", "e008")
    local e012 = Motion.Object:new(NPC, "s040_160_001", "e012")
    local e013 = Motion.Object:new(NPC, "s040_160_001", "e013")
    local bn01 = Motion.Object:new(NPC, "s040_160_001", "bn01")
    local p_fn01_01 = Motion.Object:new(PLAYER, "", "fn01_01")
    HideMinimap(true)
    HideGuide(true)
    Field.ObjectLoadExpression(NPC, m_index, "F01_T01")
    Field.ObjectLoadExpression(NPC, m_index, "F02_T01")
    Field.ObjectLoadExpression(NPC, m_index, "F03_T01")
    Field_InvisibleFollowerAllPartyMember(0, 0, false)
    Field_InvisibleFollowerAllGuest(0, 0, false)
    Field.ObjectLookAtTheObject(PLAYER, 1, NPC, m_index, 0)
    p_fn01_01:Play(15, true)
    WaitFrame(30)
    tlk:StartTalkAndCancelDigimonRide()
    Field.SetMobTransparentFrontOfCamera(0, 10, 10, 10)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    Field.ObjectChangeExpression(NPC, m_index, "F01_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "320")
    e008:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "330")
    Field.ObjectChangeExpression(NPC, m_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    local result = tlk:Select(3, base .. "340")
    if result == RESULT_TALK00 then
      Field.ObjectChangeExpression(NPC, m_index, "F01_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      e012:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "350")
    elseif result == RESULT_TALK01 then
      Field.ObjectChangeExpression(NPC, m_index, "F02_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      e012:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "360")
    else
      Field.ObjectChangeExpression(NPC, m_index, "F03_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      e012:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "370")
    end
    Field.ObjectChangeExpression(NPC, m_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    tlk:MessageClose()
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    Obj:new(NPC, "s040_160_001"):SetPos(8.074, 0.02, -14.554)
    Obj:new(PLAYER, ""):SetPos(10.289, 0, -15.706)
    Obj:new(NPC, "s040_160_001"):SetRotationYToObject(PLAYER, "", 0)
    Obj:new(PLAYER, ""):SetRotationYToObject(NPC, "s040_160_001", 0)
    FieldObjectSync(NPC, true)
    Cam.Inst:Set(4.987, 1.02, -11.512, 12.178, 1.709, -18.427, default, 0)
    Field.ObjectResetAim(PLAYER, 1, 0)
    WaitFrame(1)
    Field.ObjectLookAtTheObject(PLAYER, 1, NPC, m_index, 0)
    bn01:PlayWithStartMoveMotion(10, 10)
    WaitFrame(60)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    Field.ObjectChangeExpression(NPC, m_index, "F02_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "380")
    fq01:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "390")
    Field.ObjectChangeExpression(NPC, m_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    result = tlk:Select(3, base .. "400")
    if result == RESULT_TALK00 then
      Field.ObjectChangeExpression(NPC, m_index, "F02_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      fq01:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "410")
    elseif result == RESULT_TALK01 then
      Field.ObjectChangeExpression(NPC, m_index, "F02_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      fq01:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "420")
    else
      Field.ObjectChangeExpression(NPC, m_index, "F03_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      e006:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "430")
      Field.ObjectChangeExpression(NPC, m_index, "F01_T01", EYES_BLINK_TYPE_CLOSE, true, 30, AUTO_CANCEL_NONE, 15)
      fq01:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "440")
    end
    Field.ObjectChangeExpression(NPC, m_index, "F01_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    e012:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "450")
    fq01:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "460")
    Field.ObjectChangeExpression(NPC, m_index, "F02_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    e013:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "470")
    Field.ObjectChangeExpression(NPC, m_index, "F01", EYES_BLINK_TYPE_BLINK, false, 30, AUTO_CANCEL_NONE, 15)
    result = tlk:Select(3, base .. "480")
    if result == RESULT_TALK00 then
      Field.ObjectChangeExpression(NPC, m_index, "F02_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      fq01:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "490")
    elseif result == RESULT_TALK01 then
      Field.ObjectChangeExpression(NPC, m_index, "F01_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      fq02:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "500")
    else
      Field.ObjectChangeExpression(NPC, m_index, "F02_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
      fq01:PlayWithStartMoveMotion(10, 10)
      tlk:Message(base .. "510")
    end
    e002:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "520")
    Field.ObjectChangeExpression(NPC, m_index, "F01_T01", EYES_BLINK_TYPE_BLINK, true, 30, AUTO_CANCEL_NONE, 15)
    tlk:Message(base .. "530")
    fq01:PlayWithStartMoveMotion(10, 10)
    tlk:Message(base .. "550")
    Field.ObjectChangeExpression(NPC, m_index, "F01", EYES_BLINK_TYPE_CLOSE, false, 30, AUTO_CANCEL_NONE, 15)
    Field.ClearMobTransparentFrontOfCamera(0)
    tlk:EndTalk()
    Qst.Sub:End(self.ID, self.STEP_255)
    Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
    Flg.Set(self.Flag004)
    WaitFrame(60)
    HideMinimap(true)
    HideGuide(true)
    MapChange("d", 506, "start_00", false, FADE_BLACK, FADE_TIME)
    WaitFrame(30)
    FadeAllInWithWait(FADE_BLACK, FADE_TIME)
    Flg.Clear("FLAG_IS_NOT_MAP_NAME_DISP")
  end
end
