require("include")

function m120_050()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m120")
  Vista.LoadCRILipSyncs()
  SetEventCutNo(4)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2020_dbef_120")
    LoadMap("d0201")
    LoadObject("d0201shop01_01", "d0201shop01")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  LoadModel("chr607_01", "char_MUSHMON")
  LoadSceneViewerResource("c1.0", "d0201f_sa")
  LoadSceneViewerResource("c2.0", "d0201f_sa")
  LoadSceneViewerResource("c3.0", "d0201f_sa")
  LoadSceneViewerResource("c4.0", "d0201f_sa")
  LoadEnvironmentFile("c1.0", "es_m120_050_c1.0")
  LoadEnvironmentFile("c2.0", "es_m120_050_c2.0")
  LoadEnvironmentFile("c3.0", "es_m120_050_c3.0")
  LoadEnvironmentFile("c4.0", "es_m120_050_c4.0")
  WaitVistaLoad()
  SetPosition("HERO_01", -0.908, 3.516, -13.95, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -110, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 0.419, 3.516, -11.563, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -145, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", 0.595, 3.516, -14.586, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, -91.5, 0, "LINEAR", 0, 0)
  SetPosition("chr607_01", -3.04, 3.509, -14.43, "LINEAR", 0, 0)
  SetRotation("chr607_01", 0, 84.167, 0, "LINEAR", 0, 0)
  if Debug.IsEventView() then
    SetPosition("d0201shop01_01", -3.37, 3.479, -15.3, "LINEAR", 0, 0)
    SetRotation("d0201shop01_01", 0, 90, 0, "LINEAR", 0, 0)
  end
  PlayMotion("HERO_01", "e017_in01", 0, true, 0)
  PlayMotion("HERO_01", "e017", 4, true, 50)
  SetFace("HERO_01", "F01", 0, 1, 0, 0)
  SetBlink("HERO_01", 0, 1, 0)
  SetMouth("HERO_01", 1, 0, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, 0, 0)
  SetBlink("HEROINE_01", 0, 1, 0)
  SetMouth("HEROINE_01", 1, 0, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_01", "F01", 0, 1, 0, 0)
  SetBlink("AEGIOMON_01", 0, 1, 0)
  SetMouth("AEGIOMON_01", 1, 0, 0)
  PlayMotion("chr607_01", "f000", 0, true, 0)
  SetFace("chr607_01", "F01_M01", 0, 2, 0, 0)
  MovePosition("HEROINE_01", -0.306, 3.516, -12.424, true, 1, 0)
  MoveRotation("HEROINE_01", 0, -145, 0, "LINEAR", 1, true, 0)
  MovePosition("AEGIOMON_01", -0.605, 3.516, -14.617, true, 2, 0)
  MoveRotation("AEGIOMON_01", 0, -91.5, 0, "LINEAR", 2, true, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 24, 15, 0, true, "SCURVE", 20, 15)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendFaceDigi("chr607_01", -20, 0, 0, "LINEAR", 0, 0)
  SetCamera(1.079, 5.029, -12.154, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.915, 4.686, -13.367, "LINEAR", 0, false, 0)
  Cam.Inst:Set(-3.2999, 4.142, -13.894, -0.551, 4.214, -13.856, DEFAULT_ANGLE, 0)
  SetEnv_All("c1.0", 0)
  FIELD_SET()
  EVENT_START()
  ObjectInvisible(FOR_ALL)
  NpcInvisible(FOR_ALL)
  CUT("1.0")
  Fade_In(0, FADE_TIME)
  WaitFrame(FADE_TIME)
  WaitFrame(10)
  MessageTalk("m120_050_020")
  MessageClose()
  MOVE_WAIT("HEROINE_01")
  PlayMotion("HEROINE_01", "e201", 4, false, 0)
  PlayMotion("HEROINE_01", "fn01_01", 4, true, 141)
  BlendEye("HEROINE_01", 34, 0, "SCURVE", 10, 0)
  BlendFace("HEROINE_01", 10, 25, 0, true, "SCURVE", 10, 0)
  WaitFrame(40)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetPosition("HEROINE_01", -0.648, 3.516, -12.151, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -91.5, 0, "LINEAR", 0, 0)
  SetPosition("chr607_01", -3.04, 3.509, -14.43, "LINEAR", 0, 0)
  SetRotation("chr607_01", 0, 50.167, 0, "LINEAR", 0, 0)
  SetPosition("HERO_01", -0.63, 3.516, -13.95, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -110, 0, "LINEAR", 0, 0)
  BlendEye("HEROINE_01", 34, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 20, -10, 0, true, "SCURVE", 0, 0)
  BlendFaceDigi("chr607_01", -20, 0, 0, "LINEAR", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -45, 21, 30, true, "SCURVE", 0, 0)
  PlayMotion("chr607_01", "bn01", 4, true, 0)
  SetCamera(-0.753, 4.973, -12.863, 0, 50, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.714, 4.958, -12.259, "LINEAR", 0, false, 0)
  CUT("3.0")
  SetEnv_All("c3.0", 60)
  SetCamera(-1.002, 5.277, -12.512, 0, 50, "LINEAR", 0, false, 60)
  SetCameraTarget(-4.108, 3.452, -13.438, "LINEAR", 0, false, 60)
  SetCamera(-1.002, 5.277, -12.512, 0, 50, "SCURVE", 70, true, 60)
  SetCameraTarget(-4.108, 3.452, -15.198, "SCURVE", 70, true, 60)
  SetPosition("AEGIOMON_01", -0.425, 3.51, -14.827, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, -91.5, 0, "LINEAR", 0, 0)
  SetPosition("HERO_01", -0.468, 3.516, -13.98, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -105, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -36, 23, 31, true, "SCURVE", 0, 0)
  MessageTalk("m120_050_030")
  MessageClose()
  WaitFrame(10)
  CAM_POS_WAIT(0)
  PlayMotion("chr607_01", "f000", 6, true, 0)
  MessageTalk("m120_050_040")
  MessageClose()
  WaitFrame(10)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetCamera(-0.287, 4.893, -13.258, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-2.683, 4.192, -15.191, "LINEAR", 0, false, 0)
  SetPosition("chr607_01", -3.04, 3.509, -14.43, "LINEAR", 0, 0)
  SetRotation("chr607_01", 0, 84.167, 0, "LINEAR", 20, 0)
  PlayMotion("chr607_01", "fe02", 4, false, 0)
  PlayMotion("chr607_01", "f000", 4, true, 80)
  WaitFrame(10)
  MessageTalk("m120_050_050")
  MessageClose()
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 15, 0)
  BlendFaceDigi("chr607_01", 0, 0, 0, "LINEAR", 10, 0)
  PlayMotion("HERO_01", "e017_end01", 4, false, 0)
  WaitFrame(72)
  Debug.AllUIOff()
  if Debug.IsEventView() then
    EVENT_END()
    Debug.AllUIOn()
  else
    Vista.SetKeepBGM()
    EVENT_END_SEAMLESS(20)
  end
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m120_050()
end
