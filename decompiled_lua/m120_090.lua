require("include")

function m120_090()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m120")
  Vista.LoadCRILipSyncs()
  if Debug.IsEventView() then
    SetEventCutNo(5)
    SetTimeZone("Noon")
    SetTimeAxis("A2020_dbef_120")
    LoadMap("d0204")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("chr747_01", "char_MINERVAMON")
  LoadModel("chr718_01", "char_KNIGHTMON")
  Vista.LoadAnimationOVR("chr747_01", "t01_OVR")
  Vista.LoadAnimationBlend("chr747_01", "blend01")
  LoadSceneViewerResource("c1.0", "d0204f_sa")
  LoadSceneViewerResource("c2.0", "d0204f_sa")
  LoadSceneViewerResource("c3.0", "d0204f_sa")
  LoadSceneViewerResource("c4.0", "d0204f_sa")
  LoadSceneViewerResource("c5.0", "d0204f_sa")
  LoadEnvironmentFile("c1.0", "es_m120_090_c1.0")
  LoadEnvironmentFile("c2.0", "es_m120_090_c2.0")
  LoadEnvironmentFile("c3.0", "es_m120_090_c3.0")
  LoadEnvironmentFile("c4.0", "es_m120_090_c4.0")
  LoadEnvironmentFile("c5.0", "es_m120_090_c5.0")
  WaitVistaLoad()
  SetPosition("HERO_01", 0.62, 0, -2.6, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 160, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", 0.353, 0, -0.68, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 1.68, 0, -0.2, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("chr747_01", 1.439, 0, -1, "LINEAR", 0, 0)
  SetRotation("chr747_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("chr718_01", 1.467, 0, -4.396, "LINEAR", 0, 0)
  SetRotation("chr718_01", 0, -30, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, 0, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_01", "F01", 0, 1, 0, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, 0, 0)
  PlayMotion("chr747_01", "fn01_01", 0, true, 0)
  ChangeDigimonFace("chr747_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr747_01", 1, 0, 0)
  PlayMotion("chr718_01", "f000", 0, true, 0)
  ChangeDigimonFace("chr718_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr718_01", 1, 0, 0)
  MovePosition("chr747_01", 1.439, 0, -2.5, true, 0.8, 0)
  MoveRotation("chr747_01", 0, 180, 0, "LINEAR", 0.8, true, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 30, 0)
  BlendFace("HERO_01", -38, 0, 0, true, "SCURVE", 30, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -40, -15, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", -3, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", -22, 16, 0, true, "SCURVE", 0, 0)
  BlendFaceDigi("chr747_01", 0, 0, 0, "LINEAR", 0, 0)
  BlendFaceDigi("chr718_01", 13, 2, 0, "SCURVE", 0, 0)
  SetCamera(2.28, 1.103, -1.308, 0, 50, "LINEAR", 0, false, 0)
  SetCameraTarget(1.367, 1.365, -2.847, "LINEAR", 0, false, 0)
  SetEnv_All("c1.0", 0)
  Field_InvisibleMob(FOR_ALL, INVISIBLE_KEY_EVENT, 0, false)
  Field_InvisiblePlayer(INVISIBLE_KEY_EVENT, 0, false)
  Field_InvisibleFollowerAllGuest(INVISIBLE_KEY_EVENT, 0, false)
  Field_InvisibleFollowerAllPartyMember(INVISIBLE_KEY_EVENT, 0, false)
  Field_InvisibleAllSymbolEnemy(INVISIBLE_KEY_EVENT, 0, false)
  Field_InvisibleNpc("npc_1001", INVISIBLE_KEY_EVENT, 0, true)
  Field_InvisibleNpc("npc_2028", INVISIBLE_KEY_EVENT, 0, true)
  Field_InvisibleRumorNpc(FOR_ALL, INVISIBLE_KEY_EVENT, 0, true)
  EVENT_START()
  CUT("1.0")
  Fade_In(0, FADE_TIME)
  WaitFrame(FADE_TIME)
  SetCamera(2.28, 1.034, -1.308, 0, 50, "SCURVE", 45, false, 0)
  SetCameraTarget(1.367, 1.222, -2.847, "SCURVE", 45, false, 0)
  BlendFaceDigi("chr718_01", 13, 22, 0, "SCURVE", 30, 30)
  WaitFrame(60)
  BlendFaceDigi("chr747_01", -10, 5, 0, "SCURVE", 15, 0)
  WaitFrame(25)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(1.595, 1.487, -3.495, 0, 39, "LINEAR", 0, false, 0)
  SetCameraTarget(1.442, 1.3, -2.612, "LINEAR", 0, false, 0)
  SetPosition("AEGIOMON_01", 0.673, 0, -1.78, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 2, 0, -1.3, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 190, 0, "LINEAR", 0, 0)
  BlendFaceDigi("chr747_01", -45, 5, 0, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", -11, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -51, -26, 0, true, "SCURVE", 0, 0)
  WaitFrame(10)
  MessageTalk("m120_090_010")
  MessageClose()
  WaitFrame(10)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(1.55, 1.69, -2.731, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(1.461, 1.953, -4.162, "LINEAR", 0, false, 0)
  BlendFaceDigi("chr718_01", 13, 8, 0, "SCURVE", 0, 0)
  PlayMotion("chr718_01", "fq04", 0, false, 0)
  PlayMotion("chr718_01", "f000", 4, true, 50)
  MessageTalk("m120_090_020")
  MessageTalk("m120_090_030")
  BlendFaceDigi("chr718_01", 13, 10, 0, "SCURVE", 20, 0)
  MessageTalk("m120_090_040")
  MessageClose()
  WaitFrame(10)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetCamera(1.595, 1.487, -3.495, 0, 39, "LINEAR", 0, false, 0)
  SetCameraTarget(1.442, 1.3, -2.612, "LINEAR", 0, false, 0)
  PlayMotionBlend("chr747_01", "blend01", 4, false, 0)
  BlendFaceDigi("chr718_01", 0, 0, 0, "SCURVE", 0, 0)
  WaitFrame(40)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetCamera(0.776, 1.403, -1.477, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(0.508, 1.622, -4.264, "LINEAR", 0, false, 0)
  SetPosition("chr747_01", 1.439, 0, -2.493, "LINEAR", 0, 0)
  SetRotation("chr747_01", 0, 180, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -0, 0, 0, true, "SCURVE", 25, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -0, -0, 0, true, "SCURVE", 30, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", -0, 0, 0, true, "SCURVE", 30, 0)
  BlendEye("chr747_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("chr747_01", -0, -0, 0, true, "SCURVE", 30, 0)
  PlayAim("chr718_01", "HERO_01", 30, 0)
  WaitFrame(30)
  Field_CancelInvisibleMob(FOR_ALL, INVISIBLE_KEY_EVENT, 0, true, false)
  if Debug.IsEventView() then
    EVENT_END()
  else
    EVENT_END_SEAMLESS(60)
  end
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m120_090()
end
