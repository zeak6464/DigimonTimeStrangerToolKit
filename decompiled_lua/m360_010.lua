require("include")

function m360_010()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m360")
  SetEventCutNo(8)
  if Debug.IsEventView() then
    SetTimeAxis("P2028_daft_330")
    LoadMap("d0702")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("chr916_01", "char_UNDEADPLUTOMON")
  LoadSceneViewerResource("c0.5", "d0702f_sa")
  LoadSceneViewerResource("c0.6", "d0702f_sa")
  LoadSceneViewerResource("c0.7", "d0702f_sa")
  LoadSceneViewerResource("c1.0", "d0702f_sa")
  LoadSceneViewerResource("c2.0", "d0702f_sa")
  LoadSceneViewerResource("c2.5", "d0702f_sa")
  LoadSceneViewerResource("c3.0", "d0702f_sa")
  LoadSceneViewerResource("c4.0", "d0702f_sa")
  LoadSceneViewerResource("c5.0", "d0702f_sa")
  LoadSceneViewerResource("c5.0_A1", "d0702f_sa")
  LoadSceneViewerResource("c5.0_B1", "d0702f_sa")
  LoadSceneViewerResource("c5.0_C1", "d0702f_sa")
  LoadEnvironmentFile("c0.5", "es_m360_010_c0.5")
  LoadEnvironmentFile("c0.6", "es_m360_010_c0.6")
  LoadEnvironmentFile("c0.7", "es_m360_010_c0.7")
  LoadEnvironmentFile("c1.0", "es_m360_010_c1.0")
  LoadEnvironmentFile("c2.0", "es_m360_010_c2.0")
  LoadEnvironmentFile("c2.5", "es_m360_010_c2.5")
  LoadEnvironmentFile("c3.0", "es_m360_010_c3.0")
  LoadEnvironmentFile("c4.0", "es_m360_010_c4.0")
  LoadEnvironmentFile("c5.0", "es_m360_010_c5.0")
  LoadEnvironmentFile("c5.0_A1", "es_m360_010_c5.0_A1")
  LoadEnvironmentFile("c5.0_B1", "es_m360_010_c5.0_B1")
  LoadEnvironmentFile("c5.0_C1", "es_m360_010_c5.0_C1")
  WaitVistaLoad()
  SetPosition("HERO_01", 0.051, 7, -118.924, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 180, 0, "LINEAR", 0, 0)
  SetScale("HERO_01", 1, 1, 1)
  SetPosition("chr916_01", 0.171, 8.857, -178.95, "LINEAR", 0, 0)
  SetRotation("chr916_01", 0, 0, 0, "LINEAR", 0, 0)
  SetScale("chr916_01", 1.6, 1.6, 1.6)
  PlayMotion("HERO_01", "bn01", 0, true, 0)
  SetFace("HERO_01", "F16", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr916_01", "e100", 0, true, 0)
  SetFace("chr916_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendFaceDigi("chr916_01", 0, 0, 0, "SCURVE", 0, 0)
  SetCamera(3.44, 8.406, -113.256, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(0.673, 8.896, -129.065, "LINEAR", 0, false, 0)
  SetCamera(2.859, 8.509, -116.574, 0, 40, "DECEL", 180, false, 0)
  SetCameraTarget(0.673, 8.896, -129.065, "DECEL", 180, false, 0)
  MovePosition("HERO_01", 0.051, 7, -122.824, false, 1, 0)
  MoveRotation("HERO_01", 0, 180, 0, "LINEAR", 1, true, 0)
  Event_StopBGM(5, 0)
  FIELD_SET()
  EVENT_START()
  CUT("0.5")
  SetEnv_All("c0.5", 0)
  Fade_In(0, FADE_TIME)
  WaitFrame(100)
  CUT("0.6")
  SetEnv_All("c0.6", 0)
  Vista.SetEnableFootsteps("HERO_01", false, 0)
  SetCamera(0.15, 9.478, -158.555, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(0.145, 11.709, -180.719, "LINEAR", 0, false, 0)
  SetCamera(0.149, 9.756, -161.314, 0, 40, "LINEAR", 120, true, 0)
  SetCameraTarget(0.145, 11.709, -180.719, "LINEAR", 120, true, 0)
  WaitFrame(120)
  CUT("0.7")
  SetEnv_All("c0.7", 0)
  Vista.SetEnableFootsteps("HERO_01", true, 0)
  SetCamera(0.691, 8.478, -123.51, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.072, 8.506, -122.842, "LINEAR", 0, false, 0)
  WaitFrame(15)
  SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  WaitFrame(75)
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  SetCamera(0.845, 7.956, -168.174, 5, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.141, 12.169, -181.765, "LINEAR", 0, false, 0)
  SetCamera(0.695, 8.855, -171.074, 5, 30, "LINEAR", 150, false, 0)
  SetCameraTarget(0.141, 12.169, -181.765, "LINEAR", 150, false, 0)
  WaitFrame(30)
  Event_PlayBGM(701, 1, 0)
  WaitFrame(30)
  PlayMotion("chr916_01", "e121", 5, true, 0)
  SetFace("chr916_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  WaitFrame(105)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetPosition("chr916_01", 0.171, 8.857, -176.006, "LINEAR", 0, 0)
  SetRotation("chr916_01", 0, 0, 0, "LINEAR", 0, 0)
  SetCamera(2.789, 9.568, -167.111, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.119, 14.129, -173.722, "LINEAR", 0, false, 0)
  SetCamera(3.518, 9.15, -165.456, 0, 30, "SCURVE", 40, false, 0)
  SetCameraTarget(-0.119, 14.854, -173.722, "SCURVE", 40, false, 0)
  WaitFrame(140)
  CUT("2.5")
  SetEnv_All("c2.5", 0)
  SetPosition("HERO_01", 0.051, 7, -161.291, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 180, 0, "LINEAR", 0, 0)
  SetCamera(0.773, 8.512, -162.48, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.16, 8.308, -161.385, "LINEAR", 0, false, 0)
  PlayMotion("HERO_01", "e018", 0, true, 0)
  SetFace("HERO_01", "E15_M16", 0, 1, FACE_BLENDTIME, 0)
  WaitFrame(100)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetPosition("chr916_01", 0.171, 8.857, -173.037, "LINEAR", 0, 0)
  SetRotation("chr916_01", 0, 0, 0, "LINEAR", 0, 0)
  PlayMotion("chr916_01", "bn02", 0, true, 0)
  SetCamera(0.72, 13.455, -164.815, 5, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.193, 14.041, -173.031, "LINEAR", 0, false, 0)
  SetCamera(0.653, 13.529, -166.297, 5, 30, "LINEAR", 150, true, 0)
  SetCameraTarget(0.193, 14.041, -172.746, "LINEAR", 150, true, 0)
  Vista.ApplyVoiceSnapshot(SOUND_SNAPSHOT_ZOMBIE)
  MessageTalk("m360_010_010")
  MessageClose()
  WaitFrame(10)
  Vista.ApplyVoiceSnapshot(SOUND_SNAPSHOT_ZOMBIE)
  MessageTalk("m360_010_020")
  MessageClose()
  WaitFrame(10)
  Vista.ApplyVoiceSnapshot(SOUND_SNAPSHOT_ZOMBIE)
  MessageTalk("m360_010_030")
  MessageClose()
  WaitFrame(10)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetCamera(1.357, 17.25, -169.43, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.077, 14.262, -172.308, "LINEAR", 0, false, 0)
  PlayMotion("chr916_01", "e502", 0, true, 0)
  WaitFrame(30)
  Event_PlaySE(403002, 100, false, 0, 0.3)
  SetCamera(2.669, 20.313, -166.48, 0, 30, "SCURVE", 20, false, 0)
  SetCameraTarget(0.077, 14.262, -172.308, "SCURVE", 20, false, 0)
  Event_Quake_Start(10, 0, 30, 10)
  Vista.ApplyVoiceSnapshot(SOUND_SNAPSHOT_ZOMBIE)
  MessageTalk("m360_010_040")
  MessageClose()
  WaitFrame(10)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetPosition("chr916_01", 0.062, 9.024, -171.977, "LINEAR", 0, 0)
  SetRotation("chr916_01", 0, 0, 0, "LINEAR", 0, 0)
  PlayMotion("chr916_01", "bn02", 0, true, 0)
  SetFace("chr916_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HERO_01", "bn01", 0, true, 0)
  SetFace("HERO_01", "F16", 0, 1, 0, 0)
  SetCamera(0.468, 8.57, -162.206, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.011, 8.4, -161.207, "LINEAR", 0, false, 0)
  MessageTalkSel(3, "m360_010_050")
  result = Talk.GetResultSelectedNum()
  if result == RESULT_TALK00 then
    BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
    BlendFace("HERO_01", 22, 0, 0, false, "SCURVE", 30, 0)
    SetFace("HERO_01", "E09_M15", 0, 1, FACE_BLENDTIME, 0)
    SetMouth("HERO_01", 0, 6, 0)
    SetMouth("HERO_01", 1, 0, 45)
    WaitFrame(60)
    CUT("5.0_A1")
    SetEnv_All("c5.0_A1", 0)
    BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
    BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
    SetCamera(0.745, 11.776, -166.919, 0, 30, "LINEAR", 0, false, 0)
    SetCameraTarget(-0.146, 14.415, -171.763, "LINEAR", 0, false, 0)
    Vista.ApplyVoiceSnapshot(SOUND_SNAPSHOT_ZOMBIE)
    MessageTalk("m360_010_057")
    MessageClose()
    WaitFrame(10)
  elseif result == RESULT_TALK01 then
    BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
    BlendFace("HERO_01", 22, 0, 0, false, "SCURVE", 30, 0)
    SetFace("HERO_01", "E11_M15", 0, 1, FACE_BLENDTIME, 0)
    SetMouth("HERO_01", 0, 6, 0)
    SetMouth("HERO_01", 1, 0, 45)
    WaitFrame(60)
    CUT("5.0_B1")
    SetEnv_All("c5.0_B1", 0)
    BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
    BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
    SetCamera(0.745, 11.776, -166.919, 0, 30, "LINEAR", 0, false, 0)
    SetCameraTarget(-0.146, 14.415, -171.763, "LINEAR", 0, false, 0)
    Vista.ApplyVoiceSnapshot(SOUND_SNAPSHOT_ZOMBIE)
    MessageTalk("m360_010_058")
    MessageClose()
    WaitFrame(10)
  elseif result == RESULT_TALK02 then
    BlendEye("HERO_01", 0, 0, "SCURVE", 30, 0)
    BlendFace("HERO_01", 0, 0, -29, false, "SCURVE", 30, 0)
    SetFace("HERO_01", "E11_M16", 0, 1, FACE_BLENDTIME, 0)
    SetMouth("HERO_01", 0, 6, 0)
    SetMouth("HERO_01", 1, 0, 45)
    WaitFrame(60)
    CUT("5.0_C1")
    SetEnv_All("c5.0_C1", 0)
    BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
    BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
    SetCamera(0.745, 11.776, -166.919, 0, 30, "LINEAR", 0, false, 0)
    SetCameraTarget(-0.146, 14.415, -171.763, "LINEAR", 0, false, 0)
    Vista.ApplyVoiceSnapshot(SOUND_SNAPSHOT_ZOMBIE)
    MessageTalk("m360_010_059")
    MessageClose()
    WaitFrame(10)
  end
  Event_StopBGM(2, 0)
  WaitFrame(30)
  PlayMotion("chr916_01", "e502", 8, true, 0)
  SetFace("chr916_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  Event_PlayBGM(931, 0, 0)
  WaitFrame(40)
  Event_Quake_Start(10, 0, 30, 0)
  SetCamera(1.156, 6.808, -158.914, 0, 30, "SCURVE", 10, false, 0)
  SetCameraTarget(-1.126, 13.9, -171.871, "SCURVE", 10, false, 0)
  PlayMotion("HERO_01", "e018", 5, true, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  Vista.ApplyVoiceSnapshot(SOUND_SNAPSHOT_ZOMBIE)
  MessageTalkAuto("m360_010_060", 150, true)
  WaitFrame(150)
  SetCamera(0.745, 11.776, -166.919, 0, 30, "LINEAR", 10, false, 0)
  SetCameraTarget(-0.146, 14.415, -171.763, "LINEAR", 10, false, 0)
  Fade_OutNoLoadingWithWait(FADE_WHITE, 10)
  Vista.SetKeepBGM()
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m360_010()
end
