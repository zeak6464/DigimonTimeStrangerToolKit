require("include")

function m310_032()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m310")
  SetEventCutNo(5)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2028_daft_310")
    SetMapStatus("Disable")
    LoadMap("t0101")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  LoadModel("HIROKO_01", "char_HIROKO_8YEARSLATER")
  LoadSceneViewerResource("c1.0", "t0101f_ca")
  LoadSceneViewerResource("c2.0", "t0101f_ca")
  LoadSceneViewerResource("c3.0", "t0101f_ca")
  LoadSceneViewerResource("c4.0", "t0101f_ca")
  LoadSceneViewerResource("c5.0", "t0101f_ca")
  LoadEnvironmentFile("c1.0", "es_m310_032_c1.0")
  LoadEnvironmentFile("c2.0", "es_m310_032_c2.0")
  LoadEnvironmentFile("c3.0", "es_m310_032_c3.0")
  LoadEnvironmentFile("c4.0", "es_m310_032_c4.0")
  LoadEnvironmentFile("c5.0", "es_m310_032_c5.0")
  WaitVistaLoad()
  SetCamera(-8.195, 1.927, 5.85, 0, 40, "LINEAR", 0, 0)
  SetCameraTarget(-4.492, 0.132, -4.36, "LINEAR", 0, 0)
  Event_StopBGM(1, 0)
  Event_PlayBGM(315, 0, 1)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  SetCamera(-0.391, 1.835, -2.771, 0, 23, "LINEAR", 0, false, 0)
  SetCameraTarget(1.045, 2.148, -3.646, "LINEAR", 0, false, 0)
  SetPosition("HERO_01", -0.496, 0.68, -4.088, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 49, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -0.883, 0.68, -3.099, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 106.5, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", -0.27, 0.68, -2.012, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 135, 0, "LINEAR", 0, 0)
  SetPosition("HIROKO_01", 0.908, 0.68, -3.547, "LINEAR", 0, 0)
  SetRotation("HIROKO_01", 0, -86, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, 0, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, 0, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_01", "F01", 0, 1, 0, 0)
  PlayMotion("HIROKO_01", "fn01_01", 0, false, 0)
  SetFace("HIROKO_01", "E10_M01", 0, 1, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -30, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HIROKO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HIROKO_01", 0, 0, 0, true, "SCURVE", 0, 0)
  Fade_In(FADE_BLACK, FADE_TIME)
  WaitFrame(30)
  PlayMotion("HIROKO_01", "e002", 5, false, 0)
  SetFace("HIROKO_01", "E07_M01", 0, 1, 7, 10)
  MessageTalk("m310_032_010")
  MessageClose()
  WaitFrame(10)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetPosition("HERO_01", -0.546, 0.68, -4.318, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 52, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -0.883, 0.68, -3.099, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 98.5, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", 0.04, 0.68, -1.936, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 147.5, 0, "LINEAR", 0, 0)
  SetPosition("HIROKO_01", 0.908, 0.68, -3.547, "LINEAR", 0, 0)
  SetRotation("HIROKO_01", 0, -86, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -6, -4, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -53, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HIROKO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HIROKO_01", -19, 4, 0, true, "SCURVE", 0, 0)
  SetCamera(0.34, 2.014, 0.253, 0, 27, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.072, 1.819, -3.649, "LINEAR", 0, false, 0)
  WaitFrame(10)
  PlayMotion("HEROINE_01", "e012", 4, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  SetFace("HEROINE_01", "E04_M01", 0, 1, FACE_BLENDTIME, 10)
  MessageTalk("m310_032_020")
  MessageClose()
  WaitFrame(10)
  PlayMotion("HIROKO_01", "e007", 4, true, 0)
  SetFace("HIROKO_01", "E03_M09", 0, 1, FACE_BLENDTIME, 0)
  BlendFace("HIROKO_01", 0, 4, 0, true, "SCURVE", 30, 0)
  MessageTalk("m310_032_030")
  EndMotion("HIROKO_01", 0)
  SetFace("HIROKO_01", "E12_M05", 0, 1, FACE_BLENDTIME, 0)
  BlendFace("HIROKO_01", -23, 4, 0, true, "SCURVE", 30, 0)
  PlayMotionBlend("HIROKO_01", "blend01", 0, false, 30)
  WaitFrame(10)
  MessageTalk("m310_032_040")
  WaitFrame(10)
  EndMotion("HEROINE_01", 0)
  SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 10)
  PlayMotion("HIROKO_01", "e013", 0, true, 0)
  SetFace("HIROKO_01", "E03_M01", 0, 1, FACE_BLENDTIME, 10)
  BlendFace("HIROKO_01", 20, 4, 0, true, "SCURVE", 30, 0)
  MessageTalk("m310_032_050")
  MessageClose()
  WaitFrame(10)
  PlayMotion("HEROINE_01", "e006", 6, true, 0)
  SetFace("HEROINE_01", "E05_M07", 0, 1, FACE_BLENDTIME, 0)
  SetFace("HERO_01", "F16", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m310_032_060")
  MessageClose()
  WaitFrame(10)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetPosition("HIROKO_01", 0.908, 0.68, -3.547, "LINEAR", 0, 0)
  SetRotation("HIROKO_01", 0, -86, 0, "LINEAR", 0, 0)
  SetCamera(-0.391, 1.835, -2.771, 0, 23, "LINEAR", 0, false, 0)
  SetCameraTarget(1.045, 2.148, -3.646, "LINEAR", 0, false, 0)
  EndMotion("HIROKO_01", 0)
  SetFace("HIROKO_01", "E07_M01", 1, 1, FACE_BLENDTIME, 10)
  BlendFace("HIROKO_01", -4, 4, 0, true, "SCURVE", 30, 0)
  WaitFrame(10)
  MessageTalk("m310_032_070")
  MessageTalk("m310_032_080")
  PlayMotionBlend("HIROKO_01", "blend01", 0, false, 0)
  MessageTalk("m310_032_090")
  BlendFace("HIROKO_01", -76, -79, 28, true, "SCURVE", 40, 0)
  SetFace("HIROKO_01", "F01", 0, 1, 3, 0)
  MessageClose()
  WaitFrame(10)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetPosition("HERO_01", -0.546, 0.68, -4.318, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 52, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -0.953, 0.68, -3.099, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 98.5, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", -0.02, 0.68, -1.936, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 141.5, 0, "LINEAR", 0, 0)
  SetPosition("HIROKO_01", 0.908, 0.68, -3.547, "LINEAR", 0, 0)
  SetRotation("HIROKO_01", 0, -86, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, 0, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F16", 0, 1, 0, 0)
  PlayMotion("AEGIOMON_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_01", "F01", 0, 1, 0, 0)
  PlayMotion("HIROKO_01", "fn01_01", 0, true, 0)
  SetFace("HIROKO_01", "F01", 1, 1, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -6, -4, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -53, 0, 0, true, "SCURVE", 0, 0)
  SetCamera(1.426, 0.755, 1.385, 0, 27, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.117, 2.328, -4.013, "LINEAR", 0, false, 0)
  WaitFrame(10)
  BlendFace("HEROINE_01", -54, 64, -41, true, "SCURVE", 50, 20)
  MessageTalk("m310_032_100")
  BlendFace("HIROKO_01", -4, 4, 0, true, "SCURVE", 36, 0)
  PlayMotionBlend("HIROKO_01", "blend01", 0, false, 40)
  SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  SetFace("HEROINE_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 36, 16)
  MessageTalk("m310_032_110")
  MessageClose()
  WaitFrame(20)
  PlayMotionBlend("HEROINE_01", "blend01", 0, false, 0)
  MessageTalk("m310_032_120")
  MessageClose()
  WaitFrame(10)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetCamera(3.517, 2.726, -3.351, 0, 27, "LINEAR", 0, false, 0)
  SetCameraTarget(-1.158, 1.65, -3.202, "LINEAR", 0, false, 0)
  SetPosition("HERO_01", -0.546, 0.68, -4.318, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 52, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -0.953, 0.68, -3.099, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 98.5, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_01", -0.39, 0.68, -2.276, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, 141.5, 0, "LINEAR", 0, 0)
  SetPosition("HIROKO_01", 0.908, 0.68, -3.547, "LINEAR", 0, 0)
  SetRotation("HIROKO_01", 0, -86, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HERO_01", 25, -25, "SCURVE", 10, 10)
  BlendFace("HERO_01", 8, -85, 0, true, "SCURVE", 30, 10)
  BlendEye("HEROINE_01", 15, 30, "SCURVE", 10, 14)
  BlendFace("HEROINE_01", -5, 58, 0, true, "SCURVE", 30, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", -53, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HIROKO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HIROKO_01", -4, 4, 0, true, "SCURVE", 0, 0)
  PlayMotion("HEROINE_01", "e004_01", 6, true, 0)
  SetFace("HEROINE_01", "E16_M01", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HEROINE_01", 30, -20, "SCURVE", 10, 50)
  BlendFace("HEROINE_01", 25, -65, -25, true, "SCURVE", 30, 50)
  BlendFace("AEGIOMON_01", -74, 71, -33, true, "SCURVE", 30, 70)
  WaitFrame(20)
  MessageTalk("m310_032_130")
  MessageClose()
  PlayMotionBlend("AEGIOMON_01", "blend01", 0, false, 0)
  WaitFrame(40)
  BlendEye("HERO_01", 26, 0, "SCURVE", 10, 10)
  BlendFace("HERO_01", 20, -62, 0, true, "SCURVE", 32, 0)
  PlayMotion("AEGIOMON_01", "e004", 6, true, 0)
  SetFace("AEGIOMON_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  BlendFace("AEGIOMON_01", -35, 40, 0, true, "SCURVE", 30, 0)
  BlendEye("HEROINE_01", 15, 30, "SCURVE", 10, 24)
  BlendFace("HEROINE_01", -5, 58, 0, true, "SCURVE", 30, 20)
  MessageTalk("m310_032_140")
  MessageClose()
  PlayMotionBlend("HERO_01", "blend01", 0, false, 0)
  WaitFrame(30)
  Event_StopBGM(1, 0)
  Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
  if Debug.IsEventView() then
    Event_StopBGM(0, 0)
  end
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m310_032()
end
