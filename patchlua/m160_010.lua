require("include")

function m160_010()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m160")
  SetEventCutNo(4)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2020_dbef_160")
    LoadMap("d0606")
  end
  LoadModel("chr918_01", "char_LOCOMON_EVENT")
  LoadEffectScript("ef_f_chu_015_sm_01", "ef_f_chu_015_sm")
  LoadSceneViewerResource("c1.0", "m160_010_c1.0")
  LoadSceneViewerResource("c2.0", "m160_010_c1.0")
  LoadSceneViewerResource("c3.0", "m160_010_c1.0")
  LoadSceneViewerResource("c4.0", "m160_010_c1.0")
  LoadEnvironmentFile("c1.0", "es_m160_010_c1.0")
  LoadEnvironmentFile("c2.0", "es_m160_010_c2.0")
  LoadEnvironmentFile("c3.0", "es_m160_010_c3.0")
  LoadEnvironmentFile("c4.0", "es_m160_010_c4.0")
  WaitVistaLoad()
  SetPosition("chr918_01", 0.022, -238.506, 1309.793, "LINEAR", 0, 0)
  SetRotation("chr918_01", -15, 180, 0, "LINEAR", 0, 0)
  SetPosition("ef_f_chu_015_sm_01", 0, 0, 0, "LINEAR", 0, 0)
  SetRotation("ef_f_chu_015_sm_01", 0, 0, 0, "LINEAR", 0, 0)
  PlayMotion("chr918_01", "br01", 0, true, 0)
  ChangeDigimonFace("chr918_01", EYE_EXPRESSION_NORMAL, 0)
  SetMouth("chr918_01", 1, 0, 0)
  BlendFaceDigi("chr918_01", 0, 0, 0, "LINEAR", 0, 0)
  SetCamera(-5.133, -234.794, 1300.735, 0, 45, "LINEAR", 0, false, 0)
  SetCameraTarget(-3.887, -231.326, 1288.157, "LINEAR", 0, false, 0)
  MovePosition("chr918_01", 0.022, -148.532, 973.888, false, 20, 0)
  SetEnv_All("c1.0", 0)
  local slot_01 = Event_PlaySE(200021, 30, true, 1, 0)
  Vista.AttachEffectToModel("ef_f_chu_015_sm_01", "chr918_01", "J_spine")
  Event_StopBGM(0, 0)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  PlayEffect("ef_f_chu_015_sm_01", false, 0)
  SetCamera(-11.313, -212.156, 1302.423, 0, 45, "SCURVE", 240, false, 0)
  SetCameraTarget(-10.746, -209.552, 1289.59, "SCURVE", 240, false, 0)
  Fade_In(0, FADE_TIME)
  WaitFrame(FADE_TIME)
  Event_PlayBGM(709, 0, 0)
  WaitFrame(30)
  MessageTalkAuto("m160_010_010", -1, true)
  MESSAGE_WAIT()
  WaitFrame(30)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetPosition("chr918_01", 0.009, -147.341, 969.281, "LINEAR", 0, 0)
  SetRotation("chr918_01", -14.5, 180, 0, "LINEAR", 0, 0)
  SetCamera(-67.568, 6.673, 1005.923, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-51.395, 12.345, 917.069, "LINEAR", 0, false, 0)
  SetCamera(-145.62, 4.539, 991.197, 0, 30, "LINEAR", 1200, true, 0)
  SetCameraTarget(-127.644, 10.672, 902.721, "LINEAR", 1200, true, 0)
  MessageTalkAuto("m160_010_020", -1, true)
  MESSAGE_WAIT()
  MessageTalkSel(3, "m160_010_030")
  result = Talk.GetResultSelectedNum()
  if result == RESULT_TALK00 then
  elseif result == RESULT_TALK01 then
  elseif result == RESULT_TALK02 then
  end
  WaitFrame(30)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetPosition("chr918_01", 0.022, -148.612, 973.888, "LINEAR", 0, 0)
  SetRotation("chr918_01", -14.5, 180, 0, "LINEAR", 0, 0)
  PlayMotion("chr918_01", "br01", 0, true, 0)
  SetFace("chr918_01", "F01", 0, 1, 0, 0)
  SetPosition("chr918_01", 0.022, -39.236, 565.336, "LINEAR", 370, 0)
  SetCamera(-23.75, -143.64, 962.559, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.333, -146.095, 973.99, "LINEAR", 0, false, 0)
  SetCamera(-23.75, -34.257, 554.007, 0, 30, "LINEAR", 370, false, 0)
  SetCameraTarget(0.333, -36.712, 565.438, "LINEAR", 370, false, 0)
  MessageTalkAuto("m160_010_040", -1, true)
  MESSAGE_WAIT()
  WaitFrame(10)
  WaitFrame(15)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetPosition("chr918_01", 0.022, -189.817, 1126.978, "LINEAR", 0, 0)
  SetRotation("chr918_01", -15, 180, 0, "LINEAR", 0, 0)
  MovePosition("chr918_01", 0.022, -69.419, 677.407, false, 40, 0)
  SetPosition("ef_f_chu_015_sm_01", 0.022, -69.419, 677.407, "LINEAR", 0, 0)
  SetCamera(0.301, -183.476, 1129.735, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.403, -168.906, 1062.607, "LINEAR", 0, false, 0)
  SetCamera(-0.825, -163.527, 1158.05, 0, 30, "SCURVE", 210, true, 0)
  SetCameraTarget(-0.731, -142.468, 1066.64, "SCURVE", 210, true, 0)
  Event_StopSE(slot_01, 4, 2)
  MessageTalkAuto("m160_010_050", -1, true)
  MESSAGE_WAIT()
  WaitFrame(30)
  Fade_OutNoLoadingWithWait(FADE_BLACK, 60)
  Vista.SetKeepBGM()
  Vista.SetKeepBGMWithMapChange()
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m160_010()
end
