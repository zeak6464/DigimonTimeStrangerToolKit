require("include")

function m070_080()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m070")
  SetEventCutNo(10)
  if Debug.IsEventView() then
    SetTimeZone("Evening")
    SetTimeAxis("A2020_dbef_70")
    LoadMap("t0302")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("TAKEMIYA_01", "char_HEROINES_FATHER")
  LoadModel("AEGIOMON_B_01", "char_AEGIOMON_PLAIN_CLOTHES")
  LoadModel("KUREMI_01", "char_KUREMI")
  LoadModel("npc109aa010101_01", "char_ABDUCTED_BOY")
  LoadModel("npc110aa010101_01", "char_ABDUCTED_GIRL")
  Vista.BindSpeaker("AEGIOMON_B_01", "char_AEGIOMON")
  Vista.BindSpeaker("npc109aa010101_01", "char_BOY")
  LoadSceneViewerResource("c0.5", "t0302f_pe")
  LoadSceneViewerResource("c1.0", "t0302f_pe")
  LoadSceneViewerResource("c2.0", "t0302f_pe")
  LoadSceneViewerResource("c3.0", "t0302f_pe")
  LoadSceneViewerResource("c4.0", "t0302f_pe")
  LoadSceneViewerResource("c5.0", "t0302f_pe")
  LoadSceneViewerResource("c6.0", "t0302f_pe")
  LoadSceneViewerResource("c7.0", "t0302f_pe")
  LoadSceneViewerResource("c8.0", "t0302f_pe")
  LoadSceneViewerResource("c9.0", "t0302f_pe")
  LoadSceneViewerResource("c10.0", "t0302f_pe")
  LoadEnvironmentFile("c0.5", "es_m070_080_c0.5")
  LoadEnvironmentFile("c1.0", "es_m070_080_c1.0")
  LoadEnvironmentFile("c2.0", "es_m070_080_c2.0")
  LoadEnvironmentFile("c3.0", "es_m070_080_c3.0")
  LoadEnvironmentFile("c4.0", "es_m070_080_c4.0")
  LoadEnvironmentFile("c5.0", "es_m070_080_c5.0")
  LoadEnvironmentFile("c6.0", "es_m070_080_c6.0")
  LoadEnvironmentFile("c7.0", "es_m070_080_c7.0")
  LoadEnvironmentFile("c8.0", "es_m070_080_c8.0")
  LoadEnvironmentFile("c9.0", "es_m070_080_c9.0")
  LoadEnvironmentFile("c10.0", "es_m070_080_c10.0")
  WaitVistaLoad()
  SetPosition("HERO_01", 14.462, 0, 21.406, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 218, 0, "LINEAR", 0, 0)
  SetPosition("TAKEMIYA_01", 15.712, -0.009, 19.724, "LINEAR", 0, 0)
  SetRotation("TAKEMIYA_01", 0, -33.909, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_B_01", 13.365, 0, 20.359, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_B_01", 0, -249, 0, "LINEAR", 0, 0)
  SetPosition("KUREMI_01", 16.254, -0.01, 20.555, "LINEAR", 0, 0)
  SetRotation("KUREMI_01", 0, -77.846, 0, "LINEAR", 0, 0)
  SetPosition("npc109aa010101_01", 11.608, -0.009, 21.042, "LINEAR", 0, 0)
  SetRotation("npc109aa010101_01", 0, 124, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "e013_01", 0, true, 0)
  SetStartFrame("HERO_01", "e013_01", 38, 0)
  SetFace("HERO_01", "F01", 0, 1, 0, 0)
  PlayMotion("TAKEMIYA_01", "fn01_01", 0, true, 0)
  SetFace("TAKEMIYA_01", "F01", 0, 1, 0, 0)
  PlayMotion("AEGIOMON_B_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_B_01", "F01", 0, 1, 0, 0)
  PlayMotion("KUREMI_01", "e012", 0, true, 0)
  SetFace("KUREMI_01", "F01", 0, 1, 0, 0)
  PlayMotion("npc109aa010101_01", "fn01_01", 0, true, 0)
  SetFace("npc109aa010101_01", "F01", 0, 1, 0, 0)
  PlayMotion("npc110aa010101_01", "fn01_01", 0, true, 0)
  SetFace("npc110aa010101_01", "F01", 0, 1, 0, 0)
  BlendEye("HERO_01", 15, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -20, -100, 10, true, "SCURVE", 0, 0)
  BlendEye("TAKEMIYA_01", 8, 27, "SCURVE", 0, 0)
  BlendFace("TAKEMIYA_01", 18, 60, 0, true, "SCURVE", 0, 0)
  BlendEye("KUREMI_01", 24, -44, "SCURVE", 0, 0)
  BlendFace("KUREMI_01", 0, -55, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_B_01", -10, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_B_01", -45, 1, 0, true, "SCURVE", 0, 0)
  BlendEye("npc109aa010101_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("npc109aa010101_01", 69, -31, 0, true, "SCURVE", 0, 0)
  BlendEye("npc110aa010101_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("npc110aa010101_01", 0, 0, 0, false, "SCURVE", 0, 0)
  SetCamera(8.883, 2.853, 18.489, 0, 37, "LINEAR", 0, false, 0)
  SetCameraTarget(14.795, 0.75, 20.649, "LINEAR", 0, false, 0)
  CameraOffsetMove(0, 0, 0.3, "LINEAR", true, true, 300, 0)
  ModelVisible("npc109aa010101_01", false, 0, 0)
  Event_PlayBGM(607, 0.3, 0)
  SetEnv_All("c0.5", 0)
  FIELD_SET()
  EVENT_START()
  CUT("0.5")
  FadeInWithWait(FADE_BLACK, 60)
  PlayMotionBlend("TAKEMIYA_01", "blend01", 0, false, 0)
  WaitFrame(120)
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  SetPosition("HERO_01", 14.462, 0, 21.265, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 218, 0, "LINEAR", 0, 0)
  ModelVisible("npc109aa010101_01", true, 0, 0)
  PlayMotion("TAKEMIYA_01", "e002", 0, true, 0)
  BlendEye("TAKEMIYA_01", 8, 1, "SCURVE", 10, 0)
  BlendFace("TAKEMIYA_01", 18, -1, 0, true, "SCURVE", 30, 0)
  BlendEye("KUREMI_01", 0, 0, "SCURVE", 20, 0)
  BlendFace("KUREMI_01", 0, 0, 0, true, "SCURVE", 45, 0)
  SetCamera(12.229, 1.216, 19.858, 0, 37, "LINEAR", 0, false, 0)
  SetCameraTarget(14.927, 1.121, 20.636, "LINEAR", 0, false, 0)
  WaitFrame(10)
  MessageTalk("m070_080_010")
  MessageClose()
  WaitFrame(10)
  PlayMotionBlend("HERO_01", "blend01", 0, false, 0)
  WaitFrame(30)
  MovePosition("npc109aa010101_01", 12.823, -0.009, 20.483, true, 2.5, 0)
  MoveRotation("npc109aa010101_01", 0, 124, 0, "LINEAR", 2.5, true, 0)
  WaitFrame(30)
  SetRotation("npc109aa010101_01", 8.5, 124, 0, "SCURVE", 5, 0)
  PlayMotion("npc109aa010101_01", "e009", 5, true, 5)
  SetFace("npc109aa010101_01", "F05", 0, 1, FACE_BLENDTIME, 0)
  SetFace("HERO_01", "F16", 0, 1, FACE_BLENDTIME, 0)
  SetFace("TAKEMIYA_01", "E16_M01", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 15, 14, "SCURVE", 10, 0)
  BlendFace("HERO_01", 21, 8, 0, true, "SCURVE", 15, 0)
  BlendEye("KUREMI_01", 0, 0, "SCURVE", 10, 0)
  BlendFace("KUREMI_01", 0, -19, 0, true, "SCURVE", 30, 0)
  BlendEye("TAKEMIYA_01", 32, 1, "SCURVE", 10, 0)
  BlendFace("TAKEMIYA_01", 19, -23, 0, true, "SCURVE", 30, 0)
  BlendEye("npc109aa010101_01", 0, 0, "SCURVE", 10, 0)
  BlendFace("npc109aa010101_01", 59, -37, 0, true, "SCURVE", 10, 0)
  BlendEye("AEGIOMON_B_01", 15, 0, "SCURVE", 10, 0)
  BlendFace("AEGIOMON_B_01", 47, 3, 0, true, "SCURVE", 10, 0)
  SetCamera(12.229, 1.156, 19.918, 0, 37, "SCURVE", 10, false, 0)
  SetCameraTarget(14.927, 1.061, 20.696, "SCURVE", 10, false, 0)
  MessageTalkAuto("m070_080_020", -1, true)
  PlayMotion("AEGIOMON_B_01", "e018", 5, true, 0)
  SetFace("AEGIOMON_B_01", "F05", 0, 1, FACE_BLENDTIME, 0)
  Event_StopBGM(0.3, 0)
  local SE_01 = Event_PlaySE(400007, 100, false, 0, 0)
  MESSAGE_WAIT()
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  BlendEye("npc109aa010101_01", 20, 0, "SCURVE", 0, 0)
  BlendFace("npc109aa010101_01", 45, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_B_01", 15, 0, "SCURVE", 10, 0)
  BlendFace("AEGIOMON_B_01", 88, -12, 0, true, "SCURVE", 0, 0)
  SetCamera(13.572, 0.601, 19.583, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(13.154, 1.092, 20.387, "LINEAR", 0, false, 0)
  WaitFrame(20)
  SetPosition("npc109aa010101_01", 12.822, -0.005, 20.483, "LINEAR", 20, 0)
  SetRotation("npc109aa010101_01", 0, 124, 0, "SCURVE", 30, 0)
  PlayMotion("npc109aa010101_01", "e015", 17, true, 0)
  BlendEye("npc109aa010101_01", 25, 0, "SCURVE", 20, 0)
  BlendFace("npc109aa010101_01", 20, 9, 0, true, "SCURVE", 20, 0)
  Vista.SetLipSyncEndFace("npc109aa010101_01", "F02", 0, 1, 10)
  MessageTalk("m070_080_030")
  MessageClose()
  WaitFrame(10)
  EndMotion("AEGIOMON_B_01", 0)
  SetFace("AEGIOMON_B_01", "E05_M01", 2, 1, FACE_BLENDTIME, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  SetCamera(13.572, 0.601, 19.583, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(13.154, 1.092, 20.387, "LINEAR", 0, false, 0)
  WaitFrame(10)
  SetRotation("AEGIOMON_B_01", 0, -355.5, 0, "SCURVE", 30, 0)
  BlendEye("AEGIOMON_B_01", -29, -20, "SCURVE", 10, 0)
  BlendFace("AEGIOMON_B_01", -42, -91, 90, true, "SCURVE", 30, 0)
  SetFace("AEGIOMON_B_01", "E05_M01", 0, 1, FACE_BLENDTIME, 0)
  WaitFrame(30)
  Vista.SetLipSyncEndFace("npc109aa010101_01", "E05_M06", 0, 1, 10)
  BlendEye("npc109aa010101_01", 25, 0, "SCURVE", 20, 0)
  BlendFace("npc109aa010101_01", 91, 9, 0, true, "SCURVE", 30, 0)
  BlendEye("npc109aa010101_01", -5, 0, "SCURVE", 10, 30)
  BlendFace("npc109aa010101_01", 61, 9, 0, true, "SCURVE", 30, 30)
  MessageTalk("m070_080_040")
  MessageClose()
  WaitFrame(20)
  BlendEye("npc109aa010101_01", 13, 0, "SCURVE", 10, 0)
  EndMotion("npc109aa010101_01", 0)
  SetFace("npc109aa010101_01", "F02", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m070_080_050")
  MessageClose()
  WaitFrame(10)
  Event_PlayBGM(119, 0.3, 0)
  if Debug.IsEventView() then
  else
    local BGM, SE = Field.GetCurrentMapDefaultBGM()
    Sound.PlayBGM(BGM, 0)
  end
  BlendEye("npc109aa010101_01", 0, 0, "SCURVE", 10, 30)
  BlendFace("npc109aa010101_01", 0, 0, 0, true, "SCURVE", 30, 30)
  BlendEye("AEGIOMON_B_01", 0, 0, "SCURVE", 20, 0)
  BlendFace("AEGIOMON_B_01", 0, 0, 0, true, "SCURVE", 30, 0)
  MovePosition("npc109aa010101_01", 12.632, -0.005, 16.167, true, 2, 0)
  MoveRotation("npc109aa010101_01", 0, 181.5, 0, "LINEAR", 2, true, 0)
  WaitFrame(10)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetRotation("HERO_01", 0, 212, 0, "LINEAR", 0, 0)
  SetRotation("TAKEMIYA_01", 0, -23.909, 0, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_B_01", 0, 212, 0, "LINEAR", ROTATION180, 0)
  BlendEye("TAKEMIYA_01", 32, 1, "SCURVE", 0, 0)
  BlendFace("TAKEMIYA_01", 19, -57, 0, true, "SCURVE", 0, 0)
  BlendEye("HERO_01", 32, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 27, 13, 0, true, "SCURVE", 0, 0)
  BlendEye("TAKEMIYA_01", 32, 1, "SCURVE", 0, 0)
  BlendFace("TAKEMIYA_01", 19, -57, 0, true, "SCURVE", 0, 0)
  SetFace("KUREMI_01", "F02", 0, 1, 0, 0)
  PlayMotion("AEGIOMON_B_01", "ft02_01", 2, false, 0)
  SetFace("AEGIOMON_B_01", "E05_M01", 0, 1, FACE_BLENDTIME, 0)
  SetCamera(11.468, 0.842, 19.83, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(14.607, 1.083, 20.507, "LINEAR", 0, false, 0)
  MessageTalk("m070_080_060")
  MessageClose()
  WaitFrame(10)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  ModelVisible("KUREMI_01", false, 0, 0)
  SetCamera(13.204, 1.599, 20.685, 0, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(14.6, 1.457, 21.281, "LINEAR", 0, false, 0)
  MessageTalkSel(3, "m070_080_070")
  result = Talk.GetResultSelectedNum()
  if result == RESULT_TALK00 then
    PlayMotion("HERO_01", "e002", 10, true, 0)
    SetFace("HERO_01", "E02_M01", 0, 0, FACE_BLENDTIME, 0)
    SetFace("HERO_01", "E02_M01", 0, 1, FACE_BLENDTIME, 45)
    WaitFrame(60)
  elseif result == RESULT_TALK01 then
    PlayMotionBlend("HERO_01", "blend03", 3, false, 0)
    SetFace("HERO_01", "E08_M01", 0, 0, FACE_BLENDTIME, 0)
    SetFace("HERO_01", "E08_M01", 0, 1, FACE_BLENDTIME, 45)
    WaitFrame(60)
  elseif result == RESULT_TALK02 then
    PlayMotionBlend("HERO_01", "blend01", 2, false, 0)
    SetFace("HERO_01", "E16_M01", 0, 0, FACE_BLENDTIME, 0)
    SetFace("HERO_01", "E16_M01", 0, 1, FACE_BLENDTIME, 45)
    WaitFrame(60)
  end
  ModelVisible("KUREMI_01", true, 0, 0)
  CUT("7.0")
  SetEnv_All("c7.0", 0)
  PlayMotion("TAKEMIYA_01", "e013", 3, true, 0)
  SetFace("TAKEMIYA_01", "E02_M01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotionBlend("TAKEMIYA_01", "blend03", 0, false, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("TAKEMIYA_01", 35, -5, "SCURVE", 15, 0)
  BlendFace("TAKEMIYA_01", 23, -52, 0, true, "SCURVE", 15, 0)
  SetCamera(11.47, 0.884, 19.803, 0, 27, "LINEAR", 0, false, 0)
  SetCameraTarget(14.61, 1.124, 20.48, "LINEAR", 0, false, 0)
  WaitFrame(10)
  MessageTalk("m070_080_080")
  MessageClose()
  WaitFrame(10)
  BlendEye("AEGIOMON_B_01", -7, 0, "SCURVE", 10, 0)
  BlendFace("AEGIOMON_B_01", -63, -100, 57, true, "SCURVE", 30, 0)
  MessageTalk("m070_080_090")
  MessageClose()
  WaitFrame(10)
  CUT("8.0")
  SetEnv_All("c8.0", 0)
  SetPosition("npc109aa010101_01", 11.01, 0, 17.702, "LINEAR", 0, 0)
  SetRotation("npc109aa010101_01", 0, 32.5, 0, "LINEAR", 0, 0)
  SetPosition("npc110aa010101_01", 11.806, 0, 16.381, "LINEAR", 0, 0)
  SetRotation("npc110aa010101_01", 0, 0, 0, "LINEAR", 0, 0)
  BlendEye("npc109aa010101_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("npc109aa010101_01", 35, 0, 0, true, "SCURVE", 0, 0)
  PlayMotion("npc110aa010101_01", "e014", 0, false, 0)
  PlayMotion("npc110aa010101_01", "fn01_01", 3, false, 74)
  SetFace("npc110aa010101_01", "F02", 2, 1, FACE_BLENDTIME, 0)
  SetFace("npc110aa010101_01", "F01", 0, 1, FACE_BLENDTIME, 74)
  PlayMotion("npc109aa010101_01", "e004", 3, true, 0)
  SetFace("npc109aa010101_01", "F02", 0, 0, FACE_BLENDTIME, 0)
  SetFace("npc109aa010101_01", "F02", 0, 1, FACE_BLENDTIME, 60)
  EndMotion("HERO_01", 0)
  SetCamera(10.974, 0.797, 19.491, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(11.315, 1.12, 17.193, "LINEAR", 0, false, 0)
  MessageTalk("m070_080_100")
  MessageClose()
  WaitFrame(10)
  CUT("9.0")
  SetEnv_All("c9.0", 0)
  SetCamera(11.47, 0.884, 19.803, 0, 27, "LINEAR", 0, false, 0)
  SetCameraTarget(14.61, 1.124, 20.48, "LINEAR", 0, false, 0)
  MessageTalk("m070_080_110")
  MessageClose()
  WaitFrame(10)
  PlayMotion("AEGIOMON_B_01", "fn01_01", 0, false, 0)
  PlayMotionBlend("AEGIOMON_B_01", "blend01", 0, false, 0)
  SetFace("AEGIOMON_B_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m070_080_120")
  MessageClose()
  BlendEye("HERO_01", 16, 0, "SCURVE", 10, 30)
  BlendFace("HERO_01", -18, 16, 0, true, "SCURVE", 20, 30)
  BlendEye("TAKEMIYA_01", 35, -35, "SCURVE", 10, 30)
  BlendFace("TAKEMIYA_01", 23, -85, 0, true, "SCURVE", 25, 30)
  BlendEye("KUREMI_01", 26, 0, "SCURVE", 10, 20)
  BlendFace("KUREMI_01", 0, -44, 0, true, "SCURVE", 20, 20)
  BlendEye("AEGIOMON_B_01", 0, 0, "SCURVE", 10, 0)
  BlendFace("AEGIOMON_B_01", 0, 0, 0, true, "SCURVE", 10, 0)
  SetFace("AEGIOMON_B_01", "F05", 0, 1, FACE_BLENDTIME, 0)
  MovePosition("AEGIOMON_B_01", 11.224, 0, 17.981, false, 2.5, 0)
  MoveRotation("AEGIOMON_B_01", 0, -138, 0, "LINEAR", 2.5, true, 0)
  MessageTalk("m070_080_130")
  MessageClose()
  WaitFrame(15)
  EndMotion("KUREMI_01", 0)
  CUT("10.0")
  SetEnv_All("c10.0", 0)
  ModelVisible("AEGIOMON_B_01", false, 0, 0)
  ModelVisible("npc109aa010101_01", false, 0, 0)
  ModelVisible("npc110aa010101_01", false, 0, 0)
  SetPosition("HERO_01", 15.244, 0, 22.807, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 194.5, 0, "LINEAR", 0, 0)
  SetPosition("TAKEMIYA_01", 14.444, -0.009, 21.052, "LINEAR", 0, 0)
  SetRotation("TAKEMIYA_01", 0, 31.5, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 14, 0, "SCURVE", 10, 0)
  BlendFace("HERO_01", -20, 0, 0, true, "SCURVE", 30, 0)
  BlendEye("TAKEMIYA_01", 0, 0, "SCURVE", 10, 0)
  BlendFace("TAKEMIYA_01", 0, -2, 0, true, "SCURVE", 25, 0)
  BlendEye("KUREMI_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("KUREMI_01", 0, 0, 0, true, "SCURVE", 0, 0)
  EndMotion("TAKEMIYA_01", 0)
  SetCamera(15.376, 1.536, 23.688, 0, 27, "LINEAR", 0, false, 0)
  SetCameraTarget(14.856, 1.481, 21.064, "LINEAR", 0, false, 0)
  WaitFrame(10)
  MessageTalk("m070_080_140")
  MessageClose()
  WaitFrame(10)
  PlayMotionBlend("HERO_01", "blend01", 3, false, 0)
  WaitFrame(30)
  PlayMotion("TAKEMIYA_01", "ft03_01", 3, false, 0)
  SetRotation("TAKEMIYA_01", 0, 91.591, 0, "SCURVE", ROTATION_FREE, 0)
  WaitFrame(40)
  MovePosition("TAKEMIYA_01", 15.118, -0.009, 21.052, false, 1, 0)
  SetCamera(13.407, 2.213, 30.04, 0, 40, "SCURVE", 100, false, 0)
  SetCameraTarget(14.605, 1.39, 20.855, "SCURVE", 100, false, 0)
  WaitFrame(60)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -0, -0, 0, true, "SCURVE", 25, 0)
  PlayMotion("TAKEMIYA_01", "e012", 3, true, 0)
  Fade_OutNoLoadingWithWait(0, 40)
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m070_080()
end
