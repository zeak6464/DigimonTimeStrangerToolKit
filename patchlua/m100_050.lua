require("include")

function m100_050()
  Fade_Out(1, 0)
  EVENT_BEGIN()
  Talk.Load("m100")
  SetEventCutNo(6)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2020_dbef_100")
    LoadModel("AEGIOMON_B_01", "char_AEGIOMON_PLAIN_CLOTHES")
    LoadMap("h0301")
  else
    LoadModel("AEGIOMON_B_01", "char_AEGIOMON")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("MINERVAMON_01", "char_MINERVAMON")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadSceneViewerResource("c1.0", "h0301f_za")
  LoadSceneViewerResource("c2.0", "h0301f_za")
  LoadSceneViewerResource("c3.0", "h0301f_za")
  LoadSceneViewerResource("c4.0", "h0301f_za")
  LoadSceneViewerResource("c5.0", "h0301f_za")
  LoadSceneViewerResource("c6.0", "h0301f_za")
  LoadEnvironmentFile("c1.0", "es_m100_050_c1.0")
  LoadEnvironmentFile("c2.0", "es_m100_050_c2.0")
  LoadEnvironmentFile("c3.0", "es_m100_050_c3.0")
  LoadEnvironmentFile("c4.0", "es_m100_050_c4.0")
  LoadEnvironmentFile("c5.0", "es_m100_050_c5.0")
  LoadEnvironmentFile("c6.0", "es_m100_050_c6.0")
  WaitVistaLoad()
  Event_PlayBGM(111, 0, 0)
  SetPosition("HERO_01", 6, 0, 80.083, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_B_01", 4.794, 0, 79.919, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_B_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("MINERVAMON_01", 6.819, 0, 80.542, "LINEAR", 0, 0)
  SetRotation("MINERVAMON_01", 0, 180, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 4.804, 0, 81.112, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 180, 0, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "e201", 0, true, 0)
  SetFace("HERO_01", "F16", 0, 1, 0, 0)
  PlayMotion("AEGIOMON_B_01", "e102", 0, true, 0)
  SetFace("AEGIOMON_B_01", "F01", 0, 1, 0, 0)
  PlayMotion("HEROINE_01", "e201", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, 0, 0)
  PlayMotion("MINERVAMON_01", "fn01_01", 0, true, 0)
  ChangeDigimonFace("MINERVAMON_01", EYE_EXPRESSION_NORMAL, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("AEGIOMON_B_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_B_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendFaceDigi("MINERVAMON_01", -16, -50, 0, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 0, 0)
  SetEnv_All("c1.0", 0)
  SetCamera(3.646, 6.698, 51.204, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(11.032, 15.207, 44.526, "LINEAR", 0, false, 0)
  FIELD_SET()
  EVENT_START()
  CUT("1.0")
  Fade_In(1, 60)
  WaitFrame(100)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(12.097, 9.37, 90.549, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(6.332, 1.43, 80.537, "LINEAR", 0, false, 0)
  SetCamera(12.097, 9.37, 90.549, 0, 25, "LINEAR", 100, false, 0)
  SetCameraTarget(6.332, 1.43, 80.537, "LINEAR", 100, false, 0)
  BlendFaceDigi("MINERVAMON_01", 0, 0, 0, "SCURVE", 50, 0)
  WaitFrame(100)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(6.925, 0.707, 76.818, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(5.665, 1.194, 81.004, "LINEAR", 0, false, 0)
  SetFace("AEGIOMON_B_01", "F16", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 36, 0)
  MessageTalk("m100_050_010")
  MessageClose()
  WaitFrame(10)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetCamera(7.532, 1.192, 79.242, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(6.829, 1.181, 80.499, "LINEAR", 0, false, 0)
  PlayMotion("MINERVAMON_01", "e031", 2, true, 0)
  PlayMotion("HERO_01", "e012", 0, true, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  MessageTalk("m100_050_020")
  MessageClose()
  WaitFrame(10)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetCamera(31.093, 2.3, -18.505, 0, 35, "LINEAR", 0, false, 0)
  SetCameraTarget(10.718, 0.567, -35.929, "LINEAR", 0, false, 0)
  SetCamera(32.032, 2.276, -19.601, 0, 35, "LINEAR", 300, true, 0)
  SetCameraTarget(11.657, 0.542, -37.025, "LINEAR", 300, true, 0)
  EndMotion("MINERVAMON_01", 0)
  MessageTalk("m100_050_030")
  MessageClose()
  WaitFrame(10)
  EndMotion("HERO_01", 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  ENDMOTION_WAIT("MINERVAMON_01", 0)
  PlayMotionBlend("MINERVAMON_01", "blend01", 0, false, 30)
  MessageTalk("m100_050_040")
  MessageClose()
  WaitFrame(20)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  SetCamera(5.908, 1.27, 80.601, 0, 35, "LINEAR", 0, false, 0, false)
  SetCameraTarget(4.491, 1.354, 81.139, "LINEAR", 0, false, 0, false)
  SetPosition("HERO_01", 6, 0, 80.083, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 315, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 4.804, 0, 81.112, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, 148, 0, "LINEAR", 0, 0)
  PlayMotion("HEROINE_01", "e031", 4, true, 0)
  SetFace("HEROINE_01", "F11", 0, 1, 0, 0)
  Vista.SetEnableLipSyncsAnimation("HEROINE_01", false)
  MessageTalk("m100_050_050")
  MessageClose()
  SetRotation("AEGIOMON_B_01", 0, 0, 0, "LINEAR", ROTATION180, 0)
  PlayMotion("AEGIOMON_B_01", "ft02_02", 0, false, 0)
  PlayMotion("AEGIOMON_B_01", "fn01_01", 0, true, 60)
  SetFace("AEGIOMON_B_01", "F15", 0, 1, 6, 0)
  BlendEye("AEGIOMON_B_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_B_01", -51, 0, 0, true, "SCURVE", 30, 0)
  SetCamera(6.919, 1.549, 80.038, 0, 35, "SCURVE_B", 85, false, 0, false)
  SetCameraTarget(4.491, 1.414, 80.692, "SCURVE_B", 85, false, 0, false)
  WaitFrame(85)
  MessageTalkSel(3, "m100_050_060")
  result = Talk.GetResultSelectedNum()
  if result == RESULT_TALK00 then
    PlayMotion("HERO_01", "e002", 4, true, 0)
    SetFace("HERO_01", "E03_M04", 0, 0, 6, 0)
    SetFace("HERO_01", "E03_M04", 0, 1, 6, 60)
    WaitFrame(70)
  elseif result == RESULT_TALK01 then
    PlayMotionForce("HERO_01", "e012", 4, true, 0)
    SetFace("HERO_01", "E07_M06", 0, 0, 6, 0)
    SetFace("HERO_01", "E07_M06", 0, 1, 6, 50)
    WaitFrame(60)
  elseif result == RESULT_TALK02 then
    PlayMotion("HERO_01", "e002", 4, true, 0)
    SetFace("HERO_01", "F02", 0, 0, 6, 0)
    SetFace("HERO_01", "F02", 0, 1, 6, 60)
    WaitFrame(70)
  end
  EndMotion("HEROINE_01", 0)
  SetFace("HEROINE_01", "E11_M02", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HEROINE_01", 0, -6, "SCURVE", 20, 0)
  BlendFace("HEROINE_01", 0, -10, 0, true, "SCURVE", 30, 0)
  Vista.SetEnableLipSyncsAnimation("HEROINE_01", true)
  MessageTalk("m100_050_070")
  WaitFrame(10)
  MessageTalk("m100_050_080")
  MessageClose()
  WaitFrame(10)
  PlayMotionBlend("HEROINE_01", "blend01", 0, false, 0)
  SetFace("HEROINE_01", "E16_M01", 2, 1, FACE_BLENDTIME, 0)
  SetBlink("HEROINE_01", 0, 0.5, 30)
  MessageTalk("m100_050_090")
  MessageClose()
  WaitFrame(10)
  PlayMotion("HEROINE_01", "e206", 4, true, 0)
  SetFace("HEROINE_01", "E16_M01", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 20, 0)
  MessageTalk("m100_050_110")
  MessageClose()
  WaitFrame(10)
  PlayMotionBlend("HERO_01", "blend01", 0, false, 0)
  WaitFrame(30)
  EndMotion("HERO_01", 20)
  SetPosition("HERO_01", 6, 0, 80.083, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 180, 0, "LINEAR", ROTATION180, 0)
  SetRotation("AEGIOMON_B_01", 0, 180, 0, "LINEAR", ROTATION180, 20)
  PlayMotion("HERO_01", "ft02_01", 0, false, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 60)
  PlayMotion("AEGIOMON_B_01", "ft02_02", 0, false, 20)
  PlayMotion("AEGIOMON_B_01", "fn01_01", 0, true, 80)
  SetFace("AEGIOMON_B_01", "F15", 0, 1, 6, 0)
  PlayMotion("HEROINE_01", "fn01_01", 14, true, 20)
  BlendEye("AEGIOMON_B_01", 0, 0, "SCURVE", 0, 20)
  BlendFace("AEGIOMON_B_01", 0, 0, 0, true, "SCURVE", 40, 20)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 10, 10)
  BlendFace("HEROINE_01", 0, 0, 0, true, "SCURVE", 30, 10)
  SetCamera(6, 1.582, 81.257, 0, 35, "SCURVE", 120, false, 0)
  SetCameraTarget(6, 1.411, 79.168, "SCURVE", 120, false, 0)
  WaitFrame(120)
  if Debug.IsEventView() then
    EVENT_END()
  else
    EVENT_END_SEAMLESS(60)
  end
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m100_050()
end
