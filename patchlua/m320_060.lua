require("include")

function m320_060()
  Fade_OutNoLoading(0, 0)
  EVENT_BEGIN()
  Event_StopBGM(1, 0)
  Talk.Load("m320")
  SetEventCutNo(5)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("P2028_daft_320")
    LoadMap("d0576b")
  end
  LoadModel("AEGIOMON_01", "char_AEGIOMON")
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("chr492_01", "char_CHARISMON")
  LoadModel("chr174_01", "char_MARSMON")
  LoadSceneViewerResource("c1.0", "d0576b_sa")
  LoadSceneViewerResource("c2.0", "d0576b_sa")
  LoadSceneViewerResource("c3.0", "d0576b_sa")
  LoadSceneViewerResource("c4.0", "d0576b_sa")
  LoadSceneViewerResource("c5.0", "d0576b_sa")
  LoadEnvironmentFile("c1.0", "es_m320_060_c1.0")
  LoadEnvironmentFile("c2.0", "es_m320_060_c2.0")
  LoadEnvironmentFile("c3.0", "es_m320_060_c3.0")
  LoadEnvironmentFile("c4.0", "es_m320_060_c4.0")
  LoadEnvironmentFile("c5.0", "es_m320_060_c5.0")
  WaitVistaLoad()
  Event_StopBGM(2, 0)
  SetPosition("AEGIOMON_01", 3.688, 0, -0.788, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_01", 0, -90, 0, "LINEAR", 0, 0)
  SetPosition("HERO_01", 4.595, 0, 0, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -120.5, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", 4.543, 0, -1.765, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -76.5, 0, "LINEAR", 0, 0)
  SetPosition("chr492_01", -4.004, 0, 1.012, "LINEAR", 0, 0)
  SetRotation("chr492_01", 0, 109, 0, "LINEAR", 0, 0)
  SetPosition("chr174_01", -5.522, 0.111, -4.405, "LINEAR", 0, 0)
  SetRotation("chr174_01", 0, -16, 0, "LINEAR", 0, 0)
  PlayMotion("AEGIOMON_01", "bn01", 0, true, 0)
  SetFace("AEGIOMON_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HERO_01", "e018", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("HEROINE_01", "e005_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr492_01", "e501", 0, true, 0)
  SetFace("chr492_01", "F01_M01", 0, 2, FACE_BLENDTIME, 0)
  PlayMotion("chr174_01", "bn01", 0, true, 0)
  SetFace("chr174_01", "F01_M04", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("AEGIOMON_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, 0, 0, false, "SCURVE", 0, 0)
  BlendFaceDigi("chr492_01", 2, 2, 0, "SCURVE", 0, 0)
  SetEyeUVOffsetDigi("chr174_01", 0, 0.027, "SCURVE", 0, 0)
  BlendFaceDigi("chr174_01", 7, 0, 0, "SCURVE", 0, 0)
  SetCamera(-4.88, 3.94, -2.636, -6, 36, "LINEAR", 0, false, 0, false)
  SetCameraTarget(-8.37, 0.4, 3.043, "LINEAR", 0, false, 0, false)
  SetCamera(-4.533, 4.303, -3.205, -6, 36, "SCURVE", 60, true, 10, false)
  SetCameraTarget(-8.372, 0.4, 3.043, "SCURVE", 60, true, 10, false)
  SetEnv_All("c1.0", 0)
  FIELD_SET()
  Field_InvisibleGimmick(FOR_ALL, INVISIBLE_KEY_EVENT, 0, false)
  ObjectInvisible(FOR_ALL)
  EVENT_START()
  CUT("1.0")
  WaitFrame(30)
  Fade_In(0, FADE_TIME)
  Event_PlaySE(400010, 100, false, 0, 0.4)
  WaitFrame(30)
  MovePosition("chr174_01", -6.09, 0.111, -1.541, false, 7, 0)
  MoveRotation("chr174_01", 0, -16, 0, "LINEAR", 7, true, 0)
  Event_PlaySE(400003, 100, false, 0, 0.5)
  WaitFrame(3)
  MovePosition("chr174_01", -6.101, 0.111, -1.823, false, 7, 0)
  MoveRotation("chr174_01", 0, -16, 0, "LINEAR", 7, true, 0)
  WaitFrame(10)
  MessageTalk("m320_060_010")
  MessageClose()
  WaitFrame(10)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(-6.713, 3.034, -0.695, -21, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-6.708, 1.856, 2.297, "LINEAR", 0, false, 0)
  Event_PlayBGM(304, 2, 0.5)
  WaitFrame(10)
  MessageTalk("m320_060_020")
  MessageTalk("m320_060_030")
  MessageClose()
  WaitFrame(10)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetPosition("chr174_01", -5.863, 0.012, -1.855, "LINEAR", 0, 0)
  SetRotation("chr174_01", 0, -1.5, 0, "LINEAR", 0, 0)
  PlayMotion("chr174_01", "fq02", 3, false, 0)
  PlayMotion("chr174_01", "bn01", 3, true, 60)
  SetFace("chr174_01", "F01_M04", 2, 1, FACE_BLENDTIME, 0)
  SetFace("chr174_01", "F01_M04", 0, 1, FACE_BLENDTIME, 30)
  SetEyeUVOffsetDigi("chr174_01", 0, 0.023, "SCURVE", 0, 0)
  BlendFaceDigi("chr174_01", 7, 0, 0, "SCURVE", 0, 0)
  SetCamera(-5.165, 2.913, -0.253, -6, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-6.193, 3.026, -2.409, "LINEAR", 0, false, 0)
  WaitFrame(10)
  MessageTalk("m320_060_040")
  MessageClose()
  WaitFrame(10)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetCamera(-2.936, 5.043, -5.315, -6, 25, "LINEAR", 0, false, 0)
  SetCameraTarget(-5.489, 2.335, 0.248, "LINEAR", 0, false, 0)
  CameraOffsetMove(0.3, 0, 0, "LINEAR", true, true, 300, 0)
  WaitFrame(10)
  MessageTalk("m320_060_050")
  MessageTalk("m320_060_060")
  MessageClose()
  WaitFrame(10)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetPosition("chr174_01", -5.613, 0.012, -1.855, "LINEAR", 0, 0)
  SetRotation("chr174_01", 0, -1.5, 0, "LINEAR", 0, 0)
  SetEyeUVOffsetDigi("chr174_01", 0, 0.027, "SCURVE", 0, 0)
  BlendFaceDigi("chr174_01", 14, -17, 0, "SCURVE", 0, 0)
  SetFace("chr174_01", "F01_M04", 0, 1, FACE_BLENDTIME, 0)
  SetCamera(-2.07, 5.666, 1.223, 0, 65, "LINEAR", 0, false, 0, false)
  SetCameraTarget(-6.655, -0.996, 0.528, "LINEAR", 0, false, 0, false)
  SetCamera(-0.132, 6.748, 1.521, 0, 65, "SCURVE", 500, true, 0, false)
  SetCameraTarget(-5.852, -1.562, 0.654, "SCURVE", 500, true, 0, false)
  WaitFrame(10)
  MessageTalk("m320_060_070")
  PlayMotion("chr492_01", "e501", 0, false, 0)
  SetFace("chr492_01", "F01", 2, 1, FACE_BLENDTIME, 0)
  PlayMotion("chr174_01", "e005", 3, true, 30)
  SetFace("chr174_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m320_060_080")
  MessageClose()
  WaitFrame(30)
  Event_StopBGM(3, 0)
  Sound.StopAmbientSE(4)
  Fade_OutNoLoadingWithWait(1, 60)
  WaitFrame(60)
  if Debug.IsEventView() then
    Event_StopBGM(0, 0)
  end
  EVENT_END()
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m320_060()
end
