require("include")

function m100_010()
  Fade_Out(0, 0)
  EVENT_BEGIN()
  Talk.Load("m100")
  SetEventCutNo(14)
  if Debug.IsEventView() then
    SetTimeZone("Noon")
    SetTimeAxis("A2020_dbef_100")
    LoadMap("t0403")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("HEROINE_01", "char_HEROINE")
  LoadModel("DIGI_MINERVAMON_01", "char_MINERVAMON")
  LoadModel("AEGIOMON_B_01", "char_AEGIOMON_PLAIN_CLOTHES")
  Vista.BindSpeaker("AEGIOMON_B_01", "char_AEGIOMON")
  Vista.BindSpeaker("DIGI_MINERVAMON_01", "char_MINERVAMON")
  LoadSceneViewerResource("c1.0", "t0403f_pa")
  LoadSceneViewerResource("c2.0", "t0403f_pa")
  LoadSceneViewerResource("c3.0", "t0403f_pa")
  LoadSceneViewerResource("c4.0", "t0403f_pa")
  LoadSceneViewerResource("c5.0", "t0403f_pa")
  LoadSceneViewerResource("c6.0", "t0403f_pa")
  LoadSceneViewerResource("c7.0", "t0403f_pa")
  LoadSceneViewerResource("c8.0", "t0403f_pa")
  LoadSceneViewerResource("c9.0", "m100_010_c9.0")
  LoadSceneViewerResource("c10.0", "t0403f_pa")
  LoadSceneViewerResource("c10.0_A1", "t0403f_pa")
  LoadSceneViewerResource("c10.0_B1", "t0403f_pa")
  LoadSceneViewerResource("c10.0_C1", "t0403f_pa")
  LoadSceneViewerResource("c11.0", "t0403f_pa")
  LoadEnvironmentFile("c1.0", "es_m100_010_c1.0")
  LoadEnvironmentFile("c2.0", "es_m100_010_c2.0")
  LoadEnvironmentFile("c3.0", "es_m100_010_c3.0")
  LoadEnvironmentFile("c4.0", "es_m100_010_c4.0")
  LoadEnvironmentFile("c5.0", "es_m100_010_c5.0")
  LoadEnvironmentFile("c6.0", "es_m100_010_c6.0")
  LoadEnvironmentFile("c7.0", "es_m100_010_c7.0")
  LoadEnvironmentFile("c8.0", "es_m100_010_c8.0")
  LoadEnvironmentFile("c9.0", "es_m100_010_c9.0")
  LoadEnvironmentFile("c10.0", "es_m100_010_c10.0")
  LoadEnvironmentFile("c10.0_A1", "es_m100_010_c10.0_A1")
  LoadEnvironmentFile("c10.0_B1", "es_m100_010_c10.0_B1")
  LoadEnvironmentFile("c10.0_C1", "es_m100_010_c10.0_C1")
  LoadEnvironmentFile("c11.0", "es_m100_010_c11.0")
  WaitVistaLoad()
  SetPosition("HERO_01", 1.369, 0, 0.626, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -90, 0, "LINEAR", 0, 0)
  SetScale("HERO_01", 1, 1, 1)
  SetPosition("HEROINE_01", -0.9, 0, 0.503, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -233.5, 0, "LINEAR", 0, 0)
  SetScale("HEROINE_01", 1, 1, 1)
  SetPosition("DIGI_MINERVAMON_01", -0.88, 0, -0.206, "LINEAR", 0, 0)
  SetRotation("DIGI_MINERVAMON_01", 0, 90, 0, "LINEAR", 0, 0)
  SetScale("DIGI_MINERVAMON_01", 0.73, 0.73, 0.73)
  SetPosition("AEGIOMON_B_01", 0.07, 0, -0.206, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_B_01", 0, -85, 0, "LINEAR", 0, 0)
  SetScale("AEGIOMON_B_01", 1, 1, 1)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F01", 0, 1, 0, 0)
  PlayMotion("HEROINE_01", "fn01_01", 0, true, 0)
  SetFace("HEROINE_01", "F01", 0, 1, 0, 0)
  PlayMotion("DIGI_MINERVAMON_01", "e023", 0, true, 0)
  SetFace("DIGI_MINERVAMON_01", "F01_M01", 0, 1, 0, 0)
  PlayMotion("AEGIOMON_B_01", "fn01_01", 0, true, 0)
  SetFace("AEGIOMON_B_01", "F01", 0, 1, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 0, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 38, 0, 0, true, "SCURVE", 0, 0)
  BlendFaceDigi("DIGI_MINERVAMON_01", 0, 0, 0, "LINEAR", 0, 0)
  BlendEye("AEGIOMON_B_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_B_01", -23, 0, 0, true, "SCURVE", 0, 0)
  SetCamera(0.957, 1.168, 0.682, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.414, 1.147, -0.066, "LINEAR", 0, false, 0)
  SetEnv_All("c1.0", 0)
  Event_Stop_Play_BGM(940, 0.3, 0, 0.3, 0.3)
  FIELD_SET()
  NpcInvisible(FOR_ALL)
  EVENT_START()
  CUT("1.0")
  Fade_In(0, FADE_TIME)
  WaitFrame(FADE_TIME)
  MessageTalk("m100_010_010")
  MessageClose()
  WaitFrame(10)
  EndMotion("DIGI_MINERVAMON_01", 0)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(-0.704, 1.035, 0.168, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.051, 1.035, -0.201, "LINEAR", 0, false, 0)
  SetPosition("AEGIOMON_B_01", 0.008, 0, -0.206, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_B_01", 0, -85, 0, "LINEAR", 0, 0)
  ModelVisible("DIGI_MINERVAMON_01", false, 0, 0)
  PlayMotionBlend("AEGIOMON_B_01", "blend01", 0, false, 0)
  MessageTalk("m100_010_020")
  MessageClose()
  WaitFrame(4)
  SetFace("AEGIOMON_B_01", "E11_M01", 0, 1, 6, 10)
  BlendEye("AEGIOMON_B_01", 20, 0, "SCURVE", 4, 10)
  BlendFace("AEGIOMON_B_01", 36, 0, 0, true, "SCURVE", 30, 0)
  WaitFrame(26)
  MessageTalk("m100_010_030")
  MessageClose()
  WaitFrame(10)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(0.206, 1.247, 0.386, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.827, 1.234, -0.24, "LINEAR", 0, false, 0)
  ModelVisible("DIGI_MINERVAMON_01", true, 0, 0)
  SetFace("AEGIOMON_B_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("DIGI_MINERVAMON_01", "e008", 0, true, 0)
  BlendEye("AEGIOMON_B_01", 0, 0, "SCURVE", 6, 10)
  BlendFace("AEGIOMON_B_01", -23, 0, 0, false, "SCURVE", 36, 0)
  MessageTalk("m100_010_040")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m100_010_050")
  MessageClose()
  WaitFrame(5)
  BlendFaceDigi("DIGI_MINERVAMON_01", -14, 0, 0, "SCURVE", 20, 0)
  WaitFrame(30)
  EndMotion("DIGI_MINERVAMON_01", 0)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  SetCamera(-2.896, 1.37, 0.592, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.349, 1.185, 0.082, "LINEAR", 0, false, 0)
  SetPosition("HERO_01", 0.815, 0, 0.48, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, -90, 0, "LINEAR", 0, 0)
  SetPosition("HEROINE_01", -0.9, 0, 0.893, "LINEAR", 0, 0)
  SetRotation("HEROINE_01", 0, -233.5, 0, "LINEAR", 0, 0)
  SetPosition("DIGI_MINERVAMON_01", -0.88, 0, -0.286, "LINEAR", 0, 0)
  SetRotation("DIGI_MINERVAMON_01", 0, 82, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_B_01", 0.149, 0, -0.026, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_B_01", 0, -85, 0, "LINEAR", 0, 0)
  BlendEye("HERO_01", 15, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 42, -40, 0, true, "SCURVE", 0, 0)
  BlendFaceDigi("DIGI_MINERVAMON_01", 0, 0, 0, "LINEAR", 0, 0)
  SetPosition("AEGIOMON_B_01", 0.149, 0, -0.026, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_B_01", 0, 30, 0, "LINEAR", 47, 0)
  PlayMotion("AEGIOMON_B_01", "ft01_02", 3, false, 2)
  BlendEye("AEGIOMON_B_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_B_01", -60, 40, 0, true, "SCURVE", 28, 0)
  WaitFrame(30)
  MessageTalk("m100_010_060")
  MessageClose()
  WaitFrame(10)
  PlayMotionBlend("AEGIOMON_B_01", "blend05", 0, false, 0)
  MessageTalk("m100_010_070")
  MessageClose()
  WaitFrame(10)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  SetCamera(0.533, 1.029, 0.972, 0, 20, "LINEAR", 0, false, 0)
  SetCameraTarget(0.198, 1.048, 0.023, "LINEAR", 0, false, 0)
  SetFace("AEGIOMON_B_01", "E16_M01", 0, 1, 0, 0)
  BlendEye("AEGIOMON_B_01", -10, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_B_01", -41, 33, -20, true, "SCURVE", 0, 0)
  PlayMotionBlend("AEGIOMON_B_01", "blend01", 0, false, 0)
  MessageTalk("m100_010_080")
  MessageClose()
  WaitFrame(10)
  BlendEye("AEGIOMON_B_01", 20, 0, "SCURVE", 16, 0)
  BlendFace("AEGIOMON_B_01", 44, 9, 0, true, "SCURVE", 34, 0)
  WaitFrame(20)
  SetFace("AEGIOMON_B_01", "E04_M01", 0, 2, 6, 0)
  MessageTalk("m100_010_090")
  MessageClose()
  WaitFrame(10)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  SetCamera(-1.263, 1.715, 1.773, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.371, 1.231, 0.216, "LINEAR", 0, false, 0)
  MessageTalk("m100_010_100")
  MessageClose()
  WaitFrame(10)
  CUT("7.0")
  SetEnv_All("c7.0", 0)
  SetCamera(0.519, 0.964, 0.613, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.232, 1.044, -0.184, "LINEAR", 0, false, 0)
  PlayMotionBlend("DIGI_MINERVAMON_01", "blend01", 0, false, 0)
  MessageTalk("m100_010_110")
  MessageClose()
  WaitFrame(10)
  PlayMotion("AEGIOMON_B_01", "ft03_01", 0, false, 0)
  PlayMotion("AEGIOMON_B_01", "fn01_01", 5, true, 60)
  BlendEye("AEGIOMON_B_01", 0, 0, "SCURVE", 20, 0)
  BlendFace("AEGIOMON_B_01", -28, 0, 0, false, "SCURVE", 20, 0)
  SetFace("AEGIOMON_B_01", "E16_M04", 0, 1, 4, 0)
  MoveRotation("AEGIOMON_B_01", 0, -90, 0, "LINEAR", 0.5, true, 0)
  MessageTalk("m100_010_120")
  MessageClose()
  WaitFrame(10)
  PlayMotion("DIGI_MINERVAMON_01", "e033", 5, true, 0)
  MessageTalk("m100_010_125")
  MessageClose()
  WaitFrame(12)
  EndMotion("DIGI_MINERVAMON_01", 50)
  MessageTalk("m100_010_130")
  MessageClose()
  WaitFrame(10)
  ENDMOTION_WAIT("DIGI_MINERVAMON_01", 0)
  PlayMotion("AEGIOMON_B_01", "e504", 5, true, 0)
  PlayMotionBlend("AEGIOMON_B_01", "blend01", 0, false, 20)
  SetFace("AEGIOMON_B_01", "F02", 2, 2, 6, 0)
  WaitFrame(8)
  MessageTalk("m100_010_140")
  MessageClose()
  WaitFrame(10)
  SetFace("AEGIOMON_B_01", "F02", 0, 2, 6, 0)
  MOTION_WAIT("AEGIOMON_B_01", 0, 0)
  CUT("8.0")
  SetEnv_All("c8.0", 0)
  SetCamera(0.58, 1.762, 1.413, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(0.229, 1, -0.026, "LINEAR", 0, false, 0)
  SetPosition("AEGIOMON_B_01", 0.149, 0, -0.026, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_B_01", 0, 35, 0, "SCURVE", 20, 0)
  PlayMotion("AEGIOMON_B_01", "ft03_01", 0, false, 0)
  SetFace("AEGIOMON_B_01", "F02", 0, 1, 0, 0)
  BlendEye("AEGIOMON_B_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_B_01", -60, 25, 0, false, "SCURVE", 20, 0)
  MessageTalk("m100_010_150")
  MessageClose()
  WaitFrame(8)
  MessageTalk("m100_010_160")
  MessageClose()
  WaitFrame(10)
  CUT("9.0")
  SetEnv_All("c9.0", 0)
  SetCamera(0.038, 1.458, 1.085, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-0.941, 1.454, 0.872, "LINEAR", 0, false, 0)
  BlendEye("HEROINE_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HEROINE_01", 0, -22, 0, false, "SCURVE", 0, 0)
  PlayMotion("HEROINE_01", "e002", 0, true, 0)
  MessageTalk("m100_010_170")
  MessageClose()
  WaitFrame(10)
  CUT("10.0")
  SetEnv_All("c10.0", 0)
  SetCamera(0.289, 1.069, 1.04, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.167, 0.979, 0.014, "LINEAR", 0, false, 0)
  SetPosition("AEGIOMON_B_01", 0.149, 0, -0.026, "LINEAR", 0, 0)
  SetRotation("AEGIOMON_B_01", 0, 35, 0, "LINEAR", 0, 0)
  PlayMotion("AEGIOMON_B_01", "e032", 0, true, 0)
  BlendEye("AEGIOMON_B_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("AEGIOMON_B_01", -30, 0, 0, true, "SCURVE", 0, 0)
  MessageTalk("m100_010_180")
  MessageClose()
  WaitFrame(10)
  PlayMotion("AEGIOMON_B_01", "e021", 6, true, 0)
  SetStartFrame("AEGIOMON_B_01", "e021", 10, 0)
  BlendEye("AEGIOMON_B_01", 0, -45, "SCURVE", 6, 40)
  BlendFace("AEGIOMON_B_01", 0, -65, 57, true, "SCURVE", 35, 30)
  MessageTalk("m100_010_190")
  MessageClose()
  WaitFrame(20)
  correct = false
  while not Vista.IsSkipping() and not correct do
    SetEnv_All("c10.0", 0)
    SetCamera(-0.157, 1.461, 0.967, 0, 40, "LINEAR", 0, false, 0)
    SetCameraTarget(0.772, 1.423, 0.433, "LINEAR", 0, false, 0)
    PlayMotion("HERO_01", "fn01_01", 0, true, 0)
    SetFace("HERO_01", "F01", 0, 1, 0, 0)
    BlendEye("HERO_01", 15, 0, "SCURVE", 0, 0)
    BlendFace("HERO_01", 15, 12, 0, true, "SCURVE", 0, 0)
    MessageTalkSel(3, "m100_010_200")
    result = Talk.GetResultSelectedNum()
    if result == RESULT_TALK00 then
      WaitFrame(5)
      SetFace("HERO_01", "F15", 0, 0, FACE_BLENDTIME, 0)
      SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 50)
      PlayMotionBlend("HERO_01", "blend01", 0, false, 0)
      WaitFrame(60)
      CUT("10.0_A1")
      SetEnv_All("c10.0_A1", 0)
      SetCamera(0.58, 1.762, 1.413, 0, 40, "LINEAR", 0, false, 0)
      SetCameraTarget(0.229, 1, -0.026, "LINEAR", 0, false, 0)
      SetPosition("HERO_01", 0.815, 0, 0.48, "LINEAR", 0, 0)
      SetRotation("HERO_01", 0, -90, 0, "LINEAR", 0, 0)
      PlayMotion("AEGIOMON_B_01", "e002", 0, true, 0)
      SetFace("AEGIOMON_B_01", "F02", 0, 1, 0, 0)
      BlendEye("HERO_01", 15, 0, "SCURVE", 0, 0)
      BlendFace("HERO_01", 42, -40, 0, true, "SCURVE", 0, 0)
      BlendEye("AEGIOMON_B_01", 0, 0, "SCURVE", 0, 0)
      BlendFace("AEGIOMON_B_01", -60, 30, 0, true, "SCURVE", 0, 0)
      WaitFrame(10)
      MessageTalk("m100_010_210")
      MessageClose()
      WaitFrame(10)
      BlendEye("AEGIOMON_B_01", 0, -40, "SCURVE", 10, 20)
      BlendFace("AEGIOMON_B_01", -42, -50, 48, true, "SCURVE", 30, 20)
      MessageTalk("m100_010_220")
      MessageClose()
      PlayMotion("DIGI_MINERVAMON_01", "e012", 5, true, 0)
      SetFace("DIGI_MINERVAMON_01", "F01_M02", 0, 1, FACE_BLENDTIME, 0)
      WaitFrame(30)
      correct = true
    elseif result == RESULT_TALK01 then
      WaitFrame(5)
      PlayMotion("HERO_01", "e023", 4, true, 0)
      SetFace("HERO_01", "F01", 0, 0, FACE_BLENDTIME, 0)
      SetFace("HERO_01", "F01", 0, 1, FACE_BLENDTIME, 50)
      WaitFrame(60)
      CUT("10.0_B1")
      SetEnv_All("c10.0_B1", 0)
      SetCamera(0.289, 1.069, 1.04, 0, 30, "LINEAR", 0, false, 0)
      SetCameraTarget(0.167, 0.979, 0.014, "LINEAR", 0, false, 0)
      PlayMotion("AEGIOMON_B_01", "e008", 0, true, 0)
      SetFace("AEGIOMON_B_01", "E07_M01", 0, 1, 0, 0)
      BlendEye("AEGIOMON_B_01", 0, 0, "SCURVE", 0, 0)
      BlendFace("AEGIOMON_B_01", 21, 10, -3, false, "SCURVE", 0, 0)
      MessageTalk("m100_010_230")
      MessageClose()
      WaitFrame(10)
    elseif result == RESULT_TALK02 then
      WaitFrame(5)
      PlayMotion("HERO_01", "e032", 4, true, 0)
      SetFace("HERO_01", "F15", 0, 0, FACE_BLENDTIME, 0)
      SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 50)
      WaitFrame(60)
      CUT("10.0_C1")
      SetEnv_All("c10.0_C1", 0)
      SetCamera(0.289, 1.069, 1.04, 0, 30, "LINEAR", 0, false, 0)
      SetCameraTarget(0.167, 0.979, 0.014, "LINEAR", 0, false, 0)
      PlayMotion("AEGIOMON_B_01", "e008", 0, false, 0)
      SetFace("AEGIOMON_B_01", "E07_M01", 0, 1, 0, 0)
      BlendEye("AEGIOMON_B_01", 0, 0, "SCURVE", 0, 0)
      BlendFace("AEGIOMON_B_01", 21, 10, -3, false, "SCURVE", 0, 0)
      MessageTalk("m100_010_240")
      MessageClose()
      WaitFrame(10)
    end
  end
  CUT("11.0")
  SetEnv_All("c11.0", 0)
  SetCamera(-0.157, 1.461, 0.967, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(0.772, 1.423, 0.433, "LINEAR", 0, false, 0)
  SetFace("HERO_01", "F01", 0, 1, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 4, 0)
  BlendFace("HERO_01", 0, 0, 0, true, "SCURVE", 30, 0)
  Event_StopBGM(1.5, 0)
  WaitFrame(60)
  if Debug.IsEventView() then
    EVENT_END()
  else
    EVENT_END_SEAMLESS(60)
  end
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m100_010()
end
