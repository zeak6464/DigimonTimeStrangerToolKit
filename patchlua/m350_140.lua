require("include")

function m350_140()
  Fade_OutNoLoadingWithWait(1, 0)
  EVENT_BEGIN()
  Talk.Load("m350")
  SetEventCutNo(10)
  if Debug.IsEventView() then
    SetTimeZone("Night")
    SetTimeAxis("A2028_daft_350")
    LoadMap("t3001")
  end
  LoadModel("HERO_01", "Player")
  LoadModel("MIREI_01", "char_MIREI_CHILD")
  LoadEffectScript("ef_e_com_270_01", "ef_e_com_270")
  Load_DigiviceHologram()
  Load_Relief()
  LoadSceneViewerResource("c1.0", "t3001f_pn")
  LoadSceneViewerResource("c2.0", "t3001f_pn")
  LoadSceneViewerResource("c3.0", "t3001f_pn")
  LoadSceneViewerResource("c4.0", "t3001f_pn")
  LoadSceneViewerResource("c5.0", "t3001f_pn")
  LoadSceneViewerResource("c6.0", "t3001f_pn")
  LoadSceneViewerResource("c7.0", "t3001f_pn")
  LoadSceneViewerResource("c8.0", "t3001f_pn")
  LoadSceneViewerResource("c9.0", "t3001f_pn")
  LoadSceneViewerResource("c10.0", "t3001f_pn")
  LoadEnvironmentFile("c1.0", "es_m350_140_c1.0")
  LoadEnvironmentFile("c2.0", "es_m350_140_c2.0")
  LoadEnvironmentFile("c3.0", "es_m350_140_c3.0")
  LoadEnvironmentFile("c4.0", "es_m350_140_c4.0")
  LoadEnvironmentFile("c5.0", "es_m350_140_c5.0")
  LoadEnvironmentFile("c6.0", "es_m350_140_c6.0")
  LoadEnvironmentFile("c7.0", "es_m350_140_c7.0")
  LoadEnvironmentFile("c8.0", "es_m350_140_c8.0")
  LoadEnvironmentFile("c9.0", "es_m350_140_c9.0")
  LoadEnvironmentFile("c10.0", "es_m350_140_c10.0")
  WaitVistaLoad()
  Set_DigiviceHologram()
  SetPosition("HERO_01", -1.028, 0, -9.346, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 175, 0, "LINEAR", 0, 0)
  SetPosition("MIREI_01", -1.99, 0, -8.802, "LINEAR", 0, 0)
  SetRotation("MIREI_01", 0, 120, 0, "LINEAR", 0, 0)
  SetPosition("ef_e_com_270_01", 0, 12.57, -24.85, "LINEAR", 0, 0)
  SetRotation("ef_e_com_270_01", 0, 0, -130.96, "LINEAR", 0, 0)
  PlayMotion("HERO_01", "fn01_01", 0, true, 0)
  SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  PlayMotion("MIREI_01", "fn01_01", 0, true, 0)
  SetFace("MIREI_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", -48, 0, 0, false, "SCURVE", 0, 0)
  BlendEye("MIREI_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("MIREI_01", -39, 0, 0, false, "SCURVE", 0, 0)
  SetPosition_Relief()
  PlayMotion_Relief()
  ModelVisible("t3001jewel05_01", false, 0, 0)
  ModelVisible("t3001reliefparts05_01", false, 0, 0)
  ModelVisible("t3001digi05_01", false, 0, 0)
  ModelVisible("t3001jewel06_01", false, 0, 0)
  ModelVisible("t3001reliefparts06_01", false, 0, 0)
  ModelVisible("t3001digi06_01", false, 0, 0)
  ModelVisible("t3001jewel07_01", false, 0, 0)
  ModelVisible("t3001reliefparts07_01", false, 0, 0)
  ModelVisible("t3001digi07_01", false, 0, 0)
  ModelVisible("t3001jewel08_01", false, 0, 0)
  ModelVisible("t3001reliefparts08_01", false, 0, 0)
  ModelVisible("t3001digi08_01", false, 0, 0)
  ModelVisible("t3001jewel09_01", false, 0, 0)
  ModelVisible("t3001reliefparts09_01", false, 0, 0)
  ModelVisible("t3001digi09_01", false, 0, 0)
  ModelVisible("t3001jewel10_01", false, 0, 0)
  ModelVisible("t3001reliefparts10_01", false, 0, 0)
  ModelVisible("t3001digi10_01", false, 0, 0)
  ModelVisible("t3001digi11_01", false, 0, 0)
  ModelVisible("t3001jewel11_01", false, 0, 0)
  ModelVisible("t3001jewel12_01", false, 0, 0)
  ModelVisible("t3001digi12_01", false, 0, 0)
  SetCamera(0, 11.54, -19.347, 0, 40, "LINEAR", 0, false, 0, false)
  SetCameraTarget(0, 15.363, -34.035, "LINEAR", 0, false, 0, false)
  SetCamera(0, 11.227, -18.145, 0, 40, "SCURVE", 90, false, 0, false)
  SetCameraTarget(0, 15.363, -34.035, "SCURVE", 90, false, 0, false)
  ModelVisible("MIREI_01", false, 0, 0)
  Event_PlayBGM(114, 0, 0)
  FIELD_SET()
  EVENT_START()
  NpcInvisible(FOR_ALL)
  CUT("1.0")
  SetEnv_All("c1.0", 0)
  Fade_In(1, 60)
  WaitFrame(50)
  ModelVisible("t3001jewel05_01", true, 0, 0)
  PlayMotion("t3001jewel05_01", "e001", 0, false, 0)
  PlayEffect("ef_e_com_270_01", false, 0)
  Event_PlaySE(401045, 100, false, 0, 0)
  Event_PlaySE(401046, 100, false, 0, 1.6)
  SetCamera(0, 11, -18.764, 0, 40, "LINEAR", 1, false, 48, false)
  SetCameraTarget(0, 15, -34.13, "LINEAR", 1, false, 48, false)
  SetCamera(0, 10.858, -18.22, 0, 40, "LINEAR", 2, false, 49, false)
  SetCameraTarget(0, 15, -34.13, "LINEAR", 2, false, 49, false)
  SetCamera(0, 11.54, -19.347, 0, 40, "LINEAR", 1, false, 48, false)
  SetCameraTarget(0, 15.363, -34.035, "LINEAR", 1, false, 48, false)
  SetCamera(0, 11.371, -18.7, 0, 40, "SCURVE", 1, false, 49, false)
  SetCameraTarget(0, 15.363, -34.035, "SCURVE", 1, false, 49, false)
  CtrVibration(1, 0, 3, 48)
  CtrVibration(0, 0, 0, 51)
  WaitFrame(80)
  CUT("1.5")
  SetCamera(2.026, 7.666, -20.821, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(3.504, 9.245, -24.975, "LINEAR", 0, false, 0)
  SetCamera(1.944, 7.578, -20.59, 0, 40, "LINEAR", 130, false, 0)
  SetCameraTarget(3.504, 9.245, -24.975, "LINEAR", 130, false, 0)
  local slot_01 = Event_PlaySE(200018, 100, false, 0, 0)
  ModelVisible("t3001reliefparts05_01", true, 0, 0)
  PlayMotion("t3001reliefparts05_01", "e001", 0, false, 0)
  PlayMotion("t3001reliefparts05_01", "e002", 0, true, 24)
  WaitFrame(30)
  Event_PlaySE(401047, 100, false, 0, 0)
  ModelVisible("t3001digi05_01", true, 0, 0)
  PlayMotion("t3001digi05_01", "e001", 0, false, 0)
  Event_Quake_Start(3, 3, 10, 25)
  WaitFrame(90)
  CUT("2.0")
  SetEnv_All("c2.0", 0)
  SetCamera(0.498, 8.84, -10.924, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(0.059, 10.77, -25.24, "LINEAR", 0, false, 0)
  SetCamera(0.605, 8.55, -7.422, 0, 30, "SCURVE", 130, true, 0)
  SetCameraTarget(0.059, 10.77, -25.24, "SCURVE", 130, true, 0)
  WaitFrame(180)
  CUT("3.0")
  SetEnv_All("c3.0", 0)
  SetCamera(0.182, 1.646, -5.73, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(0.145, 3.708, -11.239, "LINEAR", 0, false, 0)
  SetCamera(0.182, 0.306, -5.73, 0, 40, "LINEAR", 120, true, 0)
  SetCameraTarget(0.145, 2.368, -11.239, "LINEAR", 120, true, 0)
  WaitFrame(130)
  CUT("4.0")
  SetEnv_All("c4.0", 0)
  ModelVisible("MIREI_01", true, 0, 0)
  SetPosition("HERO_01", -1.028, 0, -8.232, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 171.5, 0, "LINEAR", 0, 0)
  SetScale("HERO_01", 1, 1, 1)
  SetPosition("MIREI_01", -2.314, 0, -6.484, "LINEAR", 0, 0)
  SetRotation("MIREI_01", 0, 143, 0, "LINEAR", 0, 0)
  BlendEye("MIREI_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("MIREI_01", -39, 0, 0, false, "SCURVE", 0, 0)
  SetCamera(-0.26, 1.66, -8.463, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-1.31, 1.33, -7.93, "LINEAR", 0, false, 0)
  PlayMotion("MIREI_01", "fw01_01", 0, true, 0)
  SetPosition("MIREI_01", -1.833, 0, -7.123, "DECEL", 45, 0)
  Event_PlaySE(210028, 100, false, 0, 0.3)
  Event_PlaySE(210028, 100, false, 0, 0.9)
  WaitFrame(43)
  BlendEye("MIREI_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("MIREI_01", -39, 0, 0, false, "SCURVE", 0, 10)
  PlayMotion("HERO_01", "ft02_02", 5, false, 10)
  PlayMotion("HERO_01", "fn01_01", 3, true, 70)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 25, 0, 0, false, "SCURVE", 30, 10)
  SetRotation("HERO_01", 0, 325, 0, "LINEAR", ROTATION180, 10)
  PlayMotion("MIREI_01", "fn01_01", 10, true, 0)
  SetFace("MIREI_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  PlayMotionBlend("MIREI_01", "blend01", 3, false, 0)
  MessageTalk("m350_140_010")
  MessageTalk("m350_140_020")
  PlayMotion("MIREI_01", "e002", 5, true, 0)
  SetFace("MIREI_01", "F01", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m350_140_040")
  MessageClose()
  WaitFrame(10)
  Fade_OutNoLoadingWithWait(FADE_BLACK, FADE_TIME)
  WaitFrame(30)
  CUT("5.0")
  SetEnv_All("c5.0", 0)
  ModelVisible("MIREI_01", false, 0, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 0, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 0, 0)
  SetPosition("HERO_01", -1.173, 0, -3.41, "LINEAR", 0, 0)
  SetRotation("HERO_01", 0, 0, 0, "LINEAR", 0, 0)
  SetCamera(-0.58, 1.359, 0.864, 0, 40, "LINEAR", 0, false, 0)
  SetCameraTarget(-1.147, 1.428, 0.364, "LINEAR", 0, false, 0)
  MovePosition("HERO_01", -1.173, 0, 0.1, false, 1.2, 0)
  MoveRotation("HERO_01", 0, 0, 0, "LINEAR", 1.2, true, 0)
  Fade_In(0, FADE_TIME)
  Event_StopBGM(1, 2.4)
  local slot_id = Event_PlaySE(402007, 70, false, 0, 2.4)
  SetFace("HERO_01", "E16_M07", 2, 1, FACE_BLENDTIME, 72)
  SetFace("HERO_01", "E16_M07", 0, 1, FACE_BLENDTIME, 75)
  BlendEye("HERO_01", 30, 38, "SCURVE", 30, 72)
  BlendFace("HERO_01", 30, 35, 0, false, "SCURVE", 30, 72)
  MOVE_WAIT("HERO_01")
  WaitFrame(15)
  CUT("6.0")
  SetEnv_All("c6.0", 0)
  SetFace("HERO_01", "E01_M15", 0, 1, FACE_BLENDTIME, 0)
  BlendEye("HERO_01", 39, 0, "SCURVE", 30, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 30, 0)
  PlayMotion("HERO_01", "e200", 5, true, 0)
  WaitFrame(15)
  BlendFace("Horo_AGENT", -50, 0, 0, true, "SCURVE", 0, 0)
  Vista.AttachModelToModel("ATCdigivice00_01", "Horo_AGENT", "holo")
  Vista.SetModelAlpha("Horo_AGENT", 0.7)
  Vista.SetModelPhantom("Horo_AGENT", 0.3, 0.9, 1)
  Vista.SetAttachModelScale("Horo_AGENT", 0.2)
  Vista.SetAttachModelPos("Horo_AGENT", 0, -0.8, -0.5)
  Vista.SetAttachModelRot("Horo_AGENT", -30, 0, 0)
  ModelVisible("ATCdigivice00_01", true, 0, 0)
  PlayMotion("ATCdigivice00_01", "e200", 0, true, 0)
  SetLoopFrame("ATCdigivice00_01", "e200", 100, 200)
  WaitFrame(55)
  Event_PlaySE(401052, 100, false, 0, 0)
  WaitFrame(25)
  MessageTalk("m350_140_050")
  MessageClose()
  WaitFrame(10)
  Vista.AttachEffectToModel("Horo_Effect", "ATCdigivice00_01", "holo")
  PlayEffect("Horo_Effect", true, 0)
  ModelVisible("Horo_AGENT", true, 0, 0)
  Vista.PlayDissolve("Horo_AGENT", 401)
  WaitFrame(40)
  BlendFace("Horo_AGENT", 30, 0, 0, true, "SCURVE", 45, 0)
  MessageTalk("m350_140_060")
  MessageClose()
  WaitFrame(10)
  BlendFace("Horo_AGENT", -50, 0, 0, true, "SCURVE", 60, 0)
  WaitFrame(10)
  PlayMotion("Horo_AGENT", "e002", 8, true, 0)
  Event_PlayBGM(319, 0.5, 0)
  SetFace("HERO_01", "F16", 0, 1, FACE_BLENDTIME, 70)
  MessageTalk("m350_140_070")
  SetFace("HERO_01", "F15", 0, 1, FACE_BLENDTIME, 0)
  MessageTalk("m350_140_080")
  MessageClose()
  WaitFrame(10)
  CUT("7.0")
  SetEnv_All("c7.0", 0)
  ModelVisible("MIREI_01", false, 0, 0)
  SetCamera(-0.676, 1.602, -0.143, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-1.092, 1.399, 0.323, "LINEAR", 0, false, 0)
  PlayMotion("Horo_AGENT", "e005_01", 8, true, 0)
  MessageTalk("m350_140_090")
  MessageClose()
  WaitFrame(10)
  EndMotion("Horo_AGENT", 0)
  MessageTalk("m350_140_100")
  PlayMotion("Horo_AGENT", "e002", 5, true, 0)
  MessageTalk("m350_140_110")
  MessageClose()
  WaitFrame(10)
  CUT("8.0")
  SetEnv_All("c8.0", 0)
  SetCamera(1.836, 1.239, -1.581, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-1.248, 1.184, 0.243, "LINEAR", 0, false, 0)
  SetCamera(2.939, 1.259, -2.233, 0, 30, "LINEAR", 240, true, 0)
  SetCameraTarget(-1.248, 1.184, 0.243, "LINEAR", 240, true, 0)
  WaitFrame(30)
  MessageTalk("m350_140_120")
  MessageClose()
  WaitFrame(10)
  MessageTalk("m350_140_130")
  MessageClose()
  WaitFrame(10)
  CUT("9.0")
  SetEnv_All("c9.0", 0)
  SetFace("HERO_01", "F11", 0, 1, FACE_BLENDTIME, 0)
  SetCamera(-0.34, 1.323, 1.113, 0, 30, "LINEAR", 0, false, 0)
  SetCameraTarget(-1.32, 1.394, 0.332, "LINEAR", 0, false, 0)
  MessageTalk("m350_140_140")
  MessageClose()
  WaitFrame(10)
  Event_StopBGM(3, 0)
  Vista.PlayDissolve("Horo_AGENT", 402)
  WaitFrame(30)
  ModelVisible("Horo_Effect", false, 15, 0)
  SetFace("HERO_01", "E11_M07", 2, 1, FACE_BLENDTIME, 20)
  BlendEye("HERO_01", 20, 0, "SCURVE", 30, 0)
  BlendFace("HERO_01", 20, 0, 0, false, "SCURVE", 30, 0)
  WaitFrame(60)
  BlendEye("HERO_01", 0, 0, "SCURVE", 30, 0)
  BlendFace("HERO_01", 0, 0, 0, false, "SCURVE", 30, 0)
  SetFace("HERO_01", "E15_M07", 0, 1, 7, 0)
  WaitFrame(40)
  BlendEye("HERO_01", 20, 0, "SCURVE", 30, 0)
  BlendEye("HERO_01", 0, 0, "SCURVE", 30, 80)
  EndMotion("HERO_01", 0)
  EndMotion("ATCdigivice00_01", 0)
  WaitFrame(10)
  Event_PlaySE(401052, 100, false, 0, 0)
  ENDMOTION_WAIT("HERO_01", 0)
  ModelVisible("ATCdigivice00_01", false, 0, 0)
  WaitFrame(30)
  CUT("10.0")
  SetEnv_All("c10.0", 0)
  SetCamera(-1.274, 1.483, -3.044, 0, 42, "SCURVE", 90, false, 0)
  SetCameraTarget(-1.39, 1.54, 0.245, "SCURVE", 90, false, 0)
  WaitFrame(90)
  if Debug.IsEventView() then
    EVENT_END()
  else
    if Vista.IsSkipping() then
      Fade_In(0, 30)
    end
    EVENT_END_SEAMLESS(60)
  end
end

function CUT(cut_no)
  CUT_START(cut_no)
end

function main()
  m350_140()
end
